(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(t,e,n){t.exports=function(){"use strict";var t=navigator.userAgent,e=navigator.platform,n=/gecko\/\d/i.test(t),o=/MSIE \d/.test(t),r=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),i=/Edge\/(\d+)/.exec(t),a=o||r||i,s=a&&(o?document.documentMode||6:+(i||r)[1]),l=!i&&/WebKit\//.test(t),u=l&&/Qt\/\d+\.\d+/.test(t),c=!i&&/Chrome\//.test(t),h=/Opera\//.test(t),d=/Apple Computer/.test(navigator.vendor),f=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),p=/PhantomJS/.test(t),g=!i&&/AppleWebKit/.test(t)&&/Mobile\/\w+/.test(t),v=/Android/.test(t),m=g||v||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),y=g||/Mac/.test(e),w=/\bCrOS\b/.test(t),b=/win/i.test(e),C=h&&t.match(/Version\/(\d*\.\d*)/);C&&(C=Number(C[1])),C&&C>=15&&(h=!1,l=!0);var k=y&&(u||h&&(null==C||C<12.11)),S=n||a&&s>=9;function x(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var T,O=function(t,e){var n=t.className,o=x(e).exec(n);if(o){var r=n.slice(o.index+o[0].length);t.className=n.slice(0,o.index)+(r?o[1]+r:"")}};function R(t){for(var e=t.childNodes.length;e>0;--e)t.removeChild(t.firstChild);return t}function E(t,e){return R(t).appendChild(e)}function M(t,e,n,o){var r=document.createElement(t);if(n&&(r.className=n),o&&(r.style.cssText=o),"string"==typeof e)r.appendChild(document.createTextNode(e));else if(e)for(var i=0;i<e.length;++i)r.appendChild(e[i]);return r}function _(t,e,n,o){var r=M(t,e,n,o);return r.setAttribute("role","presentation"),r}function A(t,e){if(3==e.nodeType&&(e=e.parentNode),t.contains)return t.contains(e);do{if(11==e.nodeType&&(e=e.host),e==t)return!0}while(e=e.parentNode)}function P(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function H(t,e){var n=t.className;x(e).test(n)||(t.className+=(n?" ":"")+e)}function L(t,e){for(var n=t.split(" "),o=0;o<n.length;o++)n[o]&&!x(n[o]).test(e)&&(e+=" "+n[o]);return e}T=document.createRange?function(t,e,n,o){var r=document.createRange();return r.setEnd(o||t,n),r.setStart(t,e),r}:function(t,e,n){var o=document.body.createTextRange();try{o.moveToElementText(t.parentNode)}catch(t){return o}return o.collapse(!0),o.moveEnd("character",n),o.moveStart("character",e),o};var D=function(t){t.select()};function N(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e)}}function I(t,e,n){for(var o in e||(e={}),t)!t.hasOwnProperty(o)||!1===n&&e.hasOwnProperty(o)||(e[o]=t[o]);return e}function W(t,e,n,o,r){null==e&&-1==(e=t.search(/[^\s\u00a0]/))&&(e=t.length);for(var i=o||0,a=r||0;;){var s=t.indexOf("\t",i);if(s<0||s>=e)return a+(e-i);a+=s-i,a+=n-a%n,i=s+1}}g?D=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:a&&(D=function(t){try{t.select()}catch(t){}});var F=function(){this.id=null};function B(t,e){for(var n=0;n<t.length;++n)if(t[n]==e)return n;return-1}F.prototype.set=function(t,e){clearTimeout(this.id),this.id=setTimeout(e,t)};var z=30,V={toString:function(){return"CodeMirror.Pass"}},j={scroll:!1},U={origin:"*mouse"},Y={origin:"+move"};function K(t,e,n){for(var o=0,r=0;;){var i=t.indexOf("\t",o);-1==i&&(i=t.length);var a=i-o;if(i==t.length||r+a>=e)return o+Math.min(a,e-r);if(r+=i-o,o=i+1,(r+=n-r%n)>=e)return o}}var G=[""];function X(t){for(;G.length<=t;)G.push(q(G)+" ");return G[t]}function q(t){return t[t.length-1]}function Q(t,e){for(var n=[],o=0;o<t.length;o++)n[o]=e(t[o],o);return n}function J(){}function $(t,e){var n;return Object.create?n=Object.create(t):(J.prototype=t,n=new J),e&&I(e,n),n}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(t){return/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Z.test(t))}function et(t,e){return e?!!(e.source.indexOf("\\w")>-1&&tt(t))||e.test(t):tt(t)}function nt(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e])return!1;return!0}var ot=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function rt(t){return t.charCodeAt(0)>=768&&ot.test(t)}function it(t,e,n){for(;(n<0?e>0:e<t.length)&&rt(t.charAt(e));)e+=n;return e}function at(t,e,n){for(var o=e>n?-1:1;;){if(e==n)return e;var r=(e+n)/2,i=o<0?Math.ceil(r):Math.floor(r);if(i==e)return t(i)?e:n;t(i)?n=i:e=i+o}}var st=null;function lt(t,e,n){var o;st=null;for(var r=0;r<t.length;++r){var i=t[r];if(i.from<e&&i.to>e)return r;i.to==e&&(i.from!=i.to&&"before"==n?o=r:st=r),i.from==e&&(i.from!=i.to&&"before"!=n?o=r:st=r)}return null!=o?o:st}var ut=function(){var t=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,e=/[stwN]/,n=/[LRr]/,o=/[Lb1n]/,r=/[1n]/;function i(t,e,n){this.level=t,this.from=e,this.to=n}return function(a,s){var l,u="ltr"==s?"L":"R";if(0==a.length||"ltr"==s&&!t.test(a))return!1;for(var c=a.length,h=[],d=0;d<c;++d)h.push((l=a.charCodeAt(d))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(l):1424<=l&&l<=1524?"R":1536<=l&&l<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(l-1536):1774<=l&&l<=2220?"r":8192<=l&&l<=8203?"w":8204==l?"b":"L");for(var f=0,p=u;f<c;++f){var g=h[f];"m"==g?h[f]=p:p=g}for(var v=0,m=u;v<c;++v){var y=h[v];"1"==y&&"r"==m?h[v]="n":n.test(y)&&(m=y,"r"==y&&(h[v]="R"))}for(var w=1,b=h[0];w<c-1;++w){var C=h[w];"+"==C&&"1"==b&&"1"==h[w+1]?h[w]="1":","!=C||b!=h[w+1]||"1"!=b&&"n"!=b||(h[w]=b),b=C}for(var k=0;k<c;++k){var S=h[k];if(","==S)h[k]="N";else if("%"==S){var x=void 0;for(x=k+1;x<c&&"%"==h[x];++x);for(var T=k&&"!"==h[k-1]||x<c&&"1"==h[x]?"1":"N",O=k;O<x;++O)h[O]=T;k=x-1}}for(var R=0,E=u;R<c;++R){var M=h[R];"L"==E&&"1"==M?h[R]="L":n.test(M)&&(E=M)}for(var _=0;_<c;++_)if(e.test(h[_])){var A=void 0;for(A=_+1;A<c&&e.test(h[A]);++A);for(var P="L"==(_?h[_-1]:u),H=P==("L"==(A<c?h[A]:u))?P?"L":"R":u,L=_;L<A;++L)h[L]=H;_=A-1}for(var D,N=[],I=0;I<c;)if(o.test(h[I])){var W=I;for(++I;I<c&&o.test(h[I]);++I);N.push(new i(0,W,I))}else{var F=I,B=N.length;for(++I;I<c&&"L"!=h[I];++I);for(var z=F;z<I;)if(r.test(h[z])){F<z&&N.splice(B,0,new i(1,F,z));var V=z;for(++z;z<I&&r.test(h[z]);++z);N.splice(B,0,new i(2,V,z)),F=z}else++z;F<I&&N.splice(B,0,new i(1,F,I))}return"ltr"==s&&(1==N[0].level&&(D=a.match(/^\s+/))&&(N[0].from=D[0].length,N.unshift(new i(0,0,D[0].length))),1==q(N).level&&(D=a.match(/\s+$/))&&(q(N).to-=D[0].length,N.push(new i(0,c-D[0].length,c)))),"rtl"==s?N.reverse():N}}();function ct(t,e){var n=t.order;return null==n&&(n=t.order=ut(t.text,e)),n}var ht=[],dt=function(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent)t.attachEvent("on"+e,n);else{var o=t._handlers||(t._handlers={});o[e]=(o[e]||ht).concat(n)}};function ft(t,e){return t._handlers&&t._handlers[e]||ht}function pt(t,e,n){if(t.removeEventListener)t.removeEventListener(e,n,!1);else if(t.detachEvent)t.detachEvent("on"+e,n);else{var o=t._handlers,r=o&&o[e];if(r){var i=B(r,n);i>-1&&(o[e]=r.slice(0,i).concat(r.slice(i+1)))}}}function gt(t,e){var n=ft(t,e);if(n.length)for(var o=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,o)}function vt(t,e,n){return"string"==typeof e&&(e={type:e,preventDefault:function(){this.defaultPrevented=!0}}),gt(t,n||e.type,t,e),kt(e)||e.codemirrorIgnore}function mt(t){var e=t._handlers&&t._handlers.cursorActivity;if(e)for(var n=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),o=0;o<e.length;++o)-1==B(n,e[o])&&n.push(e[o])}function yt(t,e){return ft(t,e).length>0}function wt(t){t.prototype.on=function(t,e){dt(this,t,e)},t.prototype.off=function(t,e){pt(this,t,e)}}function bt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Ct(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function kt(t){return null!=t.defaultPrevented?t.defaultPrevented:0==t.returnValue}function St(t){bt(t),Ct(t)}function xt(t){return t.target||t.srcElement}function Tt(t){var e=t.which;return null==e&&(1&t.button?e=1:2&t.button?e=3:4&t.button&&(e=2)),y&&t.ctrlKey&&1==e&&(e=3),e}var Ot,Rt,Et=function(){if(a&&s<9)return!1;var t=M("div");return"draggable"in t||"dragDrop"in t}();function Mt(t){if(null==Ot){var e=M("span","​");E(t,M("span",[e,document.createTextNode("x")])),0!=t.firstChild.offsetHeight&&(Ot=e.offsetWidth<=1&&e.offsetHeight>2&&!(a&&s<8))}var n=Ot?M("span","​"):M("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function _t(t){if(null!=Rt)return Rt;var e=E(t,document.createTextNode("AخA")),n=T(e,0,1).getBoundingClientRect(),o=T(e,1,2).getBoundingClientRect();return R(t),!(!n||n.left==n.right)&&(Rt=o.right-n.right<3)}var At,Pt=3!="\n\nb".split(/\n/).length?function(t){for(var e=0,n=[],o=t.length;e<=o;){var r=t.indexOf("\n",e);-1==r&&(r=t.length);var i=t.slice(e,"\r"==t.charAt(r-1)?r-1:r),a=i.indexOf("\r");-1!=a?(n.push(i.slice(0,a)),e+=a+1):(n.push(i),e=r+1)}return n}:function(t){return t.split(/\r\n?|\n/)},Ht=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch(t){return!1}}:function(t){var e;try{e=t.ownerDocument.selection.createRange()}catch(t){}return!(!e||e.parentElement()!=t)&&0!=e.compareEndPoints("StartToEnd",e)},Lt="oncopy"in(At=M("div"))||(At.setAttribute("oncopy","return;"),"function"==typeof At.oncopy),Dt=null,Nt={},It={};function Wt(t){if("string"==typeof t&&It.hasOwnProperty(t))t=It[t];else if(t&&"string"==typeof t.name&&It.hasOwnProperty(t.name)){var e=It[t.name];"string"==typeof e&&(e={name:e}),(t=$(e,t)).name=e.name}else{if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return Wt("application/xml");if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return Wt("application/json")}return"string"==typeof t?{name:t}:t||{name:"null"}}function Ft(t,e){e=Wt(e);var n=Nt[e.name];if(!n)return Ft(t,"text/plain");var o=n(t,e);if(Bt.hasOwnProperty(e.name)){var r=Bt[e.name];for(var i in r)r.hasOwnProperty(i)&&(o.hasOwnProperty(i)&&(o["_"+i]=o[i]),o[i]=r[i])}if(o.name=e.name,e.helperType&&(o.helperType=e.helperType),e.modeProps)for(var a in e.modeProps)o[a]=e.modeProps[a];return o}var Bt={};function zt(t,e){I(e,Bt.hasOwnProperty(t)?Bt[t]:Bt[t]={})}function Vt(t,e){if(!0===e)return e;if(t.copyState)return t.copyState(e);var n={};for(var o in e){var r=e[o];r instanceof Array&&(r=r.concat([])),n[o]=r}return n}function jt(t,e){for(var n;t.innerMode&&(n=t.innerMode(e))&&n.mode!=t;)e=n.state,t=n.mode;return n||{mode:t,state:e}}function Ut(t,e,n){return!t.startState||t.startState(e,n)}var Yt=function(t,e,n){this.pos=this.start=0,this.string=t,this.tabSize=e||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=n};function Kt(t,e){if((e-=t.first)<0||e>=t.size)throw new Error("There is no line "+(e+t.first)+" in the document.");for(var n=t;!n.lines;)for(var o=0;;++o){var r=n.children[o],i=r.chunkSize();if(e<i){n=r;break}e-=i}return n.lines[e]}function Gt(t,e,n){var o=[],r=e.line;return t.iter(e.line,n.line+1,function(t){var i=t.text;r==n.line&&(i=i.slice(0,n.ch)),r==e.line&&(i=i.slice(e.ch)),o.push(i),++r}),o}function Xt(t,e,n){var o=[];return t.iter(e,n,function(t){o.push(t.text)}),o}function qt(t,e){var n=e-t.height;if(n)for(var o=t;o;o=o.parent)o.height+=n}function Qt(t){if(null==t.parent)return null;for(var e=t.parent,n=B(e.lines,t),o=e.parent;o;e=o,o=o.parent)for(var r=0;o.children[r]!=e;++r)n+=o.children[r].chunkSize();return n+e.first}function Jt(t,e){var n=t.first;t:do{for(var o=0;o<t.children.length;++o){var r=t.children[o],i=r.height;if(e<i){t=r;continue t}e-=i,n+=r.chunkSize()}return n}while(!t.lines);for(var a=0;a<t.lines.length;++a){var s=t.lines[a].height;if(e<s)break;e-=s}return n+a}function $t(t,e){return e>=t.first&&e<t.first+t.size}function Zt(t,e){return String(t.lineNumberFormatter(e+t.firstLineNumber))}function te(t,e,n){if(void 0===n&&(n=null),!(this instanceof te))return new te(t,e,n);this.line=t,this.ch=e,this.sticky=n}function ee(t,e){return t.line-e.line||t.ch-e.ch}function ne(t,e){return t.sticky==e.sticky&&0==ee(t,e)}function oe(t){return te(t.line,t.ch)}function re(t,e){return ee(t,e)<0?e:t}function ie(t,e){return ee(t,e)<0?t:e}function ae(t,e){return Math.max(t.first,Math.min(e,t.first+t.size-1))}function se(t,e){if(e.line<t.first)return te(t.first,0);var n=t.first+t.size-1;return e.line>n?te(n,Kt(t,n).text.length):function(t,e){var n=t.ch;return null==n||n>e?te(t.line,e):n<0?te(t.line,0):t}(e,Kt(t,e.line).text.length)}function le(t,e){for(var n=[],o=0;o<e.length;o++)n[o]=se(t,e[o]);return n}Yt.prototype.eol=function(){return this.pos>=this.string.length},Yt.prototype.sol=function(){return this.pos==this.lineStart},Yt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Yt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Yt.prototype.eat=function(t){var e=this.string.charAt(this.pos);if("string"==typeof t?e==t:e&&(t.test?t.test(e):t(e)))return++this.pos,e},Yt.prototype.eatWhile=function(t){for(var e=this.pos;this.eat(t););return this.pos>e},Yt.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Yt.prototype.skipToEnd=function(){this.pos=this.string.length},Yt.prototype.skipTo=function(t){var e=this.string.indexOf(t,this.pos);if(e>-1)return this.pos=e,!0},Yt.prototype.backUp=function(t){this.pos-=t},Yt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=W(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?W(this.string,this.lineStart,this.tabSize):0)},Yt.prototype.indentation=function(){return W(this.string,null,this.tabSize)-(this.lineStart?W(this.string,this.lineStart,this.tabSize):0)},Yt.prototype.match=function(t,e,n){if("string"!=typeof t){var o=this.string.slice(this.pos).match(t);return o&&o.index>0?null:(o&&!1!==e&&(this.pos+=o[0].length),o)}var r=function(t){return n?t.toLowerCase():t};if(r(this.string.substr(this.pos,t.length))==r(t))return!1!==e&&(this.pos+=t.length),!0},Yt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Yt.prototype.hideFirstChars=function(t,e){this.lineStart+=t;try{return e()}finally{this.lineStart-=t}},Yt.prototype.lookAhead=function(t){var e=this.lineOracle;return e&&e.lookAhead(t)},Yt.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};var ue=function(t,e){this.state=t,this.lookAhead=e},ce=function(t,e,n,o){this.state=e,this.doc=t,this.line=n,this.maxLookAhead=o||0,this.baseTokens=null,this.baseTokenPos=1};function he(t,e,n,o){var r=[t.state.modeGen],i={};be(t,e.text,t.doc.mode,n,function(t,e){return r.push(t,e)},i,o);for(var a=n.state,s=function(o){n.baseTokens=r;var s=t.state.overlays[o],l=1,u=0;n.state=!0,be(t,e.text,s.mode,n,function(t,e){for(var n=l;u<t;){var o=r[l];o>t&&r.splice(l,1,t,r[l+1],o),l+=2,u=Math.min(t,o)}if(e)if(s.opaque)r.splice(n,l-n,t,"overlay "+e),l=n+2;else for(;n<l;n+=2){var i=r[n+1];r[n+1]=(i?i+" ":"")+"overlay "+e}},i),n.state=a,n.baseTokens=null,n.baseTokenPos=1},l=0;l<t.state.overlays.length;++l)s(l);return{styles:r,classes:i.bgClass||i.textClass?i:null}}function de(t,e,n){if(!e.styles||e.styles[0]!=t.state.modeGen){var o=fe(t,Qt(e)),r=e.text.length>t.options.maxHighlightLength&&Vt(t.doc.mode,o.state),i=he(t,e,o);r&&(o.state=r),e.stateAfter=o.save(!r),e.styles=i.styles,i.classes?e.styleClasses=i.classes:e.styleClasses&&(e.styleClasses=null),n===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return e.styles}function fe(t,e,n){var o=t.doc,r=t.display;if(!o.mode.startState)return new ce(o,!0,e);var i=function(t,e,n){for(var o,r,i=t.doc,a=n?-1:e-(t.doc.mode.innerMode?1e3:100),s=e;s>a;--s){if(s<=i.first)return i.first;var l=Kt(i,s-1),u=l.stateAfter;if(u&&(!n||s+(u instanceof ue?u.lookAhead:0)<=i.modeFrontier))return s;var c=W(l.text,null,t.options.tabSize);(null==r||o>c)&&(r=s-1,o=c)}return r}(t,e,n),a=i>o.first&&Kt(o,i-1).stateAfter,s=a?ce.fromSaved(o,a,i):new ce(o,Ut(o.mode),i);return o.iter(i,e,function(n){pe(t,n.text,s);var o=s.line;n.stateAfter=o==e-1||o%5==0||o>=r.viewFrom&&o<r.viewTo?s.save():null,s.nextLine()}),n&&(o.modeFrontier=s.line),s}function pe(t,e,n,o){var r=t.doc.mode,i=new Yt(e,t.options.tabSize,n);for(i.start=i.pos=o||0,""==e&&ge(r,n.state);!i.eol();)ve(r,i,n.state),i.start=i.pos}function ge(t,e){if(t.blankLine)return t.blankLine(e);if(t.innerMode){var n=jt(t,e);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function ve(t,e,n,o){for(var r=0;r<10;r++){o&&(o[0]=jt(t,n).mode);var i=t.token(e,n);if(e.pos>e.start)return i}throw new Error("Mode "+t.name+" failed to advance stream.")}ce.prototype.lookAhead=function(t){var e=this.doc.getLine(this.line+t);return null!=e&&t>this.maxLookAhead&&(this.maxLookAhead=t),e},ce.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var e=this.baseTokens[this.baseTokenPos+1];return{type:e&&e.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},ce.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ce.fromSaved=function(t,e,n){return e instanceof ue?new ce(t,Vt(t.mode,e.state),n,e.lookAhead):new ce(t,Vt(t.mode,e),n)},ce.prototype.save=function(t){var e=!1!==t?Vt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ue(e,this.maxLookAhead):e};var me=function(t,e,n){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=e||null,this.state=n};function ye(t,e,n,o){var r,i,a=t.doc,s=a.mode,l=Kt(a,(e=se(a,e)).line),u=fe(t,e.line,n),c=new Yt(l.text,t.options.tabSize,u);for(o&&(i=[]);(o||c.pos<e.ch)&&!c.eol();)c.start=c.pos,r=ve(s,c,u.state),o&&i.push(new me(c,r,Vt(a.mode,u.state)));return o?i:new me(c,r,u.state)}function we(t,e){if(t)for(;;){var n=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;t=t.slice(0,n.index)+t.slice(n.index+n[0].length);var o=n[1]?"bgClass":"textClass";null==e[o]?e[o]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(e[o])||(e[o]+=" "+n[2])}return t}function be(t,e,n,o,r,i,a){var s=n.flattenSpans;null==s&&(s=t.options.flattenSpans);var l,u=0,c=null,h=new Yt(e,t.options.tabSize,o),d=t.options.addModeClass&&[null];for(""==e&&we(ge(n,o.state),i);!h.eol();){if(h.pos>t.options.maxHighlightLength?(s=!1,a&&pe(t,e,o,h.pos),h.pos=e.length,l=null):l=we(ve(n,h,o.state,d),i),d){var f=d[0].name;f&&(l="m-"+(l?f+" "+l:f))}if(!s||c!=l){for(;u<h.start;)r(u=Math.min(h.start,u+5e3),c);c=l}h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5e3);r(p,c),u=p}}var Ce=!1,ke=!1;function Se(t,e,n){this.marker=t,this.from=e,this.to=n}function xe(t,e){if(t)for(var n=0;n<t.length;++n){var o=t[n];if(o.marker==e)return o}}function Te(t,e){for(var n,o=0;o<t.length;++o)t[o]!=e&&(n||(n=[])).push(t[o]);return n}function Oe(t,e){if(e.full)return null;var n=$t(t,e.from.line)&&Kt(t,e.from.line).markedSpans,o=$t(t,e.to.line)&&Kt(t,e.to.line).markedSpans;if(!n&&!o)return null;var r=e.from.ch,i=e.to.ch,a=0==ee(e.from,e.to),s=function(t,e,n){var o;if(t)for(var r=0;r<t.length;++r){var i=t[r],a=i.marker;if(null==i.from||(a.inclusiveLeft?i.from<=e:i.from<e)||i.from==e&&"bookmark"==a.type&&(!n||!i.marker.insertLeft)){var s=null==i.to||(a.inclusiveRight?i.to>=e:i.to>e);(o||(o=[])).push(new Se(a,i.from,s?null:i.to))}}return o}(n,r,a),l=function(t,e,n){var o;if(t)for(var r=0;r<t.length;++r){var i=t[r],a=i.marker;if(null==i.to||(a.inclusiveRight?i.to>=e:i.to>e)||i.from==e&&"bookmark"==a.type&&(!n||i.marker.insertLeft)){var s=null==i.from||(a.inclusiveLeft?i.from<=e:i.from<e);(o||(o=[])).push(new Se(a,s?null:i.from-e,null==i.to?null:i.to-e))}}return o}(o,i,a),u=1==e.text.length,c=q(e.text).length+(u?r:0);if(s)for(var h=0;h<s.length;++h){var d=s[h];if(null==d.to){var f=xe(l,d.marker);f?u&&(d.to=null==f.to?null:f.to+c):d.to=r}}if(l)for(var p=0;p<l.length;++p){var g=l[p];if(null!=g.to&&(g.to+=c),null==g.from)xe(s,g.marker)||(g.from=c,u&&(s||(s=[])).push(g));else g.from+=c,u&&(s||(s=[])).push(g)}s&&(s=Re(s)),l&&l!=s&&(l=Re(l));var v=[s];if(!u){var m,y=e.text.length-2;if(y>0&&s)for(var w=0;w<s.length;++w)null==s[w].to&&(m||(m=[])).push(new Se(s[w].marker,null,null));for(var b=0;b<y;++b)v.push(m);v.push(l)}return v}function Re(t){for(var e=0;e<t.length;++e){var n=t[e];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&t.splice(e--,1)}return t.length?t:null}function Ee(t){var e=t.markedSpans;if(e){for(var n=0;n<e.length;++n)e[n].marker.detachLine(t);t.markedSpans=null}}function Me(t,e){if(e){for(var n=0;n<e.length;++n)e[n].marker.attachLine(t);t.markedSpans=e}}function _e(t){return t.inclusiveLeft?-1:0}function Ae(t){return t.inclusiveRight?1:0}function Pe(t,e){var n=t.lines.length-e.lines.length;if(0!=n)return n;var o=t.find(),r=e.find(),i=ee(o.from,r.from)||_e(t)-_e(e);return i?-i:ee(o.to,r.to)||Ae(t)-Ae(e)||e.id-t.id}function He(t,e){var n,o=ke&&t.markedSpans;if(o)for(var r=void 0,i=0;i<o.length;++i)(r=o[i]).marker.collapsed&&null==(e?r.from:r.to)&&(!n||Pe(n,r.marker)<0)&&(n=r.marker);return n}function Le(t){return He(t,!0)}function De(t){return He(t,!1)}function Ne(t,e){var n,o=ke&&t.markedSpans;if(o)for(var r=0;r<o.length;++r){var i=o[r];i.marker.collapsed&&(null==i.from||i.from<e)&&(null==i.to||i.to>e)&&(!n||Pe(n,i.marker)<0)&&(n=i.marker)}return n}function Ie(t,e,n,o,r){var i=Kt(t,e),a=ke&&i.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var u=l.marker.find(0),c=ee(u.from,n)||_e(l.marker)-_e(r),h=ee(u.to,o)||Ae(l.marker)-Ae(r);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ee(u.to,n)>=0:ee(u.to,n)>0)||c>=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?ee(u.from,o)<=0:ee(u.from,o)<0)))return!0}}}function We(t){for(var e;e=Le(t);)t=e.find(-1,!0).line;return t}function Fe(t,e){var n=Kt(t,e),o=We(n);return n==o?e:Qt(o)}function Be(t,e){if(e>t.lastLine())return e;var n,o=Kt(t,e);if(!ze(t,o))return e;for(;n=De(o);)o=n.find(1,!0).line;return Qt(o)+1}function ze(t,e){var n=ke&&e.markedSpans;if(n)for(var o=void 0,r=0;r<n.length;++r)if((o=n[r]).marker.collapsed){if(null==o.from)return!0;if(!o.marker.widgetNode&&0==o.from&&o.marker.inclusiveLeft&&Ve(t,e,o))return!0}}function Ve(t,e,n){if(null==n.to){var o=n.marker.find(1,!0);return Ve(t,o.line,xe(o.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==e.text.length)return!0;for(var r=void 0,i=0;i<e.markedSpans.length;++i)if((r=e.markedSpans[i]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Ve(t,e,r))return!0}function je(t){for(var e=0,n=(t=We(t)).parent,o=0;o<n.lines.length;++o){var r=n.lines[o];if(r==t)break;e+=r.height}for(var i=n.parent;i;i=(n=i).parent)for(var a=0;a<i.children.length;++a){var s=i.children[a];if(s==n)break;e+=s.height}return e}function Ue(t){if(0==t.height)return 0;for(var e,n=t.text.length,o=t;e=Le(o);){var r=e.find(0,!0);o=r.from.line,n+=r.from.ch-r.to.ch}for(o=t;e=De(o);){var i=e.find(0,!0);n-=o.text.length-i.from.ch,n+=(o=i.to.line).text.length-i.to.ch}return n}function Ye(t){var e=t.display,n=t.doc;e.maxLine=Kt(n,n.first),e.maxLineLength=Ue(e.maxLine),e.maxLineChanged=!0,n.iter(function(t){var n=Ue(t);n>e.maxLineLength&&(e.maxLineLength=n,e.maxLine=t)})}var Ke=function(t,e,n){this.text=t,Me(this,e),this.height=n?n(this):1};function Ge(t){t.parent=null,Ee(t)}Ke.prototype.lineNo=function(){return Qt(this)},wt(Ke);var Xe={},qe={};function Qe(t,e){if(!t||/^\s*$/.test(t))return null;var n=e.addModeClass?qe:Xe;return n[t]||(n[t]=t.replace(/\S+/g,"cm-$&"))}function Je(t,e){var n=_("span",null,null,l?"padding-right: .1px":null),o={pre:_("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};e.measure={};for(var r=0;r<=(e.rest?e.rest.length:0);r++){var i=r?e.rest[r-1]:e.line,a=void 0;o.pos=0,o.addToken=Ze,_t(t.display.measure)&&(a=ct(i,t.doc.direction))&&(o.addToken=tn(o.addToken,a)),o.map=[],nn(i,o,de(t,i,e!=t.display.externalMeasured&&Qt(i))),i.styleClasses&&(i.styleClasses.bgClass&&(o.bgClass=L(i.styleClasses.bgClass,o.bgClass||"")),i.styleClasses.textClass&&(o.textClass=L(i.styleClasses.textClass,o.textClass||""))),0==o.map.length&&o.map.push(0,0,o.content.appendChild(Mt(t.display.measure))),0==r?(e.measure.map=o.map,e.measure.cache={}):((e.measure.maps||(e.measure.maps=[])).push(o.map),(e.measure.caches||(e.measure.caches=[])).push({}))}if(l){var s=o.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(o.content.className="cm-tab-wrap-hack")}return gt(t,"renderLine",t,e.line,o.pre),o.pre.className&&(o.textClass=L(o.pre.className,o.textClass||"")),o}function $e(t){var e=M("span","•","cm-invalidchar");return e.title="\\u"+t.charCodeAt(0).toString(16),e.setAttribute("aria-label",e.title),e}function Ze(t,e,n,o,r,i,l){if(e){var u,c=t.splitSpaces?function(t,e){if(t.length>1&&!/  /.test(t))return t;for(var n=e,o="",r=0;r<t.length;r++){var i=t.charAt(r);" "!=i||!n||r!=t.length-1&&32!=t.charCodeAt(r+1)||(i=" "),o+=i,n=" "==i}return o}(e,t.trailingSpace):e,h=t.cm.state.specialChars,d=!1;if(h.test(e)){u=document.createDocumentFragment();for(var f=0;;){h.lastIndex=f;var p=h.exec(e),g=p?p.index-f:e.length-f;if(g){var v=document.createTextNode(c.slice(f,f+g));a&&s<9?u.appendChild(M("span",[v])):u.appendChild(v),t.map.push(t.pos,t.pos+g,v),t.col+=g,t.pos+=g}if(!p)break;f+=g+1;var m=void 0;if("\t"==p[0]){var y=t.cm.options.tabSize,w=y-t.col%y;(m=u.appendChild(M("span",X(w),"cm-tab"))).setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),t.col+=w}else"\r"==p[0]||"\n"==p[0]?((m=u.appendChild(M("span","\r"==p[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",p[0]),t.col+=1):((m=t.cm.options.specialCharPlaceholder(p[0])).setAttribute("cm-text",p[0]),a&&s<9?u.appendChild(M("span",[m])):u.appendChild(m),t.col+=1);t.map.push(t.pos,t.pos+1,m),t.pos++}}else t.col+=e.length,u=document.createTextNode(c),t.map.push(t.pos,t.pos+e.length,u),a&&s<9&&(d=!0),t.pos+=e.length;if(t.trailingSpace=32==c.charCodeAt(e.length-1),n||o||r||d||i){var b=n||"";o&&(b+=o),r&&(b+=r);var C=M("span",[u],b,i);if(l)for(var k in l)l.hasOwnProperty(k)&&"style"!=k&&"class"!=k&&C.setAttribute(k,l[k]);return t.content.appendChild(C)}t.content.appendChild(u)}}function tn(t,e){return function(n,o,r,i,a,s,l){r=r?r+" cm-force-border":"cm-force-border";for(var u=n.pos,c=u+o.length;;){for(var h=void 0,d=0;d<e.length&&!((h=e[d]).to>u&&h.from<=u);d++);if(h.to>=c)return t(n,o,r,i,a,s,l);t(n,o.slice(0,h.to-u),r,i,null,s,l),i=null,o=o.slice(h.to-u),u=h.to}}}function en(t,e,n,o){var r=!o&&n.widgetNode;r&&t.map.push(t.pos,t.pos+e,r),!o&&t.cm.display.input.needsContentAttribute&&(r||(r=t.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(t.cm.display.input.setUneditable(r),t.content.appendChild(r)),t.pos+=e,t.trailingSpace=!1}function nn(t,e,n){var o=t.markedSpans,r=t.text,i=0;if(o)for(var a,s,l,u,c,h,d,f=r.length,p=0,g=1,v="",m=0;;){if(m==p){l=u=c=s="",d=null,h=null,m=1/0;for(var y=[],w=void 0,b=0;b<o.length;++b){var C=o[b],k=C.marker;if("bookmark"==k.type&&C.from==p&&k.widgetNode)y.push(k);else if(C.from<=p&&(null==C.to||C.to>p||k.collapsed&&C.to==p&&C.from==p)){if(null!=C.to&&C.to!=p&&m>C.to&&(m=C.to,u=""),k.className&&(l+=" "+k.className),k.css&&(s=(s?s+";":"")+k.css),k.startStyle&&C.from==p&&(c+=" "+k.startStyle),k.endStyle&&C.to==m&&(w||(w=[])).push(k.endStyle,C.to),k.title&&((d||(d={})).title=k.title),k.attributes)for(var S in k.attributes)(d||(d={}))[S]=k.attributes[S];k.collapsed&&(!h||Pe(h.marker,k)<0)&&(h=C)}else C.from>p&&m>C.from&&(m=C.from)}if(w)for(var x=0;x<w.length;x+=2)w[x+1]==m&&(u+=" "+w[x]);if(!h||h.from==p)for(var T=0;T<y.length;++T)en(e,0,y[T]);if(h&&(h.from||0)==p){if(en(e,(null==h.to?f+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=f)break;for(var O=Math.min(f,m);;){if(v){var R=p+v.length;if(!h){var E=R>O?v.slice(0,O-p):v;e.addToken(e,E,a?a+l:l,c,p+E.length==m?u:"",s,d)}if(R>=O){v=v.slice(O-p),p=O;break}p=R,c=""}v=r.slice(i,i=n[g++]),a=Qe(n[g++],e.cm.options)}}else for(var M=1;M<n.length;M+=2)e.addToken(e,r.slice(i,i=n[M]),Qe(n[M+1],e.cm.options))}function on(t,e,n){this.line=e,this.rest=function(t){for(var e,n;e=De(t);)t=e.find(1,!0).line,(n||(n=[])).push(t);return n}(e),this.size=this.rest?Qt(q(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ze(t,e)}function rn(t,e,n){for(var o,r=[],i=e;i<n;i=o){var a=new on(t.doc,Kt(t.doc,i),i);o=i+a.size,r.push(a)}return r}var an=null,sn=null;function ln(t,e){var n=ft(t,e);if(n.length){var o,r=Array.prototype.slice.call(arguments,2);an?o=an.delayedCallbacks:sn?o=sn:(o=sn=[],setTimeout(un,0));for(var i=function(t){o.push(function(){return n[t].apply(null,r)})},a=0;a<n.length;++a)i(a)}}function un(){var t=sn;sn=null;for(var e=0;e<t.length;++e)t[e]()}function cn(t,e,n,o){for(var r=0;r<e.changes.length;r++){var i=e.changes[r];"text"==i?fn(t,e):"gutter"==i?gn(t,e,n,o):"class"==i?pn(t,e):"widget"==i&&vn(t,e,o)}e.changes=null}function hn(t){return t.node==t.text&&(t.node=M("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),a&&s<8&&(t.node.style.zIndex=2)),t.node}function dn(t,e){var n=t.display.externalMeasured;return n&&n.line==e.line?(t.display.externalMeasured=null,e.measure=n.measure,n.built):Je(t,e)}function fn(t,e){var n=e.text.className,o=dn(t,e);e.text==e.node&&(e.node=o.pre),e.text.parentNode.replaceChild(o.pre,e.text),e.text=o.pre,o.bgClass!=e.bgClass||o.textClass!=e.textClass?(e.bgClass=o.bgClass,e.textClass=o.textClass,pn(t,e)):n&&(e.text.className=n)}function pn(t,e){!function(t,e){var n=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(n&&(n+=" CodeMirror-linebackground"),e.background)n?e.background.className=n:(e.background.parentNode.removeChild(e.background),e.background=null);else if(n){var o=hn(e);e.background=o.insertBefore(M("div",null,n),o.firstChild),t.display.input.setUneditable(e.background)}}(t,e),e.line.wrapClass?hn(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var n=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=n||""}function gn(t,e,n,o){if(e.gutter&&(e.node.removeChild(e.gutter),e.gutter=null),e.gutterBackground&&(e.node.removeChild(e.gutterBackground),e.gutterBackground=null),e.line.gutterClass){var r=hn(e);e.gutterBackground=M("div",null,"CodeMirror-gutter-background "+e.line.gutterClass,"left: "+(t.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px; width: "+o.gutterTotalWidth+"px"),t.display.input.setUneditable(e.gutterBackground),r.insertBefore(e.gutterBackground,e.text)}var i=e.line.gutterMarkers;if(t.options.lineNumbers||i){var a=hn(e),s=e.gutter=M("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?o.fixedPos:-o.gutterTotalWidth)+"px");if(t.display.input.setUneditable(s),a.insertBefore(s,e.text),e.line.gutterClass&&(s.className+=" "+e.line.gutterClass),!t.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(e.lineNumber=s.appendChild(M("div",Zt(t.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+o.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),i)for(var l=0;l<t.display.gutterSpecs.length;++l){var u=t.display.gutterSpecs[l].className,c=i.hasOwnProperty(u)&&i[u];c&&s.appendChild(M("div",[c],"CodeMirror-gutter-elt","left: "+o.gutterLeft[u]+"px; width: "+o.gutterWidth[u]+"px"))}}}function vn(t,e,n){e.alignable&&(e.alignable=null);for(var o=e.node.firstChild,r=void 0;o;o=r)r=o.nextSibling,"CodeMirror-linewidget"==o.className&&e.node.removeChild(o);yn(t,e,n)}function mn(t,e,n,o){var r=dn(t,e);return e.text=e.node=r.pre,r.bgClass&&(e.bgClass=r.bgClass),r.textClass&&(e.textClass=r.textClass),pn(t,e),gn(t,e,n,o),yn(t,e,o),e.node}function yn(t,e,n){if(wn(t,e.line,e,n,!0),e.rest)for(var o=0;o<e.rest.length;o++)wn(t,e.rest[o],e,n,!1)}function wn(t,e,n,o,r){if(e.widgets)for(var i=hn(n),a=0,s=e.widgets;a<s.length;++a){var l=s[a],u=M("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||u.setAttribute("cm-ignore-events","true"),bn(l,u,n,o),t.display.input.setUneditable(u),r&&l.above?i.insertBefore(u,n.gutter||n.text):i.appendChild(u),ln(l,"redraw")}}function bn(t,e,n,o){if(t.noHScroll){(n.alignable||(n.alignable=[])).push(e);var r=o.wrapperWidth;e.style.left=o.fixedPos+"px",t.coverGutter||(r-=o.gutterTotalWidth,e.style.paddingLeft=o.gutterTotalWidth+"px"),e.style.width=r+"px"}t.coverGutter&&(e.style.zIndex=5,e.style.position="relative",t.noHScroll||(e.style.marginLeft=-o.gutterTotalWidth+"px"))}function Cn(t){if(null!=t.height)return t.height;var e=t.doc.cm;if(!e)return 0;if(!A(document.body,t.node)){var n="position: relative;";t.coverGutter&&(n+="margin-left: -"+e.display.gutters.offsetWidth+"px;"),t.noHScroll&&(n+="width: "+e.display.wrapper.clientWidth+"px;"),E(e.display.measure,M("div",[t.node],null,n))}return t.height=t.node.parentNode.offsetHeight}function kn(t,e){for(var n=xt(e);n!=t.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==t.sizer&&n!=t.mover)return!0}function Sn(t){return t.lineSpace.offsetTop}function xn(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function Tn(t){if(t.cachedPaddingH)return t.cachedPaddingH;var e=E(t.measure,M("pre","x")),n=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,o={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(t.cachedPaddingH=o),o}function On(t){return z-t.display.nativeBarWidth}function Rn(t){return t.display.scroller.clientWidth-On(t)-t.display.barWidth}function En(t){return t.display.scroller.clientHeight-On(t)-t.display.barHeight}function Mn(t,e,n){if(t.line==e)return{map:t.measure.map,cache:t.measure.cache};for(var o=0;o<t.rest.length;o++)if(t.rest[o]==e)return{map:t.measure.maps[o],cache:t.measure.caches[o]};for(var r=0;r<t.rest.length;r++)if(Qt(t.rest[r])>n)return{map:t.measure.maps[r],cache:t.measure.caches[r],before:!0}}function _n(t,e,n,o){return Hn(t,Pn(t,e),n,o)}function An(t,e){if(e>=t.display.viewFrom&&e<t.display.viewTo)return t.display.view[lo(t,e)];var n=t.display.externalMeasured;return n&&e>=n.lineN&&e<n.lineN+n.size?n:void 0}function Pn(t,e){var n=Qt(e),o=An(t,n);o&&!o.text?o=null:o&&o.changes&&(cn(t,o,n,oo(t)),t.curOp.forceUpdate=!0),o||(o=function(t,e){var n=Qt(e=We(e)),o=t.display.externalMeasured=new on(t.doc,e,n);o.lineN=n;var r=o.built=Je(t,o);return o.text=r.pre,E(t.display.lineMeasure,r.pre),o}(t,e));var r=Mn(o,e,n);return{line:e,view:o,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function Hn(t,e,n,o,r){e.before&&(n=-1);var i,l=n+(o||"");return e.cache.hasOwnProperty(l)?i=e.cache[l]:(e.rect||(e.rect=e.view.text.getBoundingClientRect()),e.hasHeights||(function(t,e,n){var o=t.options.lineWrapping,r=o&&Rn(t);if(!e.measure.heights||o&&e.measure.width!=r){var i=e.measure.heights=[];if(o){e.measure.width=r;for(var a=e.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],u=a[s+1];Math.abs(l.bottom-u.bottom)>2&&i.push((l.bottom+u.top)/2-n.top)}}i.push(n.bottom-n.top)}}(t,e.view,e.rect),e.hasHeights=!0),(i=function(t,e,n,o){var r,i=Nn(e.map,n,o),l=i.node,u=i.start,c=i.end,h=i.collapse;if(3==l.nodeType){for(var d=0;d<4;d++){for(;u&&rt(e.line.text.charAt(i.coverStart+u));)--u;for(;i.coverStart+c<i.coverEnd&&rt(e.line.text.charAt(i.coverStart+c));)++c;if((r=a&&s<9&&0==u&&c==i.coverEnd-i.coverStart?l.parentNode.getBoundingClientRect():In(T(l,u,c).getClientRects(),o)).left||r.right||0==u)break;c=u,u-=1,h="right"}a&&s<11&&(r=function(t,e){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(t){if(null!=Dt)return Dt;var e=E(t,M("span","x")),n=e.getBoundingClientRect(),o=T(e,0,1).getBoundingClientRect();return Dt=Math.abs(n.left-o.left)>1}(t))return e;var n=screen.logicalXDPI/screen.deviceXDPI,o=screen.logicalYDPI/screen.deviceYDPI;return{left:e.left*n,right:e.right*n,top:e.top*o,bottom:e.bottom*o}}(t.display.measure,r))}else{var f;u>0&&(h=o="right"),r=t.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==o?f.length-1:0]:l.getBoundingClientRect()}if(a&&s<9&&!u&&(!r||!r.left&&!r.right)){var p=l.parentNode.getClientRects()[0];r=p?{left:p.left,right:p.left+no(t.display),top:p.top,bottom:p.bottom}:Dn}for(var g=r.top-e.rect.top,v=r.bottom-e.rect.top,m=(g+v)/2,y=e.view.measure.heights,w=0;w<y.length-1&&!(m<y[w]);w++);var b=w?y[w-1]:0,C=y[w],k={left:("right"==h?r.right:r.left)-e.rect.left,right:("left"==h?r.left:r.right)-e.rect.left,top:b,bottom:C};return r.left||r.right||(k.bogus=!0),t.options.singleCursorHeightPerLine||(k.rtop=g,k.rbottom=v),k}(t,e,n,o)).bogus||(e.cache[l]=i)),{left:i.left,right:i.right,top:r?i.rtop:i.top,bottom:r?i.rbottom:i.bottom}}var Ln,Dn={left:0,right:0,top:0,bottom:0};function Nn(t,e,n){for(var o,r,i,a,s,l,u=0;u<t.length;u+=3)if(s=t[u],l=t[u+1],e<s?(r=0,i=1,a="left"):e<l?i=1+(r=e-s):(u==t.length-3||e==l&&t[u+3]>e)&&(r=(i=l-s)-1,e>=l&&(a="right")),null!=r){if(o=t[u+2],s==l&&n==(o.insertLeft?"left":"right")&&(a=n),"left"==n&&0==r)for(;u&&t[u-2]==t[u-3]&&t[u-1].insertLeft;)o=t[2+(u-=3)],a="left";if("right"==n&&r==l-s)for(;u<t.length-3&&t[u+3]==t[u+4]&&!t[u+5].insertLeft;)o=t[(u+=3)+2],a="right";break}return{node:o,start:r,end:i,collapse:a,coverStart:s,coverEnd:l}}function In(t,e){var n=Dn;if("left"==e)for(var o=0;o<t.length&&(n=t[o]).left==n.right;o++);else for(var r=t.length-1;r>=0&&(n=t[r]).left==n.right;r--);return n}function Wn(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var e=0;e<t.rest.length;e++)t.measure.caches[e]={}}function Fn(t){t.display.externalMeasure=null,R(t.display.lineMeasure);for(var e=0;e<t.display.view.length;e++)Wn(t.display.view[e])}function Bn(t){Fn(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function zn(){return c&&v?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Vn(){return c&&v?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function jn(t){var e=0;if(t.widgets)for(var n=0;n<t.widgets.length;++n)t.widgets[n].above&&(e+=Cn(t.widgets[n]));return e}function Un(t,e,n,o,r){if(!r){var i=jn(e);n.top+=i,n.bottom+=i}if("line"==o)return n;o||(o="local");var a=je(e);if("local"==o?a+=Sn(t.display):a-=t.display.viewOffset,"page"==o||"window"==o){var s=t.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==o?0:Vn());var l=s.left+("window"==o?0:zn());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Yn(t,e,n){if("div"==n)return e;var o=e.left,r=e.top;if("page"==n)o-=zn(),r-=Vn();else if("local"==n||!n){var i=t.display.sizer.getBoundingClientRect();o+=i.left,r+=i.top}var a=t.display.lineSpace.getBoundingClientRect();return{left:o-a.left,top:r-a.top}}function Kn(t,e,n,o,r){return o||(o=Kt(t.doc,e.line)),Un(t,o,_n(t,o,e.ch,r),n)}function Gn(t,e,n,o,r,i){function a(e,a){var s=Hn(t,r,e,a?"right":"left",i);return a?s.left=s.right:s.right=s.left,Un(t,o,s,n)}o=o||Kt(t.doc,e.line),r||(r=Pn(t,o));var s=ct(o,t.doc.direction),l=e.ch,u=e.sticky;if(l>=o.text.length?(l=o.text.length,u="before"):l<=0&&(l=0,u="after"),!s)return a("before"==u?l-1:l,"before"==u);function c(t,e,n){return a(n?t-1:t,1==s[e].level!=n)}var h=lt(s,l,u),d=st,f=c(l,h,"before"==u);return null!=d&&(f.other=c(l,d,"before"!=u)),f}function Xn(t,e){var n=0;e=se(t.doc,e),t.options.lineWrapping||(n=no(t.display)*e.ch);var o=Kt(t.doc,e.line),r=je(o)+Sn(t.display);return{left:n,right:n,top:r,bottom:r+o.height}}function qn(t,e,n,o,r){var i=te(t,e,n);return i.xRel=r,o&&(i.outside=!0),i}function Qn(t,e,n){var o=t.doc;if((n+=t.display.viewOffset)<0)return qn(o.first,0,null,!0,-1);var r=Jt(o,n),i=o.first+o.size-1;if(r>i)return qn(o.first+o.size-1,Kt(o,i).text.length,null,!0,1);e<0&&(e=0);for(var a=Kt(o,r);;){var s=to(t,a,r,e,n),l=Ne(a,s.ch+(s.xRel>0?1:0));if(!l)return s;var u=l.find(1);if(u.line==r)return u;a=Kt(o,r=u.line)}}function Jn(t,e,n,o){o-=jn(e);var r=e.text.length,i=at(function(e){return Hn(t,n,e-1).bottom<=o},r,0);return{begin:i,end:r=at(function(e){return Hn(t,n,e).top>o},i,r)}}function $n(t,e,n,o){return n||(n=Pn(t,e)),Jn(t,e,n,Un(t,e,Hn(t,n,o),"line").top)}function Zn(t,e,n,o){return!(t.bottom<=n)&&(t.top>n||(o?t.left:t.right)>e)}function to(t,e,n,o,r){r-=je(e);var i=Pn(t,e),a=jn(e),s=0,l=e.text.length,u=!0,c=ct(e,t.doc.direction);if(c){var h=(t.options.lineWrapping?function(t,e,n,o,r,i,a){var s=Jn(t,e,o,a),l=s.begin,u=s.end;/\s/.test(e.text.charAt(u-1))&&u--;for(var c=null,h=null,d=0;d<r.length;d++){var f=r[d];if(!(f.from>=u||f.to<=l)){var p=Hn(t,o,1!=f.level?Math.min(u,f.to)-1:Math.max(l,f.from)).right,g=p<i?i-p+1e9:p-i;(!c||h>g)&&(c=f,h=g)}}return c||(c=r[r.length-1]),c.from<l&&(c={from:l,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}:function(t,e,n,o,r,i,a){var s=at(function(s){var l=r[s],u=1!=l.level;return Zn(Gn(t,te(n,u?l.to:l.from,u?"before":"after"),"line",e,o),i,a,!0)},0,r.length-1),l=r[s];if(s>0){var u=1!=l.level,c=Gn(t,te(n,u?l.from:l.to,u?"after":"before"),"line",e,o);Zn(c,i,a,!0)&&c.top>a&&(l=r[s-1])}return l})(t,e,n,i,c,o,r);s=(u=1!=h.level)?h.from:h.to-1,l=u?h.to:h.from-1}var d,f,p=null,g=null,v=at(function(e){var n=Hn(t,i,e);return n.top+=a,n.bottom+=a,!!Zn(n,o,r,!1)&&(n.top<=r&&n.left<=o&&(p=e,g=n),!0)},s,l),m=!1;if(g){var y=o-g.left<g.right-o,w=y==u;v=p+(w?0:1),f=w?"after":"before",d=y?g.left:g.right}else{u||v!=l&&v!=s||v++,f=0==v?"after":v==e.text.length?"before":Hn(t,i,v-(u?1:0)).bottom+a<=r==u?"after":"before";var b=Gn(t,te(n,v,f),"line",e,i);d=b.left,m=r<b.top||r>=b.bottom}return qn(n,v=it(e.text,v,1),f,m,o-d)}function eo(t){if(null!=t.cachedTextHeight)return t.cachedTextHeight;if(null==Ln){Ln=M("pre");for(var e=0;e<49;++e)Ln.appendChild(document.createTextNode("x")),Ln.appendChild(M("br"));Ln.appendChild(document.createTextNode("x"))}E(t.measure,Ln);var n=Ln.offsetHeight/50;return n>3&&(t.cachedTextHeight=n),R(t.measure),n||1}function no(t){if(null!=t.cachedCharWidth)return t.cachedCharWidth;var e=M("span","xxxxxxxxxx"),n=M("pre",[e]);E(t.measure,n);var o=e.getBoundingClientRect(),r=(o.right-o.left)/10;return r>2&&(t.cachedCharWidth=r),r||10}function oo(t){for(var e=t.display,n={},o={},r=e.gutters.clientLeft,i=e.gutters.firstChild,a=0;i;i=i.nextSibling,++a){var s=t.display.gutterSpecs[a].className;n[s]=i.offsetLeft+i.clientLeft+r,o[s]=i.clientWidth}return{fixedPos:ro(e),gutterTotalWidth:e.gutters.offsetWidth,gutterLeft:n,gutterWidth:o,wrapperWidth:e.wrapper.clientWidth}}function ro(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function io(t){var e=eo(t.display),n=t.options.lineWrapping,o=n&&Math.max(5,t.display.scroller.clientWidth/no(t.display)-3);return function(r){if(ze(t.doc,r))return 0;var i=0;if(r.widgets)for(var a=0;a<r.widgets.length;a++)r.widgets[a].height&&(i+=r.widgets[a].height);return n?i+(Math.ceil(r.text.length/o)||1)*e:i+e}}function ao(t){var e=t.doc,n=io(t);e.iter(function(t){var e=n(t);e!=t.height&&qt(t,e)})}function so(t,e,n,o){var r=t.display;if(!n&&"true"==xt(e).getAttribute("cm-not-content"))return null;var i,a,s=r.lineSpace.getBoundingClientRect();try{i=e.clientX-s.left,a=e.clientY-s.top}catch(e){return null}var l,u=Qn(t,i,a);if(o&&1==u.xRel&&(l=Kt(t.doc,u.line).text).length==u.ch){var c=W(l,l.length,t.options.tabSize)-l.length;u=te(u.line,Math.max(0,Math.round((i-Tn(t.display).left)/no(t.display))-c))}return u}function lo(t,e){if(e>=t.display.viewTo)return null;if((e-=t.display.viewFrom)<0)return null;for(var n=t.display.view,o=0;o<n.length;o++)if((e-=n[o].size)<0)return o}function uo(t,e,n,o){null==e&&(e=t.doc.first),null==n&&(n=t.doc.first+t.doc.size),o||(o=0);var r=t.display;if(o&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>e)&&(r.updateLineNumbers=e),t.curOp.viewChanged=!0,e>=r.viewTo)ke&&Fe(t.doc,e)<r.viewTo&&ho(t);else if(n<=r.viewFrom)ke&&Be(t.doc,n+o)>r.viewFrom?ho(t):(r.viewFrom+=o,r.viewTo+=o);else if(e<=r.viewFrom&&n>=r.viewTo)ho(t);else if(e<=r.viewFrom){var i=fo(t,n,n+o,1);i?(r.view=r.view.slice(i.index),r.viewFrom=i.lineN,r.viewTo+=o):ho(t)}else if(n>=r.viewTo){var a=fo(t,e,e,-1);a?(r.view=r.view.slice(0,a.index),r.viewTo=a.lineN):ho(t)}else{var s=fo(t,e,e,-1),l=fo(t,n,n+o,1);s&&l?(r.view=r.view.slice(0,s.index).concat(rn(t,s.lineN,l.lineN)).concat(r.view.slice(l.index)),r.viewTo+=o):ho(t)}var u=r.externalMeasured;u&&(n<u.lineN?u.lineN+=o:e<u.lineN+u.size&&(r.externalMeasured=null))}function co(t,e,n){t.curOp.viewChanged=!0;var o=t.display,r=t.display.externalMeasured;if(r&&e>=r.lineN&&e<r.lineN+r.size&&(o.externalMeasured=null),!(e<o.viewFrom||e>=o.viewTo)){var i=o.view[lo(t,e)];if(null!=i.node){var a=i.changes||(i.changes=[]);-1==B(a,n)&&a.push(n)}}}function ho(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function fo(t,e,n,o){var r,i=lo(t,e),a=t.display.view;if(!ke||n==t.doc.first+t.doc.size)return{index:i,lineN:n};for(var s=t.display.viewFrom,l=0;l<i;l++)s+=a[l].size;if(s!=e){if(o>0){if(i==a.length-1)return null;r=s+a[i].size-e,i++}else r=s-e;e+=r,n+=r}for(;Fe(t.doc,n)!=n;){if(i==(o<0?0:a.length-1))return null;n+=o*a[i-(o<0?1:0)].size,i+=o}return{index:i,lineN:n}}function po(t){for(var e=t.display.view,n=0,o=0;o<e.length;o++){var r=e[o];r.hidden||r.node&&!r.changes||++n}return n}function go(t){t.display.input.showSelection(t.display.input.prepareSelection())}function vo(t,e){void 0===e&&(e=!0);for(var n=t.doc,o={},r=o.cursors=document.createDocumentFragment(),i=o.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(e||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=t.display.viewTo||s.to().line<t.display.viewFrom)){var l=s.empty();(l||t.options.showCursorWhenSelecting)&&mo(t,s.head,r),l||wo(t,s,i)}}return o}function mo(t,e,n){var o=Gn(t,e,"div",null,null,!t.options.singleCursorHeightPerLine),r=n.appendChild(M("div"," ","CodeMirror-cursor"));if(r.style.left=o.left+"px",r.style.top=o.top+"px",r.style.height=Math.max(0,o.bottom-o.top)*t.options.cursorHeight+"px",o.other){var i=n.appendChild(M("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));i.style.display="",i.style.left=o.other.left+"px",i.style.top=o.other.top+"px",i.style.height=.85*(o.other.bottom-o.other.top)+"px"}}function yo(t,e){return t.top-e.top||t.left-e.left}function wo(t,e,n){var o=t.display,r=t.doc,i=document.createDocumentFragment(),a=Tn(t.display),s=a.left,l=Math.max(o.sizerWidth,Rn(t)-o.sizer.offsetLeft)-a.right,u="ltr"==r.direction;function c(t,e,n,o){e<0&&(e=0),e=Math.round(e),o=Math.round(o),i.appendChild(M("div",null,"CodeMirror-selected","position: absolute; left: "+t+"px;\n                             top: "+e+"px; width: "+(null==n?l-t:n)+"px;\n                             height: "+(o-e)+"px"))}function h(e,n,o){var i,a,h=Kt(r,e),d=h.text.length;function f(n,o){return Kn(t,te(e,n),"div",h,o)}function p(e,n,o){var r=$n(t,h,null,e),i="ltr"==n==("after"==o)?"left":"right";return f("after"==o?r.begin:r.end-(/\s/.test(h.text.charAt(r.end-1))?2:1),i)[i]}var g=ct(h,r.direction);return function(t,e,n,o){if(!t)return o(e,n,"ltr",0);for(var r=!1,i=0;i<t.length;++i){var a=t[i];(a.from<n&&a.to>e||e==n&&a.to==e)&&(o(Math.max(a.from,e),Math.min(a.to,n),1==a.level?"rtl":"ltr",i),r=!0)}r||o(e,n,"ltr")}(g,n||0,null==o?d:o,function(t,e,r,h){var v="ltr"==r,m=f(t,v?"left":"right"),y=f(e-1,v?"right":"left"),w=null==n&&0==t,b=null==o&&e==d,C=0==h,k=!g||h==g.length-1;if(y.top-m.top<=3){var S=(u?b:w)&&k,x=(u?w:b)&&C?s:(v?m:y).left,T=S?l:(v?y:m).right;c(x,m.top,T-x,m.bottom)}else{var O,R,E,M;v?(O=u&&w&&C?s:m.left,R=u?l:p(t,r,"before"),E=u?s:p(e,r,"after"),M=u&&b&&k?l:y.right):(O=u?p(t,r,"before"):s,R=!u&&w&&C?l:m.right,E=!u&&b&&k?s:y.left,M=u?p(e,r,"after"):l),c(O,m.top,R-O,m.bottom),m.bottom<y.top&&c(s,m.bottom,null,y.top),c(E,y.top,M-E,y.bottom)}(!i||yo(m,i)<0)&&(i=m),yo(y,i)<0&&(i=y),(!a||yo(m,a)<0)&&(a=m),yo(y,a)<0&&(a=y)}),{start:i,end:a}}var d=e.from(),f=e.to();if(d.line==f.line)h(d.line,d.ch,f.ch);else{var p=Kt(r,d.line),g=Kt(r,f.line),v=We(p)==We(g),m=h(d.line,d.ch,v?p.text.length+1:null).end,y=h(f.line,v?0:null,f.ch).start;v&&(m.top<y.top-2?(c(m.right,m.top,null,m.bottom),c(s,y.top,y.left,y.bottom)):c(m.right,m.top,y.left-m.right,m.bottom)),m.bottom<y.top&&c(s,m.bottom,null,y.top)}n.appendChild(i)}function bo(t){if(t.state.focused){var e=t.display;clearInterval(e.blinker);var n=!0;e.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?e.blinker=setInterval(function(){return e.cursorDiv.style.visibility=(n=!n)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(e.cursorDiv.style.visibility="hidden")}}function Co(t){t.state.focused||(t.display.input.focus(),So(t))}function ko(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,xo(t))},100)}function So(t,e){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1),"nocursor"!=t.options.readOnly&&(t.state.focused||(gt(t,"focus",t,e),t.state.focused=!0,H(t.display.wrapper,"CodeMirror-focused"),t.curOp||t.display.selForContextMenu==t.doc.sel||(t.display.input.reset(),l&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),bo(t))}function xo(t,e){t.state.delayingBlurEvent||(t.state.focused&&(gt(t,"blur",t,e),t.state.focused=!1,O(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function To(t){for(var e=t.display,n=e.lineDiv.offsetTop,o=0;o<e.view.length;o++){var r=e.view[o],i=t.options.lineWrapping,l=void 0,u=0;if(!r.hidden){if(a&&s<8){var c=r.node.offsetTop+r.node.offsetHeight;l=c-n,n=c}else{var h=r.node.getBoundingClientRect();l=h.bottom-h.top,!i&&r.text.firstChild&&(u=r.text.firstChild.getBoundingClientRect().right-h.left-1)}var d=r.line.height-l;if((d>.005||d<-.005)&&(qt(r.line,l),Oo(r.line),r.rest))for(var f=0;f<r.rest.length;f++)Oo(r.rest[f]);if(u>t.display.sizerWidth){var p=Math.ceil(u/no(t.display));p>t.display.maxLineLength&&(t.display.maxLineLength=p,t.display.maxLine=r.line,t.display.maxLineChanged=!0)}}}}function Oo(t){if(t.widgets)for(var e=0;e<t.widgets.length;++e){var n=t.widgets[e],o=n.node.parentNode;o&&(n.height=o.offsetHeight)}}function Ro(t,e,n){var o=n&&null!=n.top?Math.max(0,n.top):t.scroller.scrollTop;o=Math.floor(o-Sn(t));var r=n&&null!=n.bottom?n.bottom:o+t.wrapper.clientHeight,i=Jt(e,o),a=Jt(e,r);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<i?(i=s,a=Jt(e,je(Kt(e,s))+t.wrapper.clientHeight)):Math.min(l,e.lastLine())>=a&&(i=Jt(e,je(Kt(e,l))-t.wrapper.clientHeight),a=l)}return{from:i,to:Math.max(a,i+1)}}function Eo(t,e){var n=t.display,o=eo(t.display);e.top<0&&(e.top=0);var r=t.curOp&&null!=t.curOp.scrollTop?t.curOp.scrollTop:n.scroller.scrollTop,i=En(t),a={};e.bottom-e.top>i&&(e.bottom=e.top+i);var s=t.doc.height+xn(n),l=e.top<o,u=e.bottom>s-o;if(e.top<r)a.scrollTop=l?0:e.top;else if(e.bottom>r+i){var c=Math.min(e.top,(u?s:e.bottom)-i);c!=r&&(a.scrollTop=c)}var h=t.curOp&&null!=t.curOp.scrollLeft?t.curOp.scrollLeft:n.scroller.scrollLeft,d=Rn(t)-(t.options.fixedGutter?n.gutters.offsetWidth:0),f=e.right-e.left>d;return f&&(e.right=e.left+d),e.left<10?a.scrollLeft=0:e.left<h?a.scrollLeft=Math.max(0,e.left-(f?0:10)):e.right>d+h-3&&(a.scrollLeft=e.right+(f?0:10)-d),a}function Mo(t,e){null!=e&&(Po(t),t.curOp.scrollTop=(null==t.curOp.scrollTop?t.doc.scrollTop:t.curOp.scrollTop)+e)}function _o(t){Po(t);var e=t.getCursor();t.curOp.scrollToPos={from:e,to:e,margin:t.options.cursorScrollMargin}}function Ao(t,e,n){null==e&&null==n||Po(t),null!=e&&(t.curOp.scrollLeft=e),null!=n&&(t.curOp.scrollTop=n)}function Po(t){var e=t.curOp.scrollToPos;e&&(t.curOp.scrollToPos=null,Ho(t,Xn(t,e.from),Xn(t,e.to),e.margin))}function Ho(t,e,n,o){var r=Eo(t,{left:Math.min(e.left,n.left),top:Math.min(e.top,n.top)-o,right:Math.max(e.right,n.right),bottom:Math.max(e.bottom,n.bottom)+o});Ao(t,r.scrollLeft,r.scrollTop)}function Lo(t,e){Math.abs(t.doc.scrollTop-e)<2||(n||ar(t,{top:e}),Do(t,e,!0),n&&ar(t),er(t,100))}function Do(t,e,n){e=Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,e),(t.display.scroller.scrollTop!=e||n)&&(t.doc.scrollTop=e,t.display.scrollbars.setScrollTop(e),t.display.scroller.scrollTop!=e&&(t.display.scroller.scrollTop=e))}function No(t,e,n,o){e=Math.min(e,t.display.scroller.scrollWidth-t.display.scroller.clientWidth),(n?e==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-e)<2)&&!o||(t.doc.scrollLeft=e,ur(t),t.display.scroller.scrollLeft!=e&&(t.display.scroller.scrollLeft=e),t.display.scrollbars.setScrollLeft(e))}function Io(t){var e=t.display,n=e.gutters.offsetWidth,o=Math.round(t.doc.height+xn(t.display));return{clientHeight:e.scroller.clientHeight,viewHeight:e.wrapper.clientHeight,scrollWidth:e.scroller.scrollWidth,clientWidth:e.scroller.clientWidth,viewWidth:e.wrapper.clientWidth,barLeft:t.options.fixedGutter?n:0,docHeight:o,scrollHeight:o+On(t)+e.barHeight,nativeBarWidth:e.nativeBarWidth,gutterWidth:n}}var Wo=function(t,e,n){this.cm=n;var o=this.vert=M("div",[M("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=M("div",[M("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");o.tabIndex=r.tabIndex=-1,t(o),t(r),dt(o,"scroll",function(){o.clientHeight&&e(o.scrollTop,"vertical")}),dt(r,"scroll",function(){r.clientWidth&&e(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,a&&s<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Wo.prototype.update=function(t){var e=t.scrollWidth>t.clientWidth+1,n=t.scrollHeight>t.clientHeight+1,o=t.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=e?o+"px":"0";var r=t.viewHeight-(e?o:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(e){this.horiz.style.display="block",this.horiz.style.right=n?o+"px":"0",this.horiz.style.left=t.barLeft+"px";var i=t.viewWidth-t.barLeft-(n?o:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+i)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(0==o&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?o:0,bottom:e?o:0}},Wo.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Wo.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Wo.prototype.zeroWidthHack=function(){var t=y&&!f?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new F,this.disableVert=new F},Wo.prototype.enableZeroWidthBar=function(t,e,n){t.style.pointerEvents="auto",e.set(1e3,function o(){var r=t.getBoundingClientRect();("vert"==n?document.elementFromPoint(r.right-1,(r.top+r.bottom)/2):document.elementFromPoint((r.right+r.left)/2,r.bottom-1))!=t?t.style.pointerEvents="none":e.set(1e3,o)})},Wo.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Fo=function(){};function Bo(t,e){e||(e=Io(t));var n=t.display.barWidth,o=t.display.barHeight;zo(t,e);for(var r=0;r<4&&n!=t.display.barWidth||o!=t.display.barHeight;r++)n!=t.display.barWidth&&t.options.lineWrapping&&To(t),zo(t,Io(t)),n=t.display.barWidth,o=t.display.barHeight}function zo(t,e){var n=t.display,o=n.scrollbars.update(e);n.sizer.style.paddingRight=(n.barWidth=o.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=o.bottom)+"px",n.heightForcer.style.borderBottom=o.bottom+"px solid transparent",o.right&&o.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=o.bottom+"px",n.scrollbarFiller.style.width=o.right+"px"):n.scrollbarFiller.style.display="",o.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=o.bottom+"px",n.gutterFiller.style.width=e.gutterWidth+"px"):n.gutterFiller.style.display=""}Fo.prototype.update=function(){return{bottom:0,right:0}},Fo.prototype.setScrollLeft=function(){},Fo.prototype.setScrollTop=function(){},Fo.prototype.clear=function(){};var Vo={native:Wo,null:Fo};function jo(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&O(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Vo[t.options.scrollbarStyle](function(e){t.display.wrapper.insertBefore(e,t.display.scrollbarFiller),dt(e,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,n){"horizontal"==n?No(t,e):Lo(t,e)},t),t.display.scrollbars.addClass&&H(t.display.wrapper,t.display.scrollbars.addClass)}var Uo=0;function Yo(t){var e;t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Uo},e=t.curOp,an?an.ops.push(e):e.ownsGroup=an={ops:[e],delayedCallbacks:[]}}function Ko(t){var e=t.curOp;e&&function(t,e){var n=t.ownsGroup;if(n)try{!function(t){var e=t.delayedCallbacks,n=0;do{for(;n<e.length;n++)e[n].call(null);for(var o=0;o<t.ops.length;o++){var r=t.ops[o];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<e.length)}(n)}finally{an=null,function(t){for(var e=0;e<t.ops.length;e++)t.ops[e].cm.curOp=null;!function(t){for(var e=t.ops,n=0;n<e.length;n++)Go(e[n]);for(var o=0;o<e.length;o++)(r=e[o]).updatedDisplay=r.mustUpdate&&rr(r.cm,r.update);for(var r,i=0;i<e.length;i++)Xo(e[i]);for(var a=0;a<e.length;a++)qo(e[a]);for(var s=0;s<e.length;s++)Qo(e[s])}(t)}(n)}}(e)}function Go(t){var e=t.cm,n=e.display;!function(t){var e=t.display;!e.scrollbarsClipped&&e.scroller.offsetWidth&&(e.nativeBarWidth=e.scroller.offsetWidth-e.scroller.clientWidth,e.heightForcer.style.height=On(t)+"px",e.sizer.style.marginBottom=-e.nativeBarWidth+"px",e.sizer.style.borderRightWidth=On(t)+"px",e.scrollbarsClipped=!0)}(e),t.updateMaxLine&&Ye(e),t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<n.viewFrom||t.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&e.options.lineWrapping,t.update=t.mustUpdate&&new or(e,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function Xo(t){var e=t.cm,n=e.display;t.updatedDisplay&&To(e),t.barMeasure=Io(e),n.maxLineChanged&&!e.options.lineWrapping&&(t.adjustWidthTo=_n(e,n.maxLine,n.maxLine.text.length).left+3,e.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+t.adjustWidthTo+On(e)+e.display.barWidth),t.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+t.adjustWidthTo-Rn(e))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=n.input.prepareSelection())}function qo(t){var e=t.cm;null!=t.adjustWidthTo&&(e.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<e.doc.scrollLeft&&No(e,Math.min(e.display.scroller.scrollLeft,t.maxScrollLeft),!0),e.display.maxLineChanged=!1);var n=t.focus&&t.focus==P();t.preparedSelection&&e.display.input.showSelection(t.preparedSelection,n),(t.updatedDisplay||t.startHeight!=e.doc.height)&&Bo(e,t.barMeasure),t.updatedDisplay&&lr(e,t.barMeasure),t.selectionChanged&&bo(e),e.state.focused&&t.updateInput&&e.display.input.reset(t.typing),n&&Co(t.cm)}function Qo(t){var e=t.cm,n=e.display,o=e.doc;if(t.updatedDisplay&&ir(e,t.update),null==n.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=t.scrollTop&&Do(e,t.scrollTop,t.forceScroll),null!=t.scrollLeft&&No(e,t.scrollLeft,!0,!0),t.scrollToPos){var r=function(t,e,n,o){var r;null==o&&(o=0),t.options.lineWrapping||e!=n||(n="before"==(e=e.ch?te(e.line,"before"==e.sticky?e.ch-1:e.ch,"after"):e).sticky?te(e.line,e.ch+1,"before"):e);for(var i=0;i<5;i++){var a=!1,s=Gn(t,e),l=n&&n!=e?Gn(t,n):s,u=Eo(t,r={left:Math.min(s.left,l.left),top:Math.min(s.top,l.top)-o,right:Math.max(s.left,l.left),bottom:Math.max(s.bottom,l.bottom)+o}),c=t.doc.scrollTop,h=t.doc.scrollLeft;if(null!=u.scrollTop&&(Lo(t,u.scrollTop),Math.abs(t.doc.scrollTop-c)>1&&(a=!0)),null!=u.scrollLeft&&(No(t,u.scrollLeft),Math.abs(t.doc.scrollLeft-h)>1&&(a=!0)),!a)break}return r}(e,se(o,t.scrollToPos.from),se(o,t.scrollToPos.to),t.scrollToPos.margin);!function(t,e){if(!vt(t,"scrollCursorIntoView")){var n=t.display,o=n.sizer.getBoundingClientRect(),r=null;if(e.top+o.top<0?r=!0:e.bottom+o.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1),null!=r&&!p){var i=M("div","​",null,"position: absolute;\n                         top: "+(e.top-n.viewOffset-Sn(t.display))+"px;\n                         height: "+(e.bottom-e.top+On(t)+n.barHeight)+"px;\n                         left: "+e.left+"px; width: "+Math.max(2,e.right-e.left)+"px;");t.display.lineSpace.appendChild(i),i.scrollIntoView(r),t.display.lineSpace.removeChild(i)}}}(e,r)}var i=t.maybeHiddenMarkers,a=t.maybeUnhiddenMarkers;if(i)for(var s=0;s<i.length;++s)i[s].lines.length||gt(i[s],"hide");if(a)for(var l=0;l<a.length;++l)a[l].lines.length&&gt(a[l],"unhide");n.wrapper.offsetHeight&&(o.scrollTop=e.display.scroller.scrollTop),t.changeObjs&&gt(e,"changes",e,t.changeObjs),t.update&&t.update.finish()}function Jo(t,e){if(t.curOp)return e();Yo(t);try{return e()}finally{Ko(t)}}function $o(t,e){return function(){if(t.curOp)return e.apply(t,arguments);Yo(t);try{return e.apply(t,arguments)}finally{Ko(t)}}}function Zo(t){return function(){if(this.curOp)return t.apply(this,arguments);Yo(this);try{return t.apply(this,arguments)}finally{Ko(this)}}}function tr(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Yo(e);try{return t.apply(this,arguments)}finally{Ko(e)}}}function er(t,e){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(e,N(nr,t))}function nr(t){var e=t.doc;if(!(e.highlightFrontier>=t.display.viewTo)){var n=+new Date+t.options.workTime,o=fe(t,e.highlightFrontier),r=[];e.iter(o.line,Math.min(e.first+e.size,t.display.viewTo+500),function(i){if(o.line>=t.display.viewFrom){var a=i.styles,s=i.text.length>t.options.maxHighlightLength?Vt(e.mode,o.state):null,l=he(t,i,o,!0);s&&(o.state=s),i.styles=l.styles;var u=i.styleClasses,c=l.classes;c?i.styleClasses=c:u&&(i.styleClasses=null);for(var h=!a||a.length!=i.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),d=0;!h&&d<a.length;++d)h=a[d]!=i.styles[d];h&&r.push(o.line),i.stateAfter=o.save(),o.nextLine()}else i.text.length<=t.options.maxHighlightLength&&pe(t,i.text,o),i.stateAfter=o.line%5==0?o.save():null,o.nextLine();if(+new Date>n)return er(t,t.options.workDelay),!0}),e.highlightFrontier=o.line,e.modeFrontier=Math.max(e.modeFrontier,o.line),r.length&&Jo(t,function(){for(var e=0;e<r.length;e++)co(t,r[e],"text")})}}var or=function(t,e,n){var o=t.display;this.viewport=e,this.visible=Ro(o,t.doc,e),this.editorIsHidden=!o.wrapper.offsetWidth,this.wrapperHeight=o.wrapper.clientHeight,this.wrapperWidth=o.wrapper.clientWidth,this.oldDisplayWidth=Rn(t),this.force=n,this.dims=oo(t),this.events=[]};function rr(t,e){var n=t.display,o=t.doc;if(e.editorIsHidden)return ho(t),!1;if(!e.force&&e.visible.from>=n.viewFrom&&e.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==po(t))return!1;cr(t)&&(ho(t),e.dims=oo(t));var r=o.first+o.size,i=Math.max(e.visible.from-t.options.viewportMargin,o.first),a=Math.min(r,e.visible.to+t.options.viewportMargin);n.viewFrom<i&&i-n.viewFrom<20&&(i=Math.max(o.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(r,n.viewTo)),ke&&(i=Fe(t.doc,i),a=Be(t.doc,a));var s=i!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=e.wrapperHeight||n.lastWrapWidth!=e.wrapperWidth;!function(t,e,n){var o=t.display;0==o.view.length||e>=o.viewTo||n<=o.viewFrom?(o.view=rn(t,e,n),o.viewFrom=e):(o.viewFrom>e?o.view=rn(t,e,o.viewFrom).concat(o.view):o.viewFrom<e&&(o.view=o.view.slice(lo(t,e))),o.viewFrom=e,o.viewTo<n?o.view=o.view.concat(rn(t,o.viewTo,n)):o.viewTo>n&&(o.view=o.view.slice(0,lo(t,n)))),o.viewTo=n}(t,i,a),n.viewOffset=je(Kt(t.doc,n.viewFrom)),t.display.mover.style.top=n.viewOffset+"px";var u=po(t);if(!s&&0==u&&!e.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=function(t){if(t.hasFocus())return null;var e=P();if(!e||!A(t.display.lineDiv,e))return null;var n={activeElt:e};if(window.getSelection){var o=window.getSelection();o.anchorNode&&o.extend&&A(t.display.lineDiv,o.anchorNode)&&(n.anchorNode=o.anchorNode,n.anchorOffset=o.anchorOffset,n.focusNode=o.focusNode,n.focusOffset=o.focusOffset)}return n}(t);return u>4&&(n.lineDiv.style.display="none"),function(t,e,n){var o=t.display,r=t.options.lineNumbers,i=o.lineDiv,a=i.firstChild;function s(e){var n=e.nextSibling;return l&&y&&t.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),n}for(var u=o.view,c=o.viewFrom,h=0;h<u.length;h++){var d=u[h];if(d.hidden);else if(d.node&&d.node.parentNode==i){for(;a!=d.node;)a=s(a);var f=r&&null!=e&&e<=c&&d.lineNumber;d.changes&&(B(d.changes,"gutter")>-1&&(f=!1),cn(t,d,c,n)),f&&(R(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(Zt(t.options,c)))),a=d.node.nextSibling}else{var p=mn(t,d,c,n);i.insertBefore(p,a)}c+=d.size}for(;a;)a=s(a)}(t,n.updateLineNumbers,e.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,function(t){if(t&&t.activeElt&&t.activeElt!=P()&&(t.activeElt.focus(),t.anchorNode&&A(document.body,t.anchorNode)&&A(document.body,t.focusNode))){var e=window.getSelection(),n=document.createRange();n.setEnd(t.anchorNode,t.anchorOffset),n.collapse(!1),e.removeAllRanges(),e.addRange(n),e.extend(t.focusNode,t.focusOffset)}}(c),R(n.cursorDiv),R(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=e.wrapperHeight,n.lastWrapWidth=e.wrapperWidth,er(t,400)),n.updateLineNumbers=null,!0}function ir(t,e){for(var n=e.viewport,o=!0;(o&&t.options.lineWrapping&&e.oldDisplayWidth!=Rn(t)||(n&&null!=n.top&&(n={top:Math.min(t.doc.height+xn(t.display)-En(t),n.top)}),e.visible=Ro(t.display,t.doc,n),!(e.visible.from>=t.display.viewFrom&&e.visible.to<=t.display.viewTo)))&&rr(t,e);o=!1){To(t);var r=Io(t);go(t),Bo(t,r),lr(t,r),e.force=!1}e.signal(t,"update",t),t.display.viewFrom==t.display.reportedViewFrom&&t.display.viewTo==t.display.reportedViewTo||(e.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function ar(t,e){var n=new or(t,e);if(rr(t,n)){To(t),ir(t,n);var o=Io(t);go(t),Bo(t,o),lr(t,o),n.finish()}}function sr(t){var e=t.gutters.offsetWidth;t.sizer.style.marginLeft=e+"px"}function lr(t,e){t.display.sizer.style.minHeight=e.docHeight+"px",t.display.heightForcer.style.top=e.docHeight+"px",t.display.gutters.style.height=e.docHeight+t.display.barHeight+On(t)+"px"}function ur(t){var e=t.display,n=e.view;if(e.alignWidgets||e.gutters.firstChild&&t.options.fixedGutter){for(var o=ro(e)-e.scroller.scrollLeft+t.doc.scrollLeft,r=e.gutters.offsetWidth,i=o+"px",a=0;a<n.length;a++)if(!n[a].hidden){t.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=i),n[a].gutterBackground&&(n[a].gutterBackground.style.left=i));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=i}t.options.fixedGutter&&(e.gutters.style.left=o+r+"px")}}function cr(t){if(!t.options.lineNumbers)return!1;var e=t.doc,n=Zt(t.options,e.first+e.size-1),o=t.display;if(n.length!=o.lineNumChars){var r=o.measure.appendChild(M("div",[M("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),i=r.firstChild.offsetWidth,a=r.offsetWidth-i;return o.lineGutter.style.width="",o.lineNumInnerWidth=Math.max(i,o.lineGutter.offsetWidth-a)+1,o.lineNumWidth=o.lineNumInnerWidth+a,o.lineNumChars=o.lineNumInnerWidth?n.length:-1,o.lineGutter.style.width=o.lineNumWidth+"px",sr(t.display),!0}return!1}function hr(t,e){for(var n=[],o=!1,r=0;r<t.length;r++){var i=t[r],a=null;if("string"!=typeof i&&(a=i.style,i=i.className),"CodeMirror-linenumbers"==i){if(!e)continue;o=!0}n.push({className:i,style:a})}return e&&!o&&n.push({className:"CodeMirror-linenumbers",style:null}),n}function dr(t){var e=t.gutters,n=t.gutterSpecs;R(e),t.lineGutter=null;for(var o=0;o<n.length;++o){var r=n[o],i=r.className,a=r.style,s=e.appendChild(M("div",null,"CodeMirror-gutter "+i));a&&(s.style.cssText=a),"CodeMirror-linenumbers"==i&&(t.lineGutter=s,s.style.width=(t.lineNumWidth||1)+"px")}e.style.display=n.length?"":"none",sr(t)}function fr(t){dr(t.display),uo(t),ur(t)}or.prototype.signal=function(t,e){yt(t,e)&&this.events.push(arguments)},or.prototype.finish=function(){for(var t=0;t<this.events.length;t++)gt.apply(null,this.events[t])};var pr=0,gr=null;function vr(t){var e=t.wheelDeltaX,n=t.wheelDeltaY;return null==e&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(e=t.detail),null==n&&t.detail&&t.axis==t.VERTICAL_AXIS?n=t.detail:null==n&&(n=t.wheelDelta),{x:e,y:n}}function mr(t){var e=vr(t);return e.x*=gr,e.y*=gr,e}function yr(t,e){var o=vr(e),r=o.x,i=o.y,a=t.display,s=a.scroller,u=s.scrollWidth>s.clientWidth,c=s.scrollHeight>s.clientHeight;if(r&&u||i&&c){if(i&&y&&l)t:for(var d=e.target,f=a.view;d!=s;d=d.parentNode)for(var p=0;p<f.length;p++)if(f[p].node==d){t.display.currentWheelTarget=d;break t}if(r&&!n&&!h&&null!=gr)return i&&c&&Lo(t,Math.max(0,s.scrollTop+i*gr)),No(t,Math.max(0,s.scrollLeft+r*gr)),(!i||i&&c)&&bt(e),void(a.wheelStartX=null);if(i&&null!=gr){var g=i*gr,v=t.doc.scrollTop,m=v+a.wrapper.clientHeight;g<0?v=Math.max(0,v+g-50):m=Math.min(t.doc.height,m+g+50),ar(t,{top:v,bottom:m})}pr<20&&(null==a.wheelStartX?(a.wheelStartX=s.scrollLeft,a.wheelStartY=s.scrollTop,a.wheelDX=r,a.wheelDY=i,setTimeout(function(){if(null!=a.wheelStartX){var t=s.scrollLeft-a.wheelStartX,e=s.scrollTop-a.wheelStartY,n=e&&a.wheelDY&&e/a.wheelDY||t&&a.wheelDX&&t/a.wheelDX;a.wheelStartX=a.wheelStartY=null,n&&(gr=(gr*pr+n)/(pr+1),++pr)}},200)):(a.wheelDX+=r,a.wheelDY+=i))}}a?gr=-.53:n?gr=15:c?gr=-.7:d&&(gr=-1/3);var wr=function(t,e){this.ranges=t,this.primIndex=e};wr.prototype.primary=function(){return this.ranges[this.primIndex]},wr.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var e=0;e<this.ranges.length;e++){var n=this.ranges[e],o=t.ranges[e];if(!ne(n.anchor,o.anchor)||!ne(n.head,o.head))return!1}return!0},wr.prototype.deepCopy=function(){for(var t=[],e=0;e<this.ranges.length;e++)t[e]=new br(oe(this.ranges[e].anchor),oe(this.ranges[e].head));return new wr(t,this.primIndex)},wr.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},wr.prototype.contains=function(t,e){e||(e=t);for(var n=0;n<this.ranges.length;n++){var o=this.ranges[n];if(ee(e,o.from())>=0&&ee(t,o.to())<=0)return n}return-1};var br=function(t,e){this.anchor=t,this.head=e};function Cr(t,e,n){var o=t&&t.options.selectionsMayTouch,r=e[n];e.sort(function(t,e){return ee(t.from(),e.from())}),n=B(e,r);for(var i=1;i<e.length;i++){var a=e[i],s=e[i-1],l=ee(s.to(),a.from());if(o&&!a.empty()?l>0:l>=0){var u=ie(s.from(),a.from()),c=re(s.to(),a.to()),h=s.empty()?a.from()==a.head:s.from()==s.head;i<=n&&--n,e.splice(--i,2,new br(h?c:u,h?u:c))}}return new wr(e,n)}function kr(t,e){return new wr([new br(t,e||t)],0)}function Sr(t){return t.text?te(t.from.line+t.text.length-1,q(t.text).length+(1==t.text.length?t.from.ch:0)):t.to}function xr(t,e){if(ee(t,e.from)<0)return t;if(ee(t,e.to)<=0)return Sr(e);var n=t.line+e.text.length-(e.to.line-e.from.line)-1,o=t.ch;return t.line==e.to.line&&(o+=Sr(e).ch-e.to.ch),te(n,o)}function Tr(t,e){for(var n=[],o=0;o<t.sel.ranges.length;o++){var r=t.sel.ranges[o];n.push(new br(xr(r.anchor,e),xr(r.head,e)))}return Cr(t.cm,n,t.sel.primIndex)}function Or(t,e,n){return t.line==e.line?te(n.line,t.ch-e.ch+n.ch):te(n.line+(t.line-e.line),t.ch)}function Rr(t){t.doc.mode=Ft(t.options,t.doc.modeOption),Er(t)}function Er(t){t.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,er(t,100),t.state.modeGen++,t.curOp&&uo(t)}function Mr(t,e){return 0==e.from.ch&&0==e.to.ch&&""==q(e.text)&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function _r(t,e,n,o){function r(t){return n?n[t]:null}function i(t,n,r){!function(t,e,n,o){t.text=e,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),null!=t.order&&(t.order=null),Ee(t),Me(t,n);var r=o?o(t):1;r!=t.height&&qt(t,r)}(t,n,r,o),ln(t,"change",t,e)}function a(t,e){for(var n=[],i=t;i<e;++i)n.push(new Ke(u[i],r(i),o));return n}var s=e.from,l=e.to,u=e.text,c=Kt(t,s.line),h=Kt(t,l.line),d=q(u),f=r(u.length-1),p=l.line-s.line;if(e.full)t.insert(0,a(0,u.length)),t.remove(u.length,t.size-u.length);else if(Mr(t,e)){var g=a(0,u.length-1);i(h,h.text,f),p&&t.remove(s.line,p),g.length&&t.insert(s.line,g)}else if(c==h)if(1==u.length)i(c,c.text.slice(0,s.ch)+d+c.text.slice(l.ch),f);else{var v=a(1,u.length-1);v.push(new Ke(d+c.text.slice(l.ch),f,o)),i(c,c.text.slice(0,s.ch)+u[0],r(0)),t.insert(s.line+1,v)}else if(1==u.length)i(c,c.text.slice(0,s.ch)+u[0]+h.text.slice(l.ch),r(0)),t.remove(s.line+1,p);else{i(c,c.text.slice(0,s.ch)+u[0],r(0)),i(h,d+h.text.slice(l.ch),f);var m=a(1,u.length-1);p>1&&t.remove(s.line+1,p-1),t.insert(s.line+1,m)}ln(t,"change",t,e)}function Ar(t,e,n){!function t(o,r,i){if(o.linked)for(var a=0;a<o.linked.length;++a){var s=o.linked[a];if(s.doc!=r){var l=i&&s.sharedHist;n&&!l||(e(s.doc,l),t(s.doc,o,l))}}}(t,null,!0)}function Pr(t,e){if(e.cm)throw new Error("This document is already in use.");t.doc=e,e.cm=t,ao(t),Rr(t),Hr(t),t.options.lineWrapping||Ye(t),t.options.mode=e.modeOption,uo(t)}function Hr(t){("rtl"==t.doc.direction?H:O)(t.display.lineDiv,"CodeMirror-rtl")}function Lr(t){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t||1}function Dr(t,e){var n={from:oe(e.from),to:Sr(e),text:Gt(t,e.from,e.to)};return Fr(t,n,e.from.line,e.to.line+1),Ar(t,function(t){return Fr(t,n,e.from.line,e.to.line+1)},!0),n}function Nr(t){for(;t.length;){if(!q(t).ranges)break;t.pop()}}function Ir(t,e,n,o){var r=t.history;r.undone.length=0;var i,a,s=+new Date;if((r.lastOp==o||r.lastOrigin==e.origin&&e.origin&&("+"==e.origin.charAt(0)&&r.lastModTime>s-(t.cm?t.cm.options.historyEventDelay:500)||"*"==e.origin.charAt(0)))&&(i=function(t,e){return r.lastOp==o?(Nr(t.done),q(t.done)):t.done.length&&!q(t.done).ranges?q(t.done):t.done.length>1&&!t.done[t.done.length-2].ranges?(t.done.pop(),q(t.done)):void 0}(r)))a=q(i.changes),0==ee(e.from,e.to)&&0==ee(e.from,a.to)?a.to=Sr(e):i.changes.push(Dr(t,e));else{var l=q(r.done);for(l&&l.ranges||Wr(t.sel,r.done),i={changes:[Dr(t,e)],generation:r.generation},r.done.push(i);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=o,r.lastOrigin=r.lastSelOrigin=e.origin,a||gt(t,"historyAdded")}function Wr(t,e){var n=q(e);n&&n.ranges&&n.equals(t)||e.push(t)}function Fr(t,e,n,o){var r=e["spans_"+t.id],i=0;t.iter(Math.max(t.first,n),Math.min(t.first+t.size,o),function(n){n.markedSpans&&((r||(r=e["spans_"+t.id]={}))[i]=n.markedSpans),++i})}function Br(t){if(!t)return null;for(var e,n=0;n<t.length;++n)t[n].marker.explicitlyCleared?e||(e=t.slice(0,n)):e&&e.push(t[n]);return e?e.length?e:null:t}function zr(t,e){var n=function(t,e){var n=e["spans_"+t.id];if(!n)return null;for(var o=[],r=0;r<e.text.length;++r)o.push(Br(n[r]));return o}(t,e),o=Oe(t,e);if(!n)return o;if(!o)return n;for(var r=0;r<n.length;++r){var i=n[r],a=o[r];if(i&&a)t:for(var s=0;s<a.length;++s){for(var l=a[s],u=0;u<i.length;++u)if(i[u].marker==l.marker)continue t;i.push(l)}else a&&(n[r]=a)}return n}function Vr(t,e,n){for(var o=[],r=0;r<t.length;++r){var i=t[r];if(i.ranges)o.push(n?wr.prototype.deepCopy.call(i):i);else{var a=i.changes,s=[];o.push({changes:s});for(var l=0;l<a.length;++l){var u=a[l],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),e)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&B(e,Number(c[1]))>-1&&(q(s)[h]=u[h],delete u[h])}}}return o}function jr(t,e,n,o){if(o){var r=t.anchor;if(n){var i=ee(e,r)<0;i!=ee(n,r)<0?(r=e,e=n):i!=ee(e,n)<0&&(e=n)}return new br(r,e)}return new br(n||e,e)}function Ur(t,e,n,o,r){null==r&&(r=t.cm&&(t.cm.display.shift||t.extend)),qr(t,new wr([jr(t.sel.primary(),e,n,r)],0),o)}function Yr(t,e,n){for(var o=[],r=t.cm&&(t.cm.display.shift||t.extend),i=0;i<t.sel.ranges.length;i++)o[i]=jr(t.sel.ranges[i],e[i],null,r);qr(t,Cr(t.cm,o,t.sel.primIndex),n)}function Kr(t,e,n,o){var r=t.sel.ranges.slice(0);r[e]=n,qr(t,Cr(t.cm,r,t.sel.primIndex),o)}function Gr(t,e,n,o){qr(t,kr(e,n),o)}function Xr(t,e,n){var o=t.history.done,r=q(o);r&&r.ranges?(o[o.length-1]=e,Qr(t,e,n)):qr(t,e,n)}function qr(t,e,n){Qr(t,e,n),function(t,e,n,o){var r=t.history,i=o&&o.origin;n==r.lastSelOp||i&&r.lastSelOrigin==i&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==i||function(t,e,n,o){var r=e.charAt(0);return"*"==r||"+"==r&&n.ranges.length==o.ranges.length&&n.somethingSelected()==o.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}(t,i,q(r.done),e))?r.done[r.done.length-1]=e:Wr(e,r.done),r.lastSelTime=+new Date,r.lastSelOrigin=i,r.lastSelOp=n,o&&!1!==o.clearRedo&&Nr(r.undone)}(t,t.sel,t.cm?t.cm.curOp.id:NaN,n)}function Qr(t,e,n){(yt(t,"beforeSelectionChange")||t.cm&&yt(t.cm,"beforeSelectionChange"))&&(e=function(t,e,n){var o={ranges:e.ranges,update:function(e){this.ranges=[];for(var n=0;n<e.length;n++)this.ranges[n]=new br(se(t,e[n].anchor),se(t,e[n].head))},origin:n&&n.origin};return gt(t,"beforeSelectionChange",t,o),t.cm&&gt(t.cm,"beforeSelectionChange",t.cm,o),o.ranges!=e.ranges?Cr(t.cm,o.ranges,o.ranges.length-1):e}(t,e,n));var o=n&&n.bias||(ee(e.primary().head,t.sel.primary().head)<0?-1:1);Jr(t,Zr(t,e,o,!0)),n&&!1===n.scroll||!t.cm||_o(t.cm)}function Jr(t,e){e.equals(t.sel)||(t.sel=e,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,mt(t.cm)),ln(t,"cursorActivity",t))}function $r(t){Jr(t,Zr(t,t.sel,null,!1))}function Zr(t,e,n,o){for(var r,i=0;i<e.ranges.length;i++){var a=e.ranges[i],s=e.ranges.length==t.sel.ranges.length&&t.sel.ranges[i],l=ei(t,a.anchor,s&&s.anchor,n,o),u=ei(t,a.head,s&&s.head,n,o);(r||l!=a.anchor||u!=a.head)&&(r||(r=e.ranges.slice(0,i)),r[i]=new br(l,u))}return r?Cr(t.cm,r,e.primIndex):e}function ti(t,e,n,o,r){var i=Kt(t,e.line);if(i.markedSpans)for(var a=0;a<i.markedSpans.length;++a){var s=i.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=e.ch:s.from<e.ch))&&(null==s.to||(l.inclusiveRight?s.to>=e.ch:s.to>e.ch))){if(r&&(gt(l,"beforeCursorEnter"),l.explicitlyCleared)){if(i.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var u=l.find(o<0?1:-1),c=void 0;if((o<0?l.inclusiveRight:l.inclusiveLeft)&&(u=ni(t,u,-o,u&&u.line==e.line?i:null)),u&&u.line==e.line&&(c=ee(u,n))&&(o<0?c<0:c>0))return ti(t,u,e,o,r)}var h=l.find(o<0?-1:1);return(o<0?l.inclusiveLeft:l.inclusiveRight)&&(h=ni(t,h,o,h.line==e.line?i:null)),h?ti(t,h,e,o,r):null}}return e}function ei(t,e,n,o,r){var i=o||1;return ti(t,e,n,i,r)||!r&&ti(t,e,n,i,!0)||ti(t,e,n,-i,r)||!r&&ti(t,e,n,-i,!0)||(t.cantEdit=!0,te(t.first,0))}function ni(t,e,n,o){return n<0&&0==e.ch?e.line>t.first?se(t,te(e.line-1)):null:n>0&&e.ch==(o||Kt(t,e.line)).text.length?e.line<t.first+t.size-1?te(e.line+1,0):null:new te(e.line,e.ch+n)}function oi(t){t.setSelection(te(t.firstLine(),0),te(t.lastLine()),j)}function ri(t,e,n){var o={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return o.canceled=!0}};return n&&(o.update=function(e,n,r,i){e&&(o.from=se(t,e)),n&&(o.to=se(t,n)),r&&(o.text=r),void 0!==i&&(o.origin=i)}),gt(t,"beforeChange",t,o),t.cm&&gt(t.cm,"beforeChange",t.cm,o),o.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:o.from,to:o.to,text:o.text,origin:o.origin}}function ii(t,e,n){if(t.cm){if(!t.cm.curOp)return $o(t.cm,ii)(t,e,n);if(t.cm.state.suppressEdits)return}if(!(yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"))||(e=ri(t,e,!0))){var o=Ce&&!n&&function(t,e,n){var o=null;if(t.iter(e.line,n.line+1,function(t){if(t.markedSpans)for(var e=0;e<t.markedSpans.length;++e){var n=t.markedSpans[e].marker;!n.readOnly||o&&-1!=B(o,n)||(o||(o=[])).push(n)}}),!o)return null;for(var r=[{from:e,to:n}],i=0;i<o.length;++i)for(var a=o[i],s=a.find(0),l=0;l<r.length;++l){var u=r[l];if(!(ee(u.to,s.from)<0||ee(u.from,s.to)>0)){var c=[l,1],h=ee(u.from,s.from),d=ee(u.to,s.to);(h<0||!a.inclusiveLeft&&!h)&&c.push({from:u.from,to:s.from}),(d>0||!a.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),r.splice.apply(r,c),l+=c.length-3}}return r}(t,e.from,e.to);if(o)for(var r=o.length-1;r>=0;--r)ai(t,{from:o[r].from,to:o[r].to,text:r?[""]:e.text,origin:e.origin});else ai(t,e)}}function ai(t,e){if(1!=e.text.length||""!=e.text[0]||0!=ee(e.from,e.to)){var n=Tr(t,e);Ir(t,e,n,t.cm?t.cm.curOp.id:NaN),ui(t,e,n,Oe(t,e));var o=[];Ar(t,function(t,n){n||-1!=B(o,t.history)||(fi(t.history,e),o.push(t.history)),ui(t,e,null,Oe(t,e))})}}function si(t,e,n){var o=t.cm&&t.cm.state.suppressEdits;if(!o||n){for(var r,i=t.history,a=t.sel,s="undo"==e?i.done:i.undone,l="undo"==e?i.undone:i.done,u=0;u<s.length&&(r=s[u],n?!r.ranges||r.equals(t.sel):r.ranges);u++);if(u!=s.length){for(i.lastOrigin=i.lastSelOrigin=null;;){if(!(r=s.pop()).ranges){if(o)return void s.push(r);break}if(Wr(r,l),n&&!r.equals(t.sel))return void qr(t,r,{clearRedo:!1});a=r}var c=[];Wr(a,l),l.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var h=yt(t,"beforeChange")||t.cm&&yt(t.cm,"beforeChange"),d=function(n){var o=r.changes[n];if(o.origin=e,h&&!ri(t,o,!1))return s.length=0,{};c.push(Dr(t,o));var i=n?Tr(t,o):q(s);ui(t,o,i,zr(t,o)),!n&&t.cm&&t.cm.scrollIntoView({from:o.from,to:Sr(o)});var a=[];Ar(t,function(t,e){e||-1!=B(a,t.history)||(fi(t.history,o),a.push(t.history)),ui(t,o,null,zr(t,o))})},f=r.changes.length-1;f>=0;--f){var p=d(f);if(p)return p.v}}}}function li(t,e){if(0!=e&&(t.first+=e,t.sel=new wr(Q(t.sel.ranges,function(t){return new br(te(t.anchor.line+e,t.anchor.ch),te(t.head.line+e,t.head.ch))}),t.sel.primIndex),t.cm)){uo(t.cm,t.first,t.first-e,e);for(var n=t.cm.display,o=n.viewFrom;o<n.viewTo;o++)co(t.cm,o,"gutter")}}function ui(t,e,n,o){if(t.cm&&!t.cm.curOp)return $o(t.cm,ui)(t,e,n,o);if(e.to.line<t.first)li(t,e.text.length-1-(e.to.line-e.from.line));else if(!(e.from.line>t.lastLine())){if(e.from.line<t.first){var r=e.text.length-1-(t.first-e.from.line);li(t,r),e={from:te(t.first,0),to:te(e.to.line+r,e.to.ch),text:[q(e.text)],origin:e.origin}}var i=t.lastLine();e.to.line>i&&(e={from:e.from,to:te(i,Kt(t,i).text.length),text:[e.text[0]],origin:e.origin}),e.removed=Gt(t,e.from,e.to),n||(n=Tr(t,e)),t.cm?function(t,e,n){var o=t.doc,r=t.display,i=e.from,a=e.to,s=!1,l=i.line;t.options.lineWrapping||(l=Qt(We(Kt(o,i.line))),o.iter(l,a.line+1,function(t){if(t==r.maxLine)return s=!0,!0})),o.sel.contains(e.from,e.to)>-1&&mt(t),_r(o,e,n,io(t)),t.options.lineWrapping||(o.iter(l,i.line+e.text.length,function(t){var e=Ue(t);e>r.maxLineLength&&(r.maxLine=t,r.maxLineLength=e,r.maxLineChanged=!0,s=!1)}),s&&(t.curOp.updateMaxLine=!0)),function(t,e){if(t.modeFrontier=Math.min(t.modeFrontier,e),!(t.highlightFrontier<e-10)){for(var n=t.first,o=e-1;o>n;o--){var r=Kt(t,o).stateAfter;if(r&&(!(r instanceof ue)||o+r.lookAhead<e)){n=o+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,n)}}(o,i.line),er(t,400);var u=e.text.length-(a.line-i.line)-1;e.full?uo(t):i.line!=a.line||1!=e.text.length||Mr(t.doc,e)?uo(t,i.line,a.line+1,u):co(t,i.line,"text");var c=yt(t,"changes"),h=yt(t,"change");if(h||c){var d={from:i,to:a,text:e.text,removed:e.removed,origin:e.origin};h&&ln(t,"change",t,d),c&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(d)}t.display.selForContextMenu=null}(t.cm,e,o):_r(t,e,o),Qr(t,n,j)}}function ci(t,e,n,o,r){var i;o||(o=n),ee(o,n)<0&&(n=(i=[o,n])[0],o=i[1]),"string"==typeof e&&(e=t.splitLines(e)),ii(t,{from:n,to:o,text:e,origin:r})}function hi(t,e,n,o){n<t.line?t.line+=o:e<t.line&&(t.line=e,t.ch=0)}function di(t,e,n,o){for(var r=0;r<t.length;++r){var i=t[r],a=!0;if(i.ranges){i.copied||((i=t[r]=i.deepCopy()).copied=!0);for(var s=0;s<i.ranges.length;s++)hi(i.ranges[s].anchor,e,n,o),hi(i.ranges[s].head,e,n,o)}else{for(var l=0;l<i.changes.length;++l){var u=i.changes[l];if(n<u.from.line)u.from=te(u.from.line+o,u.from.ch),u.to=te(u.to.line+o,u.to.ch);else if(e<=u.to.line){a=!1;break}}a||(t.splice(0,r+1),r=0)}}}function fi(t,e){var n=e.from.line,o=e.to.line,r=e.text.length-(o-n)-1;di(t.done,n,o,r),di(t.undone,n,o,r)}function pi(t,e,n,o){var r=e,i=e;return"number"==typeof e?i=Kt(t,ae(t,e)):r=Qt(e),null==r?null:(o(i,r)&&t.cm&&co(t.cm,r,n),i)}function gi(t){this.lines=t,this.parent=null;for(var e=0,n=0;n<t.length;++n)t[n].parent=this,e+=t[n].height;this.height=e}function vi(t){this.children=t;for(var e=0,n=0,o=0;o<t.length;++o){var r=t[o];e+=r.chunkSize(),n+=r.height,r.parent=this}this.size=e,this.height=n,this.parent=null}br.prototype.from=function(){return ie(this.anchor,this.head)},br.prototype.to=function(){return re(this.anchor,this.head)},br.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},gi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,e){for(var n=t,o=t+e;n<o;++n){var r=this.lines[n];this.height-=r.height,Ge(r),ln(r,"delete")}this.lines.splice(t,e)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,e,n){this.height+=n,this.lines=this.lines.slice(0,t).concat(e).concat(this.lines.slice(t));for(var o=0;o<e.length;++o)e[o].parent=this},iterN:function(t,e,n){for(var o=t+e;t<o;++t)if(n(this.lines[t]))return!0}},vi.prototype={chunkSize:function(){return this.size},removeInner:function(t,e){this.size-=e;for(var n=0;n<this.children.length;++n){var o=this.children[n],r=o.chunkSize();if(t<r){var i=Math.min(e,r-t),a=o.height;if(o.removeInner(t,i),this.height-=a-o.height,r==i&&(this.children.splice(n--,1),o.parent=null),0==(e-=i))break;t=0}else t-=r}if(this.size-e<25&&(this.children.length>1||!(this.children[0]instanceof gi))){var s=[];this.collapse(s),this.children=[new gi(s)],this.children[0].parent=this}},collapse:function(t){for(var e=0;e<this.children.length;++e)this.children[e].collapse(t)},insertInner:function(t,e,n){this.size+=e.length,this.height+=n;for(var o=0;o<this.children.length;++o){var r=this.children[o],i=r.chunkSize();if(t<=i){if(r.insertInner(t,e,n),r.lines&&r.lines.length>50){for(var a=r.lines.length%25+25,s=a;s<r.lines.length;){var l=new gi(r.lines.slice(s,s+=25));r.height-=l.height,this.children.splice(++o,0,l),l.parent=this}r.lines=r.lines.slice(0,a),this.maybeSpill()}break}t-=i}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var e=new vi(t.children.splice(t.children.length-5,5));if(t.parent){t.size-=e.size,t.height-=e.height;var n=B(t.parent.children,t);t.parent.children.splice(n+1,0,e)}else{var o=new vi(t.children);o.parent=t,t.children=[o,e],t=o}e.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,e,n){for(var o=0;o<this.children.length;++o){var r=this.children[o],i=r.chunkSize();if(t<i){var a=Math.min(e,i-t);if(r.iterN(t,a,n))return!0;if(0==(e-=a))break;t=0}else t-=i}}};var mi=function(t,e,n){if(n)for(var o in n)n.hasOwnProperty(o)&&(this[o]=n[o]);this.doc=t,this.node=e};function yi(t,e,n){je(e)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Mo(t,n)}mi.prototype.clear=function(){var t=this.doc.cm,e=this.line.widgets,n=this.line,o=Qt(n);if(null!=o&&e){for(var r=0;r<e.length;++r)e[r]==this&&e.splice(r--,1);e.length||(n.widgets=null);var i=Cn(this);qt(n,Math.max(0,n.height-i)),t&&(Jo(t,function(){yi(t,n,-i),co(t,o,"widget")}),ln(t,"lineWidgetCleared",t,this,o))}},mi.prototype.changed=function(){var t=this,e=this.height,n=this.doc.cm,o=this.line;this.height=null;var r=Cn(this)-e;r&&(ze(this.doc,o)||qt(o,o.height+r),n&&Jo(n,function(){n.curOp.forceUpdate=!0,yi(n,o,r),ln(n,"lineWidgetChanged",n,t,Qt(o))}))},wt(mi);var wi=0,bi=function(t,e){this.lines=[],this.type=e,this.doc=t,this.id=++wi};function Ci(t,e,n,o,r){if(o&&o.shared)return function(t,e,n,o,r){(o=I(o)).shared=!1;var i=[Ci(t,e,n,o,r)],a=i[0],s=o.widgetNode;return Ar(t,function(t){s&&(o.widgetNode=s.cloneNode(!0)),i.push(Ci(t,se(t,e),se(t,n),o,r));for(var l=0;l<t.linked.length;++l)if(t.linked[l].isParent)return;a=q(i)}),new ki(i,a)}(t,e,n,o,r);if(t.cm&&!t.cm.curOp)return $o(t.cm,Ci)(t,e,n,o,r);var i=new bi(t,r),a=ee(e,n);if(o&&I(o,i,!1),a>0||0==a&&!1!==i.clearWhenEmpty)return i;if(i.replacedWith&&(i.collapsed=!0,i.widgetNode=_("span",[i.replacedWith],"CodeMirror-widget"),o.handleMouseEvents||i.widgetNode.setAttribute("cm-ignore-events","true"),o.insertLeft&&(i.widgetNode.insertLeft=!0)),i.collapsed){if(Ie(t,e.line,e,n,i)||e.line!=n.line&&Ie(t,n.line,e,n,i))throw new Error("Inserting collapsed marker partially overlapping an existing one");ke=!0}i.addToHistory&&Ir(t,{from:e,to:n,origin:"markText"},t.sel,NaN);var s,l=e.line,u=t.cm;if(t.iter(l,n.line+1,function(t){u&&i.collapsed&&!u.options.lineWrapping&&We(t)==u.display.maxLine&&(s=!0),i.collapsed&&l!=e.line&&qt(t,0),function(t,e){t.markedSpans=t.markedSpans?t.markedSpans.concat([e]):[e],e.marker.attachLine(t)}(t,new Se(i,l==e.line?e.ch:null,l==n.line?n.ch:null)),++l}),i.collapsed&&t.iter(e.line,n.line+1,function(e){ze(t,e)&&qt(e,0)}),i.clearOnEnter&&dt(i,"beforeCursorEnter",function(){return i.clear()}),i.readOnly&&(Ce=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),i.collapsed&&(i.id=++wi,i.atomic=!0),u){if(s&&(u.curOp.updateMaxLine=!0),i.collapsed)uo(u,e.line,n.line+1);else if(i.className||i.startStyle||i.endStyle||i.css||i.attributes||i.title)for(var c=e.line;c<=n.line;c++)co(u,c,"text");i.atomic&&$r(u.doc),ln(u,"markerAdded",u,i)}return i}bi.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,e=t&&!t.curOp;if(e&&Yo(t),yt(this,"clear")){var n=this.find();n&&ln(this,"clear",n.from,n.to)}for(var o=null,r=null,i=0;i<this.lines.length;++i){var a=this.lines[i],s=xe(a.markedSpans,this);t&&!this.collapsed?co(t,Qt(a),"text"):t&&(null!=s.to&&(r=Qt(a)),null!=s.from&&(o=Qt(a))),a.markedSpans=Te(a.markedSpans,s),null==s.from&&this.collapsed&&!ze(this.doc,a)&&t&&qt(a,eo(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var l=0;l<this.lines.length;++l){var u=We(this.lines[l]),c=Ue(u);c>t.display.maxLineLength&&(t.display.maxLine=u,t.display.maxLineLength=c,t.display.maxLineChanged=!0)}null!=o&&t&&this.collapsed&&uo(t,o,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&$r(t.doc)),t&&ln(t,"markerCleared",t,this,o,r),e&&Ko(t),this.parent&&this.parent.clear()}},bi.prototype.find=function(t,e){var n,o;null==t&&"bookmark"==this.type&&(t=1);for(var r=0;r<this.lines.length;++r){var i=this.lines[r],a=xe(i.markedSpans,this);if(null!=a.from&&(n=te(e?i:Qt(i),a.from),-1==t))return n;if(null!=a.to&&(o=te(e?i:Qt(i),a.to),1==t))return o}return n&&{from:n,to:o}},bi.prototype.changed=function(){var t=this,e=this.find(-1,!0),n=this,o=this.doc.cm;e&&o&&Jo(o,function(){var r=e.line,i=Qt(e.line),a=An(o,i);if(a&&(Wn(a),o.curOp.selectionChanged=o.curOp.forceUpdate=!0),o.curOp.updateMaxLine=!0,!ze(n.doc,r)&&null!=n.height){var s=n.height;n.height=null;var l=Cn(n)-s;l&&qt(r,r.height+l)}ln(o,"markerChanged",o,t)})},bi.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;e.maybeHiddenMarkers&&-1!=B(e.maybeHiddenMarkers,this)||(e.maybeUnhiddenMarkers||(e.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},bi.prototype.detachLine=function(t){if(this.lines.splice(B(this.lines,t),1),!this.lines.length&&this.doc.cm){var e=this.doc.cm.curOp;(e.maybeHiddenMarkers||(e.maybeHiddenMarkers=[])).push(this)}},wt(bi);var ki=function(t,e){this.markers=t,this.primary=e;for(var n=0;n<t.length;++n)t[n].parent=this};function Si(t){return t.findMarks(te(t.first,0),t.clipPos(te(t.lastLine())),function(t){return t.parent})}function xi(t){for(var e=function(e){var n=t[e],o=[n.primary.doc];Ar(n.primary.doc,function(t){return o.push(t)});for(var r=0;r<n.markers.length;r++){var i=n.markers[r];-1==B(o,i.doc)&&(i.parent=null,n.markers.splice(r--,1))}},n=0;n<t.length;n++)e(n)}ki.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();ln(this,"clear")}},ki.prototype.find=function(t,e){return this.primary.find(t,e)},wt(ki);var Ti=0,Oi=function(t,e,n,o,r){if(!(this instanceof Oi))return new Oi(t,e,n,o,r);null==n&&(n=0),vi.call(this,[new gi([new Ke("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=n;var i=te(n,0);this.sel=kr(i),this.history=new Lr(null),this.id=++Ti,this.modeOption=e,this.lineSep=o,this.direction="rtl"==r?"rtl":"ltr",this.extend=!1,"string"==typeof t&&(t=this.splitLines(t)),_r(this,{from:i,to:i,text:t}),qr(this,kr(i),j)};Oi.prototype=$(vi.prototype,{constructor:Oi,iter:function(t,e,n){n?this.iterN(t-this.first,e-t,n):this.iterN(this.first,this.first+this.size,t)},insert:function(t,e){for(var n=0,o=0;o<e.length;++o)n+=e[o].height;this.insertInner(t-this.first,e,n)},remove:function(t,e){this.removeInner(t-this.first,e)},getValue:function(t){var e=Xt(this,this.first,this.first+this.size);return!1===t?e:e.join(t||this.lineSeparator())},setValue:tr(function(t){var e=te(this.first,0),n=this.first+this.size-1;ii(this,{from:e,to:te(n,Kt(this,n).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&Ao(this.cm,0,0),qr(this,kr(e),j)}),replaceRange:function(t,e,n,o){ci(this,t,e=se(this,e),n=n?se(this,n):e,o)},getRange:function(t,e,n){var o=Gt(this,se(this,t),se(this,e));return!1===n?o:o.join(n||this.lineSeparator())},getLine:function(t){var e=this.getLineHandle(t);return e&&e.text},getLineHandle:function(t){if($t(this,t))return Kt(this,t)},getLineNumber:function(t){return Qt(t)},getLineHandleVisualStart:function(t){return"number"==typeof t&&(t=Kt(this,t)),We(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return se(this,t)},getCursor:function(t){var e=this.sel.primary();return null==t||"head"==t?e.head:"anchor"==t?e.anchor:"end"==t||"to"==t||!1===t?e.to():e.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:tr(function(t,e,n){Gr(this,se(this,"number"==typeof t?te(t,e||0):t),null,n)}),setSelection:tr(function(t,e,n){Gr(this,se(this,t),se(this,e||t),n)}),extendSelection:tr(function(t,e,n){Ur(this,se(this,t),e&&se(this,e),n)}),extendSelections:tr(function(t,e){Yr(this,le(this,t),e)}),extendSelectionsBy:tr(function(t,e){Yr(this,le(this,Q(this.sel.ranges,t)),e)}),setSelections:tr(function(t,e,n){if(t.length){for(var o=[],r=0;r<t.length;r++)o[r]=new br(se(this,t[r].anchor),se(this,t[r].head));null==e&&(e=Math.min(t.length-1,this.sel.primIndex)),qr(this,Cr(this.cm,o,e),n)}}),addSelection:tr(function(t,e,n){var o=this.sel.ranges.slice(0);o.push(new br(se(this,t),se(this,e||t))),qr(this,Cr(this.cm,o,o.length-1),n)}),getSelection:function(t){for(var e,n=this.sel.ranges,o=0;o<n.length;o++){var r=Gt(this,n[o].from(),n[o].to());e=e?e.concat(r):r}return!1===t?e:e.join(t||this.lineSeparator())},getSelections:function(t){for(var e=[],n=this.sel.ranges,o=0;o<n.length;o++){var r=Gt(this,n[o].from(),n[o].to());!1!==t&&(r=r.join(t||this.lineSeparator())),e[o]=r}return e},replaceSelection:function(t,e,n){for(var o=[],r=0;r<this.sel.ranges.length;r++)o[r]=t;this.replaceSelections(o,e,n||"+input")},replaceSelections:tr(function(t,e,n){for(var o=[],r=this.sel,i=0;i<r.ranges.length;i++){var a=r.ranges[i];o[i]={from:a.from(),to:a.to(),text:this.splitLines(t[i]),origin:n}}for(var s=e&&"end"!=e&&function(t,e,n){for(var o=[],r=te(t.first,0),i=r,a=0;a<e.length;a++){var s=e[a],l=Or(s.from,r,i),u=Or(Sr(s),r,i);if(r=s.to,i=u,"around"==n){var c=t.sel.ranges[a],h=ee(c.head,c.anchor)<0;o[a]=new br(h?u:l,h?l:u)}else o[a]=new br(l,l)}return new wr(o,t.sel.primIndex)}(this,o,e),l=o.length-1;l>=0;l--)ii(this,o[l]);s?Xr(this,s):this.cm&&_o(this.cm)}),undo:tr(function(){si(this,"undo")}),redo:tr(function(){si(this,"redo")}),undoSelection:tr(function(){si(this,"undo",!0)}),redoSelection:tr(function(){si(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,e=0,n=0,o=0;o<t.done.length;o++)t.done[o].ranges||++e;for(var r=0;r<t.undone.length;r++)t.undone[r].ranges||++n;return{undo:e,redo:n}},clearHistory:function(){this.history=new Lr(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:Vr(this.history.done),undone:Vr(this.history.undone)}},setHistory:function(t){var e=this.history=new Lr(this.history.maxGeneration);e.done=Vr(t.done.slice(0),null,!0),e.undone=Vr(t.undone.slice(0),null,!0)},setGutterMarker:tr(function(t,e,n){return pi(this,t,"gutter",function(t){var o=t.gutterMarkers||(t.gutterMarkers={});return o[e]=n,!n&&nt(o)&&(t.gutterMarkers=null),!0})}),clearGutter:tr(function(t){var e=this;this.iter(function(n){n.gutterMarkers&&n.gutterMarkers[t]&&pi(e,n,"gutter",function(){return n.gutterMarkers[t]=null,nt(n.gutterMarkers)&&(n.gutterMarkers=null),!0})})}),lineInfo:function(t){var e;if("number"==typeof t){if(!$t(this,t))return null;if(e=t,!(t=Kt(this,t)))return null}else if(null==(e=Qt(t)))return null;return{line:e,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:tr(function(t,e,n){return pi(this,t,"gutter"==e?"gutter":"class",function(t){var o="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass";if(t[o]){if(x(n).test(t[o]))return!1;t[o]+=" "+n}else t[o]=n;return!0})}),removeLineClass:tr(function(t,e,n){return pi(this,t,"gutter"==e?"gutter":"class",function(t){var o="text"==e?"textClass":"background"==e?"bgClass":"gutter"==e?"gutterClass":"wrapClass",r=t[o];if(!r)return!1;if(null==n)t[o]=null;else{var i=r.match(x(n));if(!i)return!1;var a=i.index+i[0].length;t[o]=r.slice(0,i.index)+(i.index&&a!=r.length?" ":"")+r.slice(a)||null}return!0})}),addLineWidget:tr(function(t,e,n){return function(t,e,n,o){var r=new mi(t,n,o),i=t.cm;return i&&r.noHScroll&&(i.display.alignWidgets=!0),pi(t,e,"widget",function(e){var n=e.widgets||(e.widgets=[]);if(null==r.insertAt?n.push(r):n.splice(Math.min(n.length-1,Math.max(0,r.insertAt)),0,r),r.line=e,i&&!ze(t,e)){var o=je(e)<t.scrollTop;qt(e,e.height+Cn(r)),o&&Mo(i,r.height),i.curOp.forceUpdate=!0}return!0}),i&&ln(i,"lineWidgetAdded",i,r,"number"==typeof e?e:Qt(e)),r}(this,t,e,n)}),removeLineWidget:function(t){t.clear()},markText:function(t,e,n){return Ci(this,se(this,t),se(this,e),n,n&&n.type||"range")},setBookmark:function(t,e){var n={replacedWith:e&&(null==e.nodeType?e.widget:e),insertLeft:e&&e.insertLeft,clearWhenEmpty:!1,shared:e&&e.shared,handleMouseEvents:e&&e.handleMouseEvents};return Ci(this,t=se(this,t),t,n,"bookmark")},findMarksAt:function(t){var e=[],n=Kt(this,(t=se(this,t)).line).markedSpans;if(n)for(var o=0;o<n.length;++o){var r=n[o];(null==r.from||r.from<=t.ch)&&(null==r.to||r.to>=t.ch)&&e.push(r.marker.parent||r.marker)}return e},findMarks:function(t,e,n){t=se(this,t),e=se(this,e);var o=[],r=t.line;return this.iter(t.line,e.line+1,function(i){var a=i.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];null!=l.to&&r==t.line&&t.ch>=l.to||null==l.from&&r!=t.line||null!=l.from&&r==e.line&&l.from>=e.ch||n&&!n(l.marker)||o.push(l.marker.parent||l.marker)}++r}),o},getAllMarks:function(){var t=[];return this.iter(function(e){var n=e.markedSpans;if(n)for(var o=0;o<n.length;++o)null!=n[o].from&&t.push(n[o].marker)}),t},posFromIndex:function(t){var e,n=this.first,o=this.lineSeparator().length;return this.iter(function(r){var i=r.text.length+o;if(i>t)return e=t,!0;t-=i,++n}),se(this,te(n,e))},indexFromPos:function(t){var e=(t=se(this,t)).ch;if(t.line<this.first||t.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,t.line,function(t){e+=t.text.length+n}),e},copy:function(t){var e=new Oi(Xt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return e.scrollTop=this.scrollTop,e.scrollLeft=this.scrollLeft,e.sel=this.sel,e.extend=!1,t&&(e.history.undoDepth=this.history.undoDepth,e.setHistory(this.getHistory())),e},linkedDoc:function(t){t||(t={});var e=this.first,n=this.first+this.size;null!=t.from&&t.from>e&&(e=t.from),null!=t.to&&t.to<n&&(n=t.to);var o=new Oi(Xt(this,e,n),t.mode||this.modeOption,e,this.lineSep,this.direction);return t.sharedHist&&(o.history=this.history),(this.linked||(this.linked=[])).push({doc:o,sharedHist:t.sharedHist}),o.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],function(t,e){for(var n=0;n<e.length;n++){var o=e[n],r=o.find(),i=t.clipPos(r.from),a=t.clipPos(r.to);if(ee(i,a)){var s=Ci(t,i,a,o.primary,o.primary.type);o.markers.push(s),s.parent=o}}}(o,Si(this)),o},unlinkDoc:function(t){if(t instanceof ba&&(t=t.doc),this.linked)for(var e=0;e<this.linked.length;++e){if(this.linked[e].doc==t){this.linked.splice(e,1),t.unlinkDoc(this),xi(Si(this));break}}if(t.history==this.history){var n=[t.id];Ar(t,function(t){return n.push(t.id)},!0),t.history=new Lr(null),t.history.done=Vr(this.history.done,n),t.history.undone=Vr(this.history.undone,n)}},iterLinkedDocs:function(t){Ar(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Pt(t)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:tr(function(t){var e;"rtl"!=t&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(t){return t.order=null}),this.cm&&Jo(e=this.cm,function(){Hr(e),uo(e)}))})}),Oi.prototype.eachLine=Oi.prototype.iter;var Ri=0;function Ei(t){var e=this;if(Mi(e),!vt(e,t)&&!kn(e.display,t)){bt(t),a&&(Ri=+new Date);var n=so(e,t,!0),o=t.dataTransfer.files;if(n&&!e.isReadOnly())if(o&&o.length&&window.FileReader&&window.File)for(var r=o.length,i=Array(r),s=0,l=function(t,o){if(!e.options.allowDropFileTypes||-1!=B(e.options.allowDropFileTypes,t.type)){var a=new FileReader;a.onload=$o(e,function(){var t=a.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(t)&&(t=""),i[o]=t,++s==r){var l={from:n=se(e.doc,n),to:n,text:e.doc.splitLines(i.join(e.doc.lineSeparator())),origin:"paste"};ii(e.doc,l),Xr(e.doc,kr(n,Sr(l)))}}),a.readAsText(t)}},u=0;u<r;++u)l(o[u],u);else{if(e.state.draggingText&&e.doc.sel.contains(n)>-1)return e.state.draggingText(t),void setTimeout(function(){return e.display.input.focus()},20);try{var c=t.dataTransfer.getData("Text");if(c){var h;if(e.state.draggingText&&!e.state.draggingText.copy&&(h=e.listSelections()),Qr(e.doc,kr(n,n)),h)for(var d=0;d<h.length;++d)ci(e.doc,"",h[d].anchor,h[d].head,"drag");e.replaceSelection(c,"around","paste"),e.display.input.focus()}}catch(t){}}}}function Mi(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function _i(t){if(document.getElementsByClassName){for(var e=document.getElementsByClassName("CodeMirror"),n=[],o=0;o<e.length;o++){var r=e[o].CodeMirror;r&&n.push(r)}n.length&&n[0].operation(function(){for(var e=0;e<n.length;e++)t(n[e])})}}var Ai=!1;function Pi(t){var e=t.display;e.cachedCharWidth=e.cachedTextHeight=e.cachedPaddingH=null,e.scrollbarsClipped=!1,t.setSize()}for(var Hi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Li=0;Li<10;Li++)Hi[Li+48]=Hi[Li+96]=String(Li);for(var Di=65;Di<=90;Di++)Hi[Di]=String.fromCharCode(Di);for(var Ni=1;Ni<=12;Ni++)Hi[Ni+111]=Hi[Ni+63235]="F"+Ni;var Ii={};function Wi(t){var e,n,o,r,i=t.split(/-(?!$)/);t=i[i.length-1];for(var a=0;a<i.length-1;a++){var s=i[a];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);o=!0}}return e&&(t="Alt-"+t),n&&(t="Ctrl-"+t),r&&(t="Cmd-"+t),o&&(t="Shift-"+t),t}function Fi(t){var e={};for(var n in t)if(t.hasOwnProperty(n)){var o=t[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==o){delete t[n];continue}for(var r=Q(n.split(" "),Wi),i=0;i<r.length;i++){var a=void 0,s=void 0;i==r.length-1?(s=r.join(" "),a=o):(s=r.slice(0,i+1).join(" "),a="...");var l=e[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else e[s]=a}delete t[n]}for(var u in e)t[u]=e[u];return t}function Bi(t,e,n,o){var r=(e=Ui(e)).call?e.call(t,o):e[t];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(e.fallthrough){if("[object Array]"!=Object.prototype.toString.call(e.fallthrough))return Bi(t,e.fallthrough,n,o);for(var i=0;i<e.fallthrough.length;i++){var a=Bi(t,e.fallthrough[i],n,o);if(a)return a}}}function zi(t){var e="string"==typeof t?t:Hi[t.keyCode];return"Ctrl"==e||"Alt"==e||"Shift"==e||"Mod"==e}function Vi(t,e,n){var o=t;return e.altKey&&"Alt"!=o&&(t="Alt-"+t),(k?e.metaKey:e.ctrlKey)&&"Ctrl"!=o&&(t="Ctrl-"+t),(k?e.ctrlKey:e.metaKey)&&"Cmd"!=o&&(t="Cmd-"+t),!n&&e.shiftKey&&"Shift"!=o&&(t="Shift-"+t),t}function ji(t,e){if(h&&34==t.keyCode&&t.char)return!1;var n=Hi[t.keyCode];return null!=n&&!t.altGraphKey&&(3==t.keyCode&&t.code&&(n=t.code),Vi(n,t,e))}function Ui(t){return"string"==typeof t?Ii[t]:t}function Yi(t,e){for(var n=t.doc.sel.ranges,o=[],r=0;r<n.length;r++){for(var i=e(n[r]);o.length&&ee(i.from,q(o).to)<=0;){var a=o.pop();if(ee(a.from,i.from)<0){i.from=a.from;break}}o.push(i)}Jo(t,function(){for(var e=o.length-1;e>=0;e--)ci(t.doc,"",o[e].from,o[e].to,"+delete");_o(t)})}function Ki(t,e,n){var o=it(t.text,e+n,n);return o<0||o>t.text.length?null:o}function Gi(t,e,n){var o=Ki(t,e.ch,n);return null==o?null:new te(e.line,o,n<0?"after":"before")}function Xi(t,e,n,o,r){if(t){var i=ct(n,e.doc.direction);if(i){var a,s=r<0?q(i):i[0],l=r<0==(1==s.level)?"after":"before";if(s.level>0||"rtl"==e.doc.direction){var u=Pn(e,n);a=r<0?n.text.length-1:0;var c=Hn(e,u,a).top;a=at(function(t){return Hn(e,u,t).top==c},r<0==(1==s.level)?s.from:s.to-1,a),"before"==l&&(a=Ki(n,a,1))}else a=r<0?s.to:s.from;return new te(o,a,l)}}return new te(o,r<0?n.text.length:0,r<0?"before":"after")}Ii.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Ii.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Ii.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Ii.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Ii.default=y?Ii.macDefault:Ii.pcDefault;var qi={selectAll:oi,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),j)},killLine:function(t){return Yi(t,function(e){if(e.empty()){var n=Kt(t.doc,e.head.line).text.length;return e.head.ch==n&&e.head.line<t.lastLine()?{from:e.head,to:te(e.head.line+1,0)}:{from:e.head,to:te(e.head.line,n)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return Yi(t,function(e){return{from:te(e.from().line,0),to:se(t.doc,te(e.to().line+1,0))}})},delLineLeft:function(t){return Yi(t,function(t){return{from:te(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(t){return Yi(t,function(e){var n=t.charCoords(e.head,"div").top+5;return{from:t.coordsChar({left:0,top:n},"div"),to:e.from()}})},delWrappedLineRight:function(t){return Yi(t,function(e){var n=t.charCoords(e.head,"div").top+5,o=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div");return{from:e.from(),to:o}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(te(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(te(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return Qi(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return Ji(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(t,e){var n=Kt(t.doc,e),o=function(t){for(var e;e=De(t);)t=e.find(1,!0).line;return t}(n);return o!=n&&(e=Qt(o)),Xi(!0,t,n,e,-1)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:n},"div")},Y)},goLineLeft:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5;return t.coordsChar({left:0,top:n},"div")},Y)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(e){var n=t.cursorCoords(e.head,"div").top+5,o=t.coordsChar({left:0,top:n},"div");return o.ch<t.getLine(o.line).search(/\S/)?Ji(t,e.head):o},Y)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"char")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("\t")},insertSoftTab:function(t){for(var e=[],n=t.listSelections(),o=t.options.tabSize,r=0;r<n.length;r++){var i=n[r].from(),a=W(t.getLine(i.line),i.ch,o);e.push(X(o-a%o))}t.replaceSelections(e)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Jo(t,function(){for(var e=t.listSelections(),n=[],o=0;o<e.length;o++)if(e[o].empty()){var r=e[o].head,i=Kt(t.doc,r.line).text;if(i)if(r.ch==i.length&&(r=new te(r.line,r.ch-1)),r.ch>0)r=new te(r.line,r.ch+1),t.replaceRange(i.charAt(r.ch-1)+i.charAt(r.ch-2),te(r.line,r.ch-2),r,"+transpose");else if(r.line>t.doc.first){var a=Kt(t.doc,r.line-1).text;a&&(r=new te(r.line,1),t.replaceRange(i.charAt(0)+t.doc.lineSeparator()+a.charAt(a.length-1),te(r.line-1,a.length-1),r,"+transpose"))}n.push(new br(r,r))}t.setSelections(n)})},newlineAndIndent:function(t){return Jo(t,function(){for(var e=t.listSelections(),n=e.length-1;n>=0;n--)t.replaceRange(t.doc.lineSeparator(),e[n].anchor,e[n].head,"+input");e=t.listSelections();for(var o=0;o<e.length;o++)t.indentLine(e[o].from().line,null,!0);_o(t)})},openLine:function(t){return t.replaceSelection("\n","start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Qi(t,e){var n=Kt(t.doc,e),o=We(n);return o!=n&&(e=Qt(o)),Xi(!0,t,o,e,1)}function Ji(t,e){var n=Qi(t,e.line),o=Kt(t.doc,n.line),r=ct(o,t.doc.direction);if(!r||0==r[0].level){var i=Math.max(0,o.text.search(/\S/)),a=e.line==n.line&&e.ch<=i&&e.ch;return te(n.line,a?0:i,n.sticky)}return n}function $i(t,e,n){if("string"==typeof e&&!(e=qi[e]))return!1;t.display.input.ensurePolled();var o=t.display.shift,r=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),n&&(t.display.shift=!1),r=e(t)!=V}finally{t.display.shift=o,t.state.suppressEdits=!1}return r}var Zi=new F;function ta(t,e,n,o){var r=t.state.keySeq;if(r){if(zi(e))return"handled";if(/\'$/.test(e)?t.state.keySeq=null:Zi.set(50,function(){t.state.keySeq==r&&(t.state.keySeq=null,t.display.input.reset())}),ea(t,r+" "+e,n,o))return!0}return ea(t,e,n,o)}function ea(t,e,n,o){var r=function(t,e,n){for(var o=0;o<t.state.keyMaps.length;o++){var r=Bi(e,t.state.keyMaps[o],n,t);if(r)return r}return t.options.extraKeys&&Bi(e,t.options.extraKeys,n,t)||Bi(e,t.options.keyMap,n,t)}(t,e,o);return"multi"==r&&(t.state.keySeq=e),"handled"==r&&ln(t,"keyHandled",t,e,n),"handled"!=r&&"multi"!=r||(bt(n),bo(t)),!!r}function na(t,e){var n=ji(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?ta(t,"Shift-"+n,e,function(e){return $i(t,e,!0)})||ta(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return $i(t,e)}):ta(t,n,e,function(e){return $i(t,e)}))}var oa=null;function ra(t){var e=this;if(e.curOp.focus=P(),!vt(e,t)){a&&s<11&&27==t.keyCode&&(t.returnValue=!1);var n=t.keyCode;e.display.shift=16==n||t.shiftKey;var o=na(e,t);h&&(oa=o?n:null,!o&&88==n&&!Lt&&(y?t.metaKey:t.ctrlKey)&&e.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(e.display.lineDiv.className)||function(t){var e=t.display.lineDiv;function n(t){18!=t.keyCode&&t.altKey||(O(e,"CodeMirror-crosshair"),pt(document,"keyup",n),pt(document,"mouseover",n))}H(e,"CodeMirror-crosshair"),dt(document,"keyup",n),dt(document,"mouseover",n)}(e)}}function ia(t){16==t.keyCode&&(this.doc.sel.shift=!1),vt(this,t)}function aa(t){var e=this;if(!(kn(e.display,t)||vt(e,t)||t.ctrlKey&&!t.altKey||y&&t.metaKey)){var n=t.keyCode,o=t.charCode;if(h&&n==oa)return oa=null,void bt(t);if(!h||t.which&&!(t.which<10)||!na(e,t)){var r=String.fromCharCode(null==o?n:o);"\b"!=r&&(function(t,e,n){return ta(t,"'"+r+"'",e,function(e){return $i(t,e,!0)})}(e,t)||e.display.input.onKeyPress(t))}}}var sa,la,ua=function(t,e,n){this.time=t,this.pos=e,this.button=n};function ca(t){var e=this,n=e.display;if(!(vt(e,t)||n.activeTouch&&n.input.supportsTouch()))if(n.input.ensurePolled(),n.shift=t.shiftKey,kn(n,t))l||(n.scroller.draggable=!1,setTimeout(function(){return n.scroller.draggable=!0},100));else if(!fa(e,t)){var o=so(e,t),r=Tt(t),i=o?function(t,e){var n=+new Date;return la&&la.compare(n,t,e)?(sa=la=null,"triple"):sa&&sa.compare(n,t,e)?(la=new ua(n,t,e),sa=null,"double"):(sa=new ua(n,t,e),la=null,"single")}(o,r):"single";window.focus(),1==r&&e.state.selectingText&&e.state.selectingText(t),o&&function(t,e,n,o,r){var i="Click";return"double"==o?i="Double"+i:"triple"==o&&(i="Triple"+i),ta(t,Vi(i=(1==e?"Left":2==e?"Middle":"Right")+i,r),r,function(e){if("string"==typeof e&&(e=qi[e]),!e)return!1;var o=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),o=e(t,n)!=V}finally{t.state.suppressEdits=!1}return o})}(e,r,o,i,t)||(1==r?o?function(t,e,n,o){a?setTimeout(N(Co,t),0):t.curOp.focus=P();var r,i=function(t,e,n){var o=t.getOption("configureMouse"),r=o?o(t,e,n):{};if(null==r.unit){var i=w?n.shiftKey&&n.metaKey:n.altKey;r.unit=i?"rectangle":"single"==e?"char":"double"==e?"word":"line"}return(null==r.extend||t.doc.extend)&&(r.extend=t.doc.extend||n.shiftKey),null==r.addNew&&(r.addNew=y?n.metaKey:n.ctrlKey),null==r.moveOnDrag&&(r.moveOnDrag=!(y?n.altKey:n.ctrlKey)),r}(t,n,o),u=t.doc.sel;t.options.dragDrop&&Et&&!t.isReadOnly()&&"single"==n&&(r=u.contains(e))>-1&&(ee((r=u.ranges[r]).from(),e)<0||e.xRel>0)&&(ee(r.to(),e)>0||e.xRel<0)?function(t,e,n,o){var r=t.display,i=!1,u=$o(t,function(e){l&&(r.scroller.draggable=!1),t.state.draggingText=!1,pt(r.wrapper.ownerDocument,"mouseup",u),pt(r.wrapper.ownerDocument,"mousemove",c),pt(r.scroller,"dragstart",h),pt(r.scroller,"drop",u),i||(bt(e),o.addNew||Ur(t.doc,n,null,null,o.extend),l||a&&9==s?setTimeout(function(){r.wrapper.ownerDocument.body.focus(),r.input.focus()},20):r.input.focus())}),c=function(t){i=i||Math.abs(e.clientX-t.clientX)+Math.abs(e.clientY-t.clientY)>=10},h=function(){return i=!0};l&&(r.scroller.draggable=!0),t.state.draggingText=u,u.copy=!o.moveOnDrag,r.scroller.dragDrop&&r.scroller.dragDrop(),dt(r.wrapper.ownerDocument,"mouseup",u),dt(r.wrapper.ownerDocument,"mousemove",c),dt(r.scroller,"dragstart",h),dt(r.scroller,"drop",u),ko(t),setTimeout(function(){return r.input.focus()},20)}(t,o,e,i):function(t,e,n,o){var r=t.display,i=t.doc;bt(e);var a,s,l=i.sel,u=l.ranges;if(o.addNew&&!o.extend?(s=i.sel.contains(n),a=s>-1?u[s]:new br(n,n)):(a=i.sel.primary(),s=i.sel.primIndex),"rectangle"==o.unit)o.addNew||(a=new br(n,n)),n=so(t,e,!0,!0),s=-1;else{var c=ha(t,n,o.unit);a=o.extend?jr(a,c.anchor,c.head,o.extend):c}o.addNew?-1==s?(s=u.length,qr(i,Cr(t,u.concat([a]),s),{scroll:!1,origin:"*mouse"})):u.length>1&&u[s].empty()&&"char"==o.unit&&!o.extend?(qr(i,Cr(t,u.slice(0,s).concat(u.slice(s+1)),0),{scroll:!1,origin:"*mouse"}),l=i.sel):Kr(i,s,a,U):(s=0,qr(i,new wr([a],0),U),l=i.sel);var h=n;function d(e){if(0!=ee(h,e))if(h=e,"rectangle"==o.unit){for(var r=[],u=t.options.tabSize,c=W(Kt(i,n.line).text,n.ch,u),d=W(Kt(i,e.line).text,e.ch,u),f=Math.min(c,d),p=Math.max(c,d),g=Math.min(n.line,e.line),v=Math.min(t.lastLine(),Math.max(n.line,e.line));g<=v;g++){var m=Kt(i,g).text,y=K(m,f,u);f==p?r.push(new br(te(g,y),te(g,y))):m.length>y&&r.push(new br(te(g,y),te(g,K(m,p,u))))}r.length||r.push(new br(n,n)),qr(i,Cr(t,l.ranges.slice(0,s).concat(r),s),{origin:"*mouse",scroll:!1}),t.scrollIntoView(e)}else{var w,b=a,C=ha(t,e,o.unit),k=b.anchor;ee(C.anchor,k)>0?(w=C.head,k=ie(b.from(),C.anchor)):(w=C.anchor,k=re(b.to(),C.head));var S=l.ranges.slice(0);S[s]=function(t,e){var n=e.anchor,o=e.head,r=Kt(t.doc,n.line);if(0==ee(n,o)&&n.sticky==o.sticky)return e;var i=ct(r);if(!i)return e;var a=lt(i,n.ch,n.sticky),s=i[a];if(s.from!=n.ch&&s.to!=n.ch)return e;var l,u=a+(s.from==n.ch==(1!=s.level)?0:1);if(0==u||u==i.length)return e;if(o.line!=n.line)l=(o.line-n.line)*("ltr"==t.doc.direction?1:-1)>0;else{var c=lt(i,o.ch,o.sticky),h=c-a||(o.ch-n.ch)*(1==s.level?-1:1);l=c==u-1||c==u?h<0:h>0}var d=i[u+(l?-1:0)],f=l==(1==d.level),p=f?d.from:d.to,g=f?"after":"before";return n.ch==p&&n.sticky==g?e:new br(new te(n.line,p,g),o)}(t,new br(se(i,k),w)),qr(i,Cr(t,S,s),U)}}var f=r.wrapper.getBoundingClientRect(),p=0;function g(e){t.state.selectingText=!1,p=1/0,e&&(bt(e),r.input.focus()),pt(r.wrapper.ownerDocument,"mousemove",v),pt(r.wrapper.ownerDocument,"mouseup",m),i.history.lastSelOrigin=null}var v=$o(t,function(e){0!==e.buttons&&Tt(e)?function e(n){var a=++p,s=so(t,n,!0,"rectangle"==o.unit);if(s)if(0!=ee(s,h)){t.curOp.focus=P(),d(s);var l=Ro(r,i);(s.line>=l.to||s.line<l.from)&&setTimeout($o(t,function(){p==a&&e(n)}),150)}else{var u=n.clientY<f.top?-20:n.clientY>f.bottom?20:0;u&&setTimeout($o(t,function(){p==a&&(r.scroller.scrollTop+=u,e(n))}),50)}}(e):g(e)}),m=$o(t,g);t.state.selectingText=m,dt(r.wrapper.ownerDocument,"mousemove",v),dt(r.wrapper.ownerDocument,"mouseup",m)}(t,o,e,i)}(e,o,i,t):xt(t)==n.scroller&&bt(t):2==r?(o&&Ur(e.doc,o),setTimeout(function(){return n.input.focus()},20)):3==r&&(S?e.display.input.onContextMenu(t):ko(e)))}}function ha(t,e,n){if("char"==n)return new br(e,e);if("word"==n)return t.findWordAt(e);if("line"==n)return new br(te(e.line,0),se(t.doc,te(e.line+1,0)));var o=n(t,e);return new br(o.from,o.to)}function da(t,e,n,o){var r,i;if(e.touches)r=e.touches[0].clientX,i=e.touches[0].clientY;else try{r=e.clientX,i=e.clientY}catch(e){return!1}if(r>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;o&&bt(e);var a=t.display,s=a.lineDiv.getBoundingClientRect();if(i>s.bottom||!yt(t,n))return kt(e);i-=s.top-a.viewOffset;for(var l=0;l<t.display.gutterSpecs.length;++l){var u=a.gutters.childNodes[l];if(u&&u.getBoundingClientRect().right>=r)return gt(t,n,t,Jt(t.doc,i),t.display.gutterSpecs[l].className,e),kt(e)}}function fa(t,e){return da(t,e,"gutterClick",!0)}function pa(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Bn(t)}ua.prototype.compare=function(t,e,n){return this.time+400>t&&0==ee(e,this.pos)&&n==this.button};var ga={toString:function(){return"CodeMirror.Init"}},va={},ma={};function ya(t,e,n){if(!e!=!(n&&n!=ga)){var o=t.display.dragFunctions,r=e?dt:pt;r(t.display.scroller,"dragstart",o.start),r(t.display.scroller,"dragenter",o.enter),r(t.display.scroller,"dragover",o.over),r(t.display.scroller,"dragleave",o.leave),r(t.display.scroller,"drop",o.drop)}}function wa(t){t.options.lineWrapping?(H(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(O(t.display.wrapper,"CodeMirror-wrap"),Ye(t)),ao(t),uo(t),Bn(t),setTimeout(function(){return Bo(t)},100)}function ba(t,e){var o=this;if(!(this instanceof ba))return new ba(t,e);this.options=e=e?I(e):{},I(va,e,!1);var r=e.value;"string"==typeof r?r=new Oi(r,e.mode,null,e.lineSeparator,e.direction):e.mode&&(r.modeOption=e.mode),this.doc=r;var i=new ba.inputStyles[e.inputStyle](this),u=this.display=new function(t,e,o,r){var i=this;this.input=o,i.scrollbarFiller=M("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=M("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=_("div",null,"CodeMirror-code"),i.selectionDiv=M("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=M("div",null,"CodeMirror-cursors"),i.measure=M("div",null,"CodeMirror-measure"),i.lineMeasure=M("div",null,"CodeMirror-measure"),i.lineSpace=_("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none");var u=_("div",[i.lineSpace],"CodeMirror-lines");i.mover=M("div",[u],null,"position: relative"),i.sizer=M("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=M("div",null,null,"position: absolute; height: "+z+"px; width: 1px;"),i.gutters=M("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=M("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=M("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),a&&s<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),l||n&&m||(i.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(i.wrapper):t(i.wrapper)),i.viewFrom=i.viewTo=e.first,i.reportedViewFrom=i.reportedViewTo=e.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,i.gutterSpecs=hr(r.gutters,r.lineNumbers),dr(i),o.init(i)}(t,r,i,e);for(var c in u.wrapper.CodeMirror=this,pa(this),e.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),jo(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new F,keySeq:null,specialChars:null},e.autofocus&&!m&&u.input.focus(),a&&s<11&&setTimeout(function(){return o.display.input.reset(!0)},20),function(t){var e=t.display;dt(e.scroller,"mousedown",$o(t,ca)),dt(e.scroller,"dblclick",a&&s<11?$o(t,function(e){if(!vt(t,e)){var n=so(t,e);if(n&&!fa(t,e)&&!kn(t.display,e)){bt(e);var o=t.findWordAt(n);Ur(t.doc,o.anchor,o.head)}}}):function(e){return vt(t,e)||bt(e)}),dt(e.scroller,"contextmenu",function(e){return function(t,e){kn(t.display,e)||function(t,e){return!!yt(t,"gutterContextMenu")&&da(t,e,"gutterContextMenu",!1)}(t,e)||vt(t,e,"contextmenu")||S||t.display.input.onContextMenu(e)}(t,e)});var n,o={end:0};function r(){e.activeTouch&&(n=setTimeout(function(){return e.activeTouch=null},1e3),(o=e.activeTouch).end=+new Date)}function i(t,e){if(null==e.left)return!0;var n=e.left-t.left,o=e.top-t.top;return n*n+o*o>400}dt(e.scroller,"touchstart",function(r){if(!vt(t,r)&&!function(t){if(1!=t.touches.length)return!1;var e=t.touches[0];return e.radiusX<=1&&e.radiusY<=1}(r)&&!fa(t,r)){e.input.ensurePolled(),clearTimeout(n);var i=+new Date;e.activeTouch={start:i,moved:!1,prev:i-o.end<=300?o:null},1==r.touches.length&&(e.activeTouch.left=r.touches[0].pageX,e.activeTouch.top=r.touches[0].pageY)}}),dt(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),dt(e.scroller,"touchend",function(n){var o=e.activeTouch;if(o&&!kn(e,n)&&null!=o.left&&!o.moved&&new Date-o.start<300){var a,s=t.coordsChar(e.activeTouch,"page");a=!o.prev||i(o,o.prev)?new br(s,s):!o.prev.prev||i(o,o.prev.prev)?t.findWordAt(s):new br(te(s.line,0),se(t.doc,te(s.line+1,0))),t.setSelection(a.anchor,a.head),t.focus(),bt(n)}r()}),dt(e.scroller,"touchcancel",r),dt(e.scroller,"scroll",function(){e.scroller.clientHeight&&(Lo(t,e.scroller.scrollTop),No(t,e.scroller.scrollLeft,!0),gt(t,"scroll",t))}),dt(e.scroller,"mousewheel",function(e){return yr(t,e)}),dt(e.scroller,"DOMMouseScroll",function(e){return yr(t,e)}),dt(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(e){vt(t,e)||St(e)},over:function(e){vt(t,e)||(function(t,e){var n=so(t,e);if(n){var o=document.createDocumentFragment();mo(t,n,o),t.display.dragCursor||(t.display.dragCursor=M("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),E(t.display.dragCursor,o)}}(t,e),St(e))},start:function(e){return function(t,e){if(a&&(!t.state.draggingText||+new Date-Ri<100))St(e);else if(!vt(t,e)&&!kn(t.display,e)&&(e.dataTransfer.setData("Text",t.getSelection()),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setDragImage&&!d)){var n=M("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",h&&(n.width=n.height=1,t.display.wrapper.appendChild(n),n._top=n.offsetTop),e.dataTransfer.setDragImage(n,0,0),h&&n.parentNode.removeChild(n)}}(t,e)},drop:$o(t,Ei),leave:function(e){vt(t,e)||Mi(t)}};var l=e.input.getField();dt(l,"keyup",function(e){return ia.call(t,e)}),dt(l,"keydown",$o(t,ra)),dt(l,"keypress",$o(t,aa)),dt(l,"focus",function(e){return So(t,e)}),dt(l,"blur",function(e){return xo(t,e)})}(this),function(){var t;Ai||(dt(window,"resize",function(){null==t&&(t=setTimeout(function(){t=null,_i(Pi)},100))}),dt(window,"blur",function(){return _i(xo)}),Ai=!0)}(),Yo(this),this.curOp.forceUpdate=!0,Pr(this,r),e.autofocus&&!m||this.hasFocus()?setTimeout(N(So,this),20):xo(this),ma)ma.hasOwnProperty(c)&&ma[c](o,e[c],ga);cr(this),e.finishInit&&e.finishInit(this);for(var f=0;f<Ca.length;++f)Ca[f](o);Ko(this),l&&e.lineWrapping&&"optimizelegibility"==getComputedStyle(u.lineDiv).textRendering&&(u.lineDiv.style.textRendering="auto")}ba.defaults=va,ba.optionHandlers=ma;var Ca=[];function ka(t,e,n,o){var r,i=t.doc;null==n&&(n="add"),"smart"==n&&(i.mode.indent?r=fe(t,e).state:n="prev");var a=t.options.tabSize,s=Kt(i,e),l=W(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(o||/\S/.test(s.text)){if("smart"==n&&((u=i.mode.indent(r,s.text.slice(c.length),s.text))==V||u>150)){if(!o)return;n="prev"}}else u=0,n="not";"prev"==n?u=e>i.first?W(Kt(i,e-1).text,null,a):0:"add"==n?u=l+t.options.indentUnit:"subtract"==n?u=l-t.options.indentUnit:"number"==typeof n&&(u=l+n),u=Math.max(0,u);var h="",d=0;if(t.options.indentWithTabs)for(var f=Math.floor(u/a);f;--f)d+=a,h+="\t";if(d<u&&(h+=X(u-d)),h!=c)return ci(i,h,te(e,0),te(e,c.length),"+input"),s.stateAfter=null,!0;for(var p=0;p<i.sel.ranges.length;p++){var g=i.sel.ranges[p];if(g.head.line==e&&g.head.ch<c.length){var v=te(e,c.length);Kr(i,p,new br(v,v));break}}}ba.defineInitHook=function(t){return Ca.push(t)};var Sa=null;function xa(t){Sa=t}function Ta(t,e,n,o,r){var i=t.doc;t.display.shift=!1,o||(o=i.sel);var a=+new Date-200,s="paste"==r||t.state.pasteIncoming>a,l=Pt(e),u=null;if(s&&o.ranges.length>1)if(Sa&&Sa.text.join("\n")==e){if(o.ranges.length%Sa.text.length==0){u=[];for(var c=0;c<Sa.text.length;c++)u.push(i.splitLines(Sa.text[c]))}}else l.length==o.ranges.length&&t.options.pasteLinesPerSelection&&(u=Q(l,function(t){return[t]}));for(var h=t.curOp.updateInput,d=o.ranges.length-1;d>=0;d--){var f=o.ranges[d],p=f.from(),g=f.to();f.empty()&&(n&&n>0?p=te(p.line,p.ch-n):t.state.overwrite&&!s?g=te(g.line,Math.min(Kt(i,g.line).text.length,g.ch+q(l).length)):s&&Sa&&Sa.lineWise&&Sa.text.join("\n")==e&&(p=g=te(p.line,0)));var v={from:p,to:g,text:u?u[d%u.length]:l,origin:r||(s?"paste":t.state.cutIncoming>a?"cut":"+input")};ii(t.doc,v),ln(t,"inputRead",t,v)}e&&!s&&Ra(t,e),_o(t),t.curOp.updateInput<2&&(t.curOp.updateInput=h),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Oa(t,e){var n=t.clipboardData&&t.clipboardData.getData("Text");if(n)return t.preventDefault(),e.isReadOnly()||e.options.disableInput||Jo(e,function(){return Ta(e,n,0,null,"paste")}),!0}function Ra(t,e){if(t.options.electricChars&&t.options.smartIndent)for(var n=t.doc.sel,o=n.ranges.length-1;o>=0;o--){var r=n.ranges[o];if(!(r.head.ch>100||o&&n.ranges[o-1].head.line==r.head.line)){var i=t.getModeAt(r.head),a=!1;if(i.electricChars){for(var s=0;s<i.electricChars.length;s++)if(e.indexOf(i.electricChars.charAt(s))>-1){a=ka(t,r.head.line,"smart");break}}else i.electricInput&&i.electricInput.test(Kt(t.doc,r.head.line).text.slice(0,r.head.ch))&&(a=ka(t,r.head.line,"smart"));a&&ln(t,"electricInput",t,r.head.line)}}}function Ea(t){for(var e=[],n=[],o=0;o<t.doc.sel.ranges.length;o++){var r=t.doc.sel.ranges[o].head.line,i={anchor:te(r,0),head:te(r+1,0)};n.push(i),e.push(t.getRange(i.anchor,i.head))}return{text:e,ranges:n}}function Ma(t,e,n,o){t.setAttribute("autocorrect",n?"":"off"),t.setAttribute("autocapitalize",o?"":"off"),t.setAttribute("spellcheck",!!e)}function _a(){var t=M("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),e=M("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return l?t.style.width="1000px":t.setAttribute("wrap","off"),g&&(t.style.border="1px solid black"),Ma(t),e}function Aa(t,e,n,o,r){var i=e,a=n,s=Kt(t,e.line);function l(o){var i,a;if(null==(i=r?function(t,e,n,o){var r=ct(e,t.doc.direction);if(!r)return Gi(e,n,o);n.ch>=e.text.length?(n.ch=e.text.length,n.sticky="before"):n.ch<=0&&(n.ch=0,n.sticky="after");var i=lt(r,n.ch,n.sticky),a=r[i];if("ltr"==t.doc.direction&&a.level%2==0&&(o>0?a.to>n.ch:a.from<n.ch))return Gi(e,n,o);var s,l=function(t,n){return Ki(e,t instanceof te?t.ch:t,n)},u=function(n){return t.options.lineWrapping?(s=s||Pn(t,e),$n(t,e,s,n)):{begin:0,end:e.text.length}},c=u("before"==n.sticky?l(n,-1):n.ch);if("rtl"==t.doc.direction||1==a.level){var h=1==a.level==o<0,d=l(n,h?1:-1);if(null!=d&&(h?d<=a.to&&d<=c.end:d>=a.from&&d>=c.begin)){var f=h?"before":"after";return new te(n.line,d,f)}}var p=function(t,e,o){for(var i=function(t,e){return e?new te(n.line,l(t,1),"before"):new te(n.line,t,"after")};t>=0&&t<r.length;t+=e){var a=r[t],s=e>0==(1!=a.level),u=s?o.begin:l(o.end,-1);if(a.from<=u&&u<a.to)return i(u,s);if(u=s?a.from:l(a.to,-1),o.begin<=u&&u<o.end)return i(u,s)}},g=p(i+o,o,c);if(g)return g;var v=o>0?c.end:l(c.begin,-1);return null==v||o>0&&v==e.text.length||!(g=p(o>0?0:r.length-1,o,u(v)))?null:g}(t.cm,s,e,n):Gi(s,e,n))){if(o||(a=e.line+n)<t.first||a>=t.first+t.size||(e=new te(a,e.ch,e.sticky),!(s=Kt(t,a))))return!1;e=Xi(r,t.cm,s,e.line,n)}else e=i;return!0}if("char"==o)l();else if("column"==o)l(!0);else if("word"==o||"group"==o)for(var u=null,c="group"==o,h=t.cm&&t.cm.getHelper(e,"wordChars"),d=!0;!(n<0)||l(!d);d=!1){var f=s.text.charAt(e.ch)||"\n",p=et(f,h)?"w":c&&"\n"==f?"n":!c||/\s/.test(f)?null:"p";if(!c||d||p||(p="s"),u&&u!=p){n<0&&(n=1,l(),e.sticky="after");break}if(p&&(u=p),n>0&&!l(!d))break}var g=ei(t,e,i,a,!0);return ne(i,g)&&(g.hitSide=!0),g}function Pa(t,e,n,o){var r,i,a=t.doc,s=e.left;if("page"==o){var l=Math.min(t.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),u=Math.max(l-.5*eo(t.display),3);r=(n>0?e.bottom:e.top)+n*u}else"line"==o&&(r=n>0?e.bottom+3:e.top-3);for(;(i=Qn(t,s,r)).outside;){if(n<0?r<=0:r>=a.height){i.hitSide=!0;break}r+=5*n}return i}var Ha=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new F,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function La(t,e){var n=An(t,e.line);if(!n||n.hidden)return null;var o=Kt(t.doc,e.line),r=Mn(n,o,e.line),i=ct(o,t.doc.direction),a="left";i&&(a=lt(i,e.ch)%2?"right":"left");var s=Nn(r.map,e.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Da(t,e){return e&&(t.bad=!0),t}function Na(t,e,n){var o;if(e==t.display.lineDiv){if(!(o=t.display.lineDiv.childNodes[n]))return Da(t.clipPos(te(t.display.viewTo-1)),!0);e=null,n=0}else for(o=e;;o=o.parentNode){if(!o||o==t.display.lineDiv)return null;if(o.parentNode&&o.parentNode==t.display.lineDiv)break}for(var r=0;r<t.display.view.length;r++){var i=t.display.view[r];if(i.node==o)return Ia(i,e,n)}}function Ia(t,e,n){var o=t.text.firstChild,r=!1;if(!e||!A(o,e))return Da(te(Qt(t.line),0),!0);if(e==o&&(r=!0,e=o.childNodes[n],n=0,!e)){var i=t.rest?q(t.rest):t.line;return Da(te(Qt(i),i.text.length),r)}var a=3==e.nodeType?e:null,s=e;for(a||1!=e.childNodes.length||3!=e.firstChild.nodeType||(a=e.firstChild,n&&(n=a.nodeValue.length));s.parentNode!=o;)s=s.parentNode;var l=t.measure,u=l.maps;function c(e,n,o){for(var r=-1;r<(u?u.length:0);r++)for(var i=r<0?l.map:u[r],a=0;a<i.length;a+=3){var s=i[a+2];if(s==e||s==n){var c=Qt(r<0?t.line:t.rest[r]),h=i[a]+o;return(o<0||s!=e)&&(h=i[a+(o?1:0)]),te(c,h)}}}var h=c(a,s,n);if(h)return Da(h,r);for(var d=s.nextSibling,f=a?a.nodeValue.length-n:0;d;d=d.nextSibling){if(h=c(d,d.firstChild,0))return Da(te(h.line,h.ch-f),r);f+=d.textContent.length}for(var p=s.previousSibling,g=n;p;p=p.previousSibling){if(h=c(p,p.firstChild,-1))return Da(te(h.line,h.ch+g),r);g+=p.textContent.length}}Ha.prototype.init=function(t){var e=this,n=this,o=n.cm,r=n.div=t.lineDiv;function i(t){if(!vt(o,t)){if(o.somethingSelected())xa({lineWise:!1,text:o.getSelections()}),"cut"==t.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var e=Ea(o);xa({lineWise:!0,text:e.text}),"cut"==t.type&&o.operation(function(){o.setSelections(e.ranges,0,j),o.replaceSelection("",null,"cut")})}if(t.clipboardData){t.clipboardData.clearData();var i=Sa.text.join("\n");if(t.clipboardData.setData("Text",i),t.clipboardData.getData("Text")==i)return void t.preventDefault()}var a=_a(),s=a.firstChild;o.display.lineSpace.insertBefore(a,o.display.lineSpace.firstChild),s.value=Sa.text.join("\n");var l=document.activeElement;D(s),setTimeout(function(){o.display.lineSpace.removeChild(a),l.focus(),l==r&&n.showPrimarySelection()},50)}}Ma(r,o.options.spellcheck,o.options.autocorrect,o.options.autocapitalize),dt(r,"paste",function(t){vt(o,t)||Oa(t,o)||s<=11&&setTimeout($o(o,function(){return e.updateFromDOM()}),20)}),dt(r,"compositionstart",function(t){e.composing={data:t.data,done:!1}}),dt(r,"compositionupdate",function(t){e.composing||(e.composing={data:t.data,done:!1})}),dt(r,"compositionend",function(t){e.composing&&(t.data!=e.composing.data&&e.readFromDOMSoon(),e.composing.done=!0)}),dt(r,"touchstart",function(){return n.forceCompositionEnd()}),dt(r,"input",function(){e.composing||e.readFromDOMSoon()}),dt(r,"copy",i),dt(r,"cut",i)},Ha.prototype.prepareSelection=function(){var t=vo(this.cm,!1);return t.focus=this.cm.state.focused,t},Ha.prototype.showSelection=function(t,e){t&&this.cm.display.view.length&&((t.focus||e)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Ha.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Ha.prototype.showPrimarySelection=function(){var t=this.getSelection(),e=this.cm,o=e.doc.sel.primary(),r=o.from(),i=o.to();if(e.display.viewTo==e.display.viewFrom||r.line>=e.display.viewTo||i.line<e.display.viewFrom)t.removeAllRanges();else{var a=Na(e,t.anchorNode,t.anchorOffset),s=Na(e,t.focusNode,t.focusOffset);if(!a||a.bad||!s||s.bad||0!=ee(ie(a,s),r)||0!=ee(re(a,s),i)){var l=e.display.view,u=r.line>=e.display.viewFrom&&La(e,r)||{node:l[0].measure.map[2],offset:0},c=i.line<e.display.viewTo&&La(e,i);if(!c){var h=l[l.length-1].measure,d=h.maps?h.maps[h.maps.length-1]:h.map;c={node:d[d.length-1],offset:d[d.length-2]-d[d.length-3]}}if(u&&c){var f,p=t.rangeCount&&t.getRangeAt(0);try{f=T(u.node,u.offset,c.offset,c.node)}catch(t){}f&&(!n&&e.state.focused?(t.collapse(u.node,u.offset),f.collapsed||(t.removeAllRanges(),t.addRange(f))):(t.removeAllRanges(),t.addRange(f)),p&&null==t.anchorNode?t.addRange(p):n&&this.startGracePeriod()),this.rememberSelection()}else t.removeAllRanges()}}},Ha.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Ha.prototype.showMultipleSelections=function(t){E(this.cm.display.cursorDiv,t.cursors),E(this.cm.display.selectionDiv,t.selection)},Ha.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Ha.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var e=t.getRangeAt(0).commonAncestorContainer;return A(this.div,e)},Ha.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Ha.prototype.blur=function(){this.div.blur()},Ha.prototype.getField=function(){return this.div},Ha.prototype.supportsTouch=function(){return!0},Ha.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():Jo(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},Ha.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Ha.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var t=this.getSelection(),e=this.cm;if(v&&c&&this.cm.display.gutterSpecs.length&&function(t){for(var e=t;e;e=e.parentNode)if(/CodeMirror-gutter-wrapper/.test(e.className))return!0;return!1}(t.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var n=Na(e,t.anchorNode,t.anchorOffset),o=Na(e,t.focusNode,t.focusOffset);n&&o&&Jo(e,function(){qr(e.doc,kr(n,o),j),(n.bad||o.bad)&&(e.curOp.selectionChanged=!0)})}}},Ha.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t,e,n,o=this.cm,r=o.display,i=o.doc.sel.primary(),a=i.from(),s=i.to();if(0==a.ch&&a.line>o.firstLine()&&(a=te(a.line-1,Kt(o.doc,a.line-1).length)),s.ch==Kt(o.doc,s.line).text.length&&s.line<o.lastLine()&&(s=te(s.line+1,0)),a.line<r.viewFrom||s.line>r.viewTo-1)return!1;a.line==r.viewFrom||0==(t=lo(o,a.line))?(e=Qt(r.view[0].line),n=r.view[0].node):(e=Qt(r.view[t].line),n=r.view[t-1].node.nextSibling);var l,u,c=lo(o,s.line);if(c==r.view.length-1?(l=r.viewTo-1,u=r.lineDiv.lastChild):(l=Qt(r.view[c+1].line)-1,u=r.view[c+1].node.previousSibling),!n)return!1;for(var h=o.doc.splitLines(function(t,e,n,o,r){var i="",a=!1,s=t.doc.lineSeparator(),l=!1;function u(){a&&(i+=s,l&&(i+=s),a=l=!1)}function c(t){t&&(u(),i+=t)}function h(e){if(1==e.nodeType){var n=e.getAttribute("cm-text");if(n)return void c(n);var i,d=e.getAttribute("cm-marker");if(d){var f=t.findMarks(te(o,0),te(r+1,0),(v=+d,function(t){return t.id==v}));return void(f.length&&(i=f[0].find(0))&&c(Gt(t.doc,i.from,i.to).join(s)))}if("false"==e.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;p&&u();for(var g=0;g<e.childNodes.length;g++)h(e.childNodes[g]);/^(pre|p)$/i.test(e.nodeName)&&(l=!0),p&&(a=!0)}else 3==e.nodeType&&c(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var v}for(;h(e),e!=n;)e=e.nextSibling,l=!1;return i}(o,n,u,e,l)),d=Gt(o.doc,te(e,0),te(l,Kt(o.doc,l).text.length));h.length>1&&d.length>1;)if(q(h)==q(d))h.pop(),d.pop(),l--;else{if(h[0]!=d[0])break;h.shift(),d.shift(),e++}for(var f=0,p=0,g=h[0],v=d[0],m=Math.min(g.length,v.length);f<m&&g.charCodeAt(f)==v.charCodeAt(f);)++f;for(var y=q(h),w=q(d),b=Math.min(y.length-(1==h.length?f:0),w.length-(1==d.length?f:0));p<b&&y.charCodeAt(y.length-p-1)==w.charCodeAt(w.length-p-1);)++p;if(1==h.length&&1==d.length&&e==a.line)for(;f&&f>a.ch&&y.charCodeAt(y.length-p-1)==w.charCodeAt(w.length-p-1);)f--,p++;h[h.length-1]=y.slice(0,y.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(f).replace(/\u200b+$/,"");var C=te(e,f),k=te(l,d.length?q(d).length-p:0);return h.length>1||h[0]||ee(C,k)?(ci(o.doc,h,C,k,"+input"),!0):void 0},Ha.prototype.ensurePolled=function(){this.forceCompositionEnd()},Ha.prototype.reset=function(){this.forceCompositionEnd()},Ha.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Ha.prototype.readFromDOMSoon=function(){var t=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing){if(!t.composing.done)return;t.composing=null}t.updateFromDOM()},80))},Ha.prototype.updateFromDOM=function(){var t=this;!this.cm.isReadOnly()&&this.pollContent()||Jo(this.cm,function(){return uo(t.cm)})},Ha.prototype.setUneditable=function(t){t.contentEditable="false"},Ha.prototype.onKeyPress=function(t){0==t.charCode||this.composing||(t.preventDefault(),this.cm.isReadOnly()||$o(this.cm,Ta)(this.cm,String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),0))},Ha.prototype.readOnlyChanged=function(t){this.div.contentEditable=String("nocursor"!=t)},Ha.prototype.onContextMenu=function(){},Ha.prototype.resetPosition=function(){},Ha.prototype.needsContentAttribute=!0;var Wa=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new F,this.hasSelection=!1,this.composing=null};Wa.prototype.init=function(t){var e=this,n=this,o=this.cm;this.createField(t);var r=this.textarea;function i(t){if(!vt(o,t)){if(o.somethingSelected())xa({lineWise:!1,text:o.getSelections()});else{if(!o.options.lineWiseCopyCut)return;var e=Ea(o);xa({lineWise:!0,text:e.text}),"cut"==t.type?o.setSelections(e.ranges,null,j):(n.prevInput="",r.value=e.text.join("\n"),D(r))}"cut"==t.type&&(o.state.cutIncoming=+new Date)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),g&&(r.style.width="0px"),dt(r,"input",function(){a&&s>=9&&e.hasSelection&&(e.hasSelection=null),n.poll()}),dt(r,"paste",function(t){vt(o,t)||Oa(t,o)||(o.state.pasteIncoming=+new Date,n.fastPoll())}),dt(r,"cut",i),dt(r,"copy",i),dt(t.scroller,"paste",function(e){if(!kn(t,e)&&!vt(o,e)){if(!r.dispatchEvent)return o.state.pasteIncoming=+new Date,void n.focus();var i=new Event("paste");i.clipboardData=e.clipboardData,r.dispatchEvent(i)}}),dt(t.lineSpace,"selectstart",function(e){kn(t,e)||bt(e)}),dt(r,"compositionstart",function(){var t=o.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:t,range:o.markText(t,o.getCursor("to"),{className:"CodeMirror-composing"})}}),dt(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},Wa.prototype.createField=function(t){this.wrapper=_a(),this.textarea=this.wrapper.firstChild},Wa.prototype.prepareSelection=function(){var t=this.cm,e=t.display,n=t.doc,o=vo(t);if(t.options.moveInputWithCursor){var r=Gn(t,n.sel.primary().head,"div"),i=e.wrapper.getBoundingClientRect(),a=e.lineDiv.getBoundingClientRect();o.teTop=Math.max(0,Math.min(e.wrapper.clientHeight-10,r.top+a.top-i.top)),o.teLeft=Math.max(0,Math.min(e.wrapper.clientWidth-10,r.left+a.left-i.left))}return o},Wa.prototype.showSelection=function(t){var e=this.cm.display;E(e.cursorDiv,t.cursors),E(e.selectionDiv,t.selection),null!=t.teTop&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},Wa.prototype.reset=function(t){if(!this.contextMenuPending&&!this.composing){var e=this.cm;if(e.somethingSelected()){this.prevInput="";var n=e.getSelection();this.textarea.value=n,e.state.focused&&D(this.textarea),a&&s>=9&&(this.hasSelection=n)}else t||(this.prevInput=this.textarea.value="",a&&s>=9&&(this.hasSelection=null))}},Wa.prototype.getField=function(){return this.textarea},Wa.prototype.supportsTouch=function(){return!1},Wa.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!m||P()!=this.textarea))try{this.textarea.focus()}catch(t){}},Wa.prototype.blur=function(){this.textarea.blur()},Wa.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Wa.prototype.receivedFocus=function(){this.slowPoll()},Wa.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},Wa.prototype.fastPoll=function(){var t=!1,e=this;e.pollingFast=!0,e.polling.set(20,function n(){e.poll()||t?(e.pollingFast=!1,e.slowPoll()):(t=!0,e.polling.set(60,n))})},Wa.prototype.poll=function(){var t=this,e=this.cm,n=this.textarea,o=this.prevInput;if(this.contextMenuPending||!e.state.focused||Ht(n)&&!o&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var r=n.value;if(r==o&&!e.somethingSelected())return!1;if(a&&s>=9&&this.hasSelection===r||y&&/[\uf700-\uf7ff]/.test(r))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var i=r.charCodeAt(0);if(8203!=i||o||(o="​"),8666==i)return this.reset(),this.cm.execCommand("undo")}for(var l=0,u=Math.min(o.length,r.length);l<u&&o.charCodeAt(l)==r.charCodeAt(l);)++l;return Jo(e,function(){Ta(e,r.slice(l),o.length-l,null,t.composing?"*compose":null),r.length>1e3||r.indexOf("\n")>-1?n.value=t.prevInput="":t.prevInput=r,t.composing&&(t.composing.range.clear(),t.composing.range=e.markText(t.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Wa.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Wa.prototype.onKeyPress=function(){a&&s>=9&&(this.hasSelection=null),this.fastPoll()},Wa.prototype.onContextMenu=function(t){var e=this,n=e.cm,o=n.display,r=e.textarea;e.contextMenuPending&&e.contextMenuPending();var i=so(n,t),u=o.scroller.scrollTop;if(i&&!h){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(i)&&$o(n,qr)(n.doc,kr(i),j);var c,d=r.style.cssText,f=e.wrapper.style.cssText,p=e.wrapper.offsetParent.getBoundingClientRect();if(e.wrapper.style.cssText="position: static",r.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(t.clientY-p.top-5)+"px; left: "+(t.clientX-p.left-5)+"px;\n      z-index: 1000; background: "+(a?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",l&&(c=window.scrollY),o.input.focus(),l&&window.scrollTo(null,c),o.input.reset(),n.somethingSelected()||(r.value=e.prevInput=" "),e.contextMenuPending=m,o.selForContextMenu=n.doc.sel,clearTimeout(o.detectingSelectAll),a&&s>=9&&v(),S){St(t);var g=function(){pt(window,"mouseup",g),setTimeout(m,20)};dt(window,"mouseup",g)}else setTimeout(m,50)}function v(){if(null!=r.selectionStart){var t=n.somethingSelected(),i="​"+(t?r.value:"");r.value="⇚",r.value=i,e.prevInput=t?"":"​",r.selectionStart=1,r.selectionEnd=i.length,o.selForContextMenu=n.doc.sel}}function m(){if(e.contextMenuPending==m&&(e.contextMenuPending=!1,e.wrapper.style.cssText=f,r.style.cssText=d,a&&s<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=u),null!=r.selectionStart)){(!a||a&&s<9)&&v();var t=0,i=function(){o.selForContextMenu==n.doc.sel&&0==r.selectionStart&&r.selectionEnd>0&&"​"==e.prevInput?$o(n,oi)(n):t++<10?o.detectingSelectAll=setTimeout(i,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(i,200)}}},Wa.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled="nocursor"==t},Wa.prototype.setUneditable=function(){},Wa.prototype.needsContentAttribute=!1,function(t){var e=t.optionHandlers;function n(n,o,r,i){t.defaults[n]=o,r&&(e[n]=i?function(t,e,n){n!=ga&&r(t,e,n)}:r)}t.defineOption=n,t.Init=ga,n("value","",function(t,e){return t.setValue(e)},!0),n("mode",null,function(t,e){t.doc.modeOption=e,Rr(t)},!0),n("indentUnit",2,Rr,!0),n("indentWithTabs",!1),n("smartIndent",!0),n("tabSize",4,function(t){Er(t),Bn(t),uo(t)},!0),n("lineSeparator",null,function(t,e){if(t.doc.lineSep=e,e){var n=[],o=t.doc.first;t.doc.iter(function(t){for(var r=0;;){var i=t.text.indexOf(e,r);if(-1==i)break;r=i+e.length,n.push(te(o,i))}o++});for(var r=n.length-1;r>=0;r--)ci(t.doc,e,n[r],te(n[r].line,n[r].ch+e.length))}}),n("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(t,e,n){t.state.specialChars=new RegExp(e.source+(e.test("\t")?"":"|\t"),"g"),n!=ga&&t.refresh()}),n("specialCharPlaceholder",$e,function(t){return t.refresh()},!0),n("electricChars",!0),n("inputStyle",m?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),n("spellcheck",!1,function(t,e){return t.getInputField().spellcheck=e},!0),n("autocorrect",!1,function(t,e){return t.getInputField().autocorrect=e},!0),n("autocapitalize",!1,function(t,e){return t.getInputField().autocapitalize=e},!0),n("rtlMoveVisually",!b),n("wholeLineUpdateBefore",!0),n("theme","default",function(t){pa(t),fr(t)},!0),n("keyMap","default",function(t,e,n){var o=Ui(e),r=n!=ga&&Ui(n);r&&r.detach&&r.detach(t,o),o.attach&&o.attach(t,r||null)}),n("extraKeys",null),n("configureMouse",null),n("lineWrapping",!1,wa,!0),n("gutters",[],function(t,e){t.display.gutterSpecs=hr(e,t.options.lineNumbers),fr(t)},!0),n("fixedGutter",!0,function(t,e){t.display.gutters.style.left=e?ro(t.display)+"px":"0",t.refresh()},!0),n("coverGutterNextToScrollbar",!1,function(t){return Bo(t)},!0),n("scrollbarStyle","native",function(t){jo(t),Bo(t),t.display.scrollbars.setScrollTop(t.doc.scrollTop),t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0),n("lineNumbers",!1,function(t,e){t.display.gutterSpecs=hr(t.options.gutters,e),fr(t)},!0),n("firstLineNumber",1,fr,!0),n("lineNumberFormatter",function(t){return t},fr,!0),n("showCursorWhenSelecting",!1,go,!0),n("resetSelectionOnContextMenu",!0),n("lineWiseCopyCut",!0),n("pasteLinesPerSelection",!0),n("selectionsMayTouch",!1),n("readOnly",!1,function(t,e){"nocursor"==e&&(xo(t),t.display.input.blur()),t.display.input.readOnlyChanged(e)}),n("disableInput",!1,function(t,e){e||t.display.input.reset()},!0),n("dragDrop",!0,ya),n("allowDropFileTypes",null),n("cursorBlinkRate",530),n("cursorScrollMargin",0),n("cursorHeight",1,go,!0),n("singleCursorHeightPerLine",!0,go,!0),n("workTime",100),n("workDelay",100),n("flattenSpans",!0,Er,!0),n("addModeClass",!1,Er,!0),n("pollInterval",100),n("undoDepth",200,function(t,e){return t.doc.history.undoDepth=e}),n("historyEventDelay",1250),n("viewportMargin",10,function(t){return t.refresh()},!0),n("maxHighlightLength",1e4,Er,!0),n("moveInputWithCursor",!0,function(t,e){e||t.display.input.resetPosition()}),n("tabindex",null,function(t,e){return t.display.input.getField().tabIndex=e||""}),n("autofocus",null),n("direction","ltr",function(t,e){return t.doc.setDirection(e)},!0),n("phrases",null)}(ba),function(t){var e=t.optionHandlers,n=t.helpers={};t.prototype={constructor:t,focus:function(){window.focus(),this.display.input.focus()},setOption:function(t,n){var o=this.options,r=o[t];o[t]==n&&"mode"!=t||(o[t]=n,e.hasOwnProperty(t)&&$o(this,e[t])(this,n,r),gt(this,"optionChange",this,t))},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,e){this.state.keyMaps[e?"push":"unshift"](Ui(t))},removeKeyMap:function(t){for(var e=this.state.keyMaps,n=0;n<e.length;++n)if(e[n]==t||e[n].name==t)return e.splice(n,1),!0},addOverlay:Zo(function(e,n){var o=e.token?e:t.getMode(this.options,e);if(o.startState)throw new Error("Overlays may not be stateful.");!function(t,e,n){for(var o=0,r=n(e);o<t.length&&n(t[o])<=r;)o++;t.splice(o,0,e)}(this.state.overlays,{mode:o,modeSpec:e,opaque:n&&n.opaque,priority:n&&n.priority||0},function(t){return t.priority}),this.state.modeGen++,uo(this)}),removeOverlay:Zo(function(t){for(var e=this.state.overlays,n=0;n<e.length;++n){var o=e[n].modeSpec;if(o==t||"string"==typeof t&&o.name==t)return e.splice(n,1),this.state.modeGen++,void uo(this)}}),indentLine:Zo(function(t,e,n){"string"!=typeof e&&"number"!=typeof e&&(e=null==e?this.options.smartIndent?"smart":"prev":e?"add":"subtract"),$t(this.doc,t)&&ka(this,t,e,n)}),indentSelection:Zo(function(t){for(var e=this.doc.sel.ranges,n=-1,o=0;o<e.length;o++){var r=e[o];if(r.empty())r.head.line>n&&(ka(this,r.head.line,t,!0),n=r.head.line,o==this.doc.sel.primIndex&&_o(this));else{var i=r.from(),a=r.to(),s=Math.max(n,i.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)ka(this,l,t);var u=this.doc.sel.ranges;0==i.ch&&e.length==u.length&&u[o].from().ch>0&&Kr(this.doc,o,new br(i,u[o].to()),j)}}}),getTokenAt:function(t,e){return ye(this,t,e)},getLineTokens:function(t,e){return ye(this,te(t),e,!0)},getTokenTypeAt:function(t){t=se(this.doc,t);var e,n=de(this,Kt(this.doc,t.line)),o=0,r=(n.length-1)/2,i=t.ch;if(0==i)e=n[2];else for(;;){var a=o+r>>1;if((a?n[2*a-1]:0)>=i)r=a;else{if(!(n[2*a+1]<i)){e=n[2*a+2];break}o=a+1}}var s=e?e.indexOf("overlay "):-1;return s<0?e:0==s?null:e.slice(0,s-1)},getModeAt:function(e){var n=this.doc.mode;return n.innerMode?t.innerMode(n,this.getTokenAt(e).state).mode:n},getHelper:function(t,e){return this.getHelpers(t,e)[0]},getHelpers:function(t,e){var o=[];if(!n.hasOwnProperty(e))return o;var r=n[e],i=this.getModeAt(t);if("string"==typeof i[e])r[i[e]]&&o.push(r[i[e]]);else if(i[e])for(var a=0;a<i[e].length;a++){var s=r[i[e][a]];s&&o.push(s)}else i.helperType&&r[i.helperType]?o.push(r[i.helperType]):r[i.name]&&o.push(r[i.name]);for(var l=0;l<r._global.length;l++){var u=r._global[l];u.pred(i,this)&&-1==B(o,u.val)&&o.push(u.val)}return o},getStateAfter:function(t,e){var n=this.doc;return fe(this,(t=ae(n,null==t?n.first+n.size-1:t))+1,e).state},cursorCoords:function(t,e){var n=this.doc.sel.primary();return Gn(this,null==t?n.head:"object"==typeof t?se(this.doc,t):t?n.from():n.to(),e||"page")},charCoords:function(t,e){return Kn(this,se(this.doc,t),e||"page")},coordsChar:function(t,e){return Qn(this,(t=Yn(this,t,e||"page")).left,t.top)},lineAtHeight:function(t,e){return t=Yn(this,{top:t,left:0},e||"page").top,Jt(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,e,n){var o,r=!1;if("number"==typeof t){var i=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>i&&(t=i,r=!0),o=Kt(this.doc,t)}else o=t;return Un(this,o,{top:0,left:0},e||"page",n||r).top+(r?this.doc.height-je(o):0)},defaultTextHeight:function(){return eo(this.display)},defaultCharWidth:function(){return no(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,e,n,o,r){var i,a,s=this.display,l=(t=Gn(this,se(this.doc,t))).bottom,u=t.left;if(e.style.position="absolute",e.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(e),s.sizer.appendChild(e),"over"==o)l=t.top;else if("above"==o||"near"==o){var c=Math.max(s.wrapper.clientHeight,this.doc.height),h=Math.max(s.sizer.clientWidth,s.lineSpace.clientWidth);("above"==o||t.bottom+e.offsetHeight>c)&&t.top>e.offsetHeight?l=t.top-e.offsetHeight:t.bottom+e.offsetHeight<=c&&(l=t.bottom),u+e.offsetWidth>h&&(u=h-e.offsetWidth)}e.style.top=l+"px",e.style.left=e.style.right="","right"==r?(u=s.sizer.clientWidth-e.offsetWidth,e.style.right="0px"):("left"==r?u=0:"middle"==r&&(u=(s.sizer.clientWidth-e.offsetWidth)/2),e.style.left=u+"px"),n&&(null!=(a=Eo(i=this,{left:u,top:l,right:u+e.offsetWidth,bottom:l+e.offsetHeight})).scrollTop&&Lo(i,a.scrollTop),null!=a.scrollLeft&&No(i,a.scrollLeft))},triggerOnKeyDown:Zo(ra),triggerOnKeyPress:Zo(aa),triggerOnKeyUp:ia,triggerOnMouseDown:Zo(ca),execCommand:function(t){if(qi.hasOwnProperty(t))return qi[t].call(null,this)},triggerElectric:Zo(function(t){Ra(this,t)}),findPosH:function(t,e,n,o){var r=1;e<0&&(r=-1,e=-e);for(var i=se(this.doc,t),a=0;a<e&&!(i=Aa(this.doc,i,r,n,o)).hitSide;++a);return i},moveH:Zo(function(t,e){var n=this;this.extendSelectionsBy(function(o){return n.display.shift||n.doc.extend||o.empty()?Aa(n.doc,o.head,t,e,n.options.rtlMoveVisually):t<0?o.from():o.to()},Y)}),deleteH:Zo(function(t,e){var n=this.doc.sel,o=this.doc;n.somethingSelected()?o.replaceSelection("",null,"+delete"):Yi(this,function(n){var r=Aa(o,n.head,t,e,!1);return t<0?{from:r,to:n.head}:{from:n.head,to:r}})}),findPosV:function(t,e,n,o){var r=1,i=o;e<0&&(r=-1,e=-e);for(var a=se(this.doc,t),s=0;s<e;++s){var l=Gn(this,a,"div");if(null==i?i=l.left:l.left=i,(a=Pa(this,l,r,n)).hitSide)break}return a},moveV:Zo(function(t,e){var n=this,o=this.doc,r=[],i=!this.display.shift&&!o.extend&&o.sel.somethingSelected();if(o.extendSelectionsBy(function(a){if(i)return t<0?a.from():a.to();var s=Gn(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),r.push(s.left);var l=Pa(n,s,t,e);return"page"==e&&a==o.sel.primary()&&Mo(n,Kn(n,l,"div").top-s.top),l},Y),r.length)for(var a=0;a<o.sel.ranges.length;a++)o.sel.ranges[a].goalColumn=r[a]}),findWordAt:function(t){var e=Kt(this.doc,t.line).text,n=t.ch,o=t.ch;if(e){var r=this.getHelper(t,"wordChars");"before"!=t.sticky&&o!=e.length||!n?++o:--n;for(var i=e.charAt(n),a=et(i,r)?function(t){return et(t,r)}:/\s/.test(i)?function(t){return/\s/.test(t)}:function(t){return!/\s/.test(t)&&!et(t)};n>0&&a(e.charAt(n-1));)--n;for(;o<e.length&&a(e.charAt(o));)++o}return new br(te(t.line,n),te(t.line,o))},toggleOverwrite:function(t){null!=t&&t==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?H(this.display.cursorDiv,"CodeMirror-overwrite"):O(this.display.cursorDiv,"CodeMirror-overwrite"),gt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==P()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Zo(function(t,e){Ao(this,t,e)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-On(this)-this.display.barHeight,width:t.scrollWidth-On(this)-this.display.barWidth,clientHeight:En(this),clientWidth:Rn(this)}},scrollIntoView:Zo(function(t,e){null==t?(t={from:this.doc.sel.primary().head,to:null},null==e&&(e=this.options.cursorScrollMargin)):"number"==typeof t?t={from:te(t,0),to:null}:null==t.from&&(t={from:t,to:null}),t.to||(t.to=t.from),t.margin=e||0,null!=t.from.line?function(t,e){Po(t),t.curOp.scrollToPos=e}(this,t):Ho(this,t.from,t.to,t.margin)}),setSize:Zo(function(t,e){var n=this,o=function(t){return"number"==typeof t||/^\d+$/.test(String(t))?t+"px":t};null!=t&&(this.display.wrapper.style.width=o(t)),null!=e&&(this.display.wrapper.style.height=o(e)),this.options.lineWrapping&&Fn(this);var r=this.display.viewFrom;this.doc.iter(r,this.display.viewTo,function(t){if(t.widgets)for(var e=0;e<t.widgets.length;e++)if(t.widgets[e].noHScroll){co(n,r,"widget");break}++r}),this.curOp.forceUpdate=!0,gt(this,"refresh",this)}),operation:function(t){return Jo(this,t)},startOperation:function(){return Yo(this)},endOperation:function(){return Ko(this)},refresh:Zo(function(){var t=this.display.cachedTextHeight;uo(this),this.curOp.forceUpdate=!0,Bn(this),Ao(this,this.doc.scrollLeft,this.doc.scrollTop),sr(this.display),(null==t||Math.abs(t-eo(this.display))>.5)&&ao(this),gt(this,"refresh",this)}),swapDoc:Zo(function(t){var e=this.doc;return e.cm=null,this.state.selectingText&&this.state.selectingText(),Pr(this,t),Bn(this),this.display.input.reset(),Ao(this,t.scrollLeft,t.scrollTop),this.curOp.forceScroll=!0,ln(this,"swapDoc",this,e),e}),phrase:function(t){var e=this.options.phrases;return e&&Object.prototype.hasOwnProperty.call(e,t)?e[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},wt(t),t.registerHelper=function(e,o,r){n.hasOwnProperty(e)||(n[e]=t[e]={_global:[]}),n[e][o]=r},t.registerGlobalHelper=function(e,o,r,i){t.registerHelper(e,o,i),n[e]._global.push({pred:r,val:i})}}(ba);var Fa="iter insert remove copy getEditor constructor".split(" ");for(var Ba in Oi.prototype)Oi.prototype.hasOwnProperty(Ba)&&B(Fa,Ba)<0&&(ba.prototype[Ba]=function(t){return function(){return t.apply(this.doc,arguments)}}(Oi.prototype[Ba]));return wt(Oi),ba.inputStyles={textarea:Wa,contenteditable:Ha},ba.defineMode=function(t){ba.defaults.mode||"null"==t||(ba.defaults.mode=t),function(t,e){arguments.length>2&&(e.dependencies=Array.prototype.slice.call(arguments,2)),Nt[t]=e}.apply(this,arguments)},ba.defineMIME=function(t,e){It[t]=e},ba.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),ba.defineMIME("text/plain","null"),ba.defineExtension=function(t,e){ba.prototype[t]=e},ba.defineDocExtension=function(t,e){Oi.prototype[t]=e},ba.fromTextArea=function(t,e){if((e=e?I(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=P();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function o(){t.value=s.getValue()}var r;if(t.form&&(dt(t.form,"submit",o),!e.leaveSubmitMethodAlone)){var i=t.form;r=i.submit;try{var a=i.submit=function(){o(),i.submit=r,i.submit(),i.submit=a}}catch(t){}}e.finishInit=function(e){e.save=o,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,o(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(pt(t.form,"submit",o),"function"==typeof t.form.submit&&(t.form.submit=r))}},t.style.display="none";var s=ba(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return s},function(t){t.off=pt,t.on=dt,t.wheelEventPixels=mr,t.Doc=Oi,t.splitLines=Pt,t.countColumn=W,t.findColumn=K,t.isWordChar=tt,t.Pass=V,t.signal=gt,t.Line=Ke,t.changeEnd=Sr,t.scrollbarModel=Vo,t.Pos=te,t.cmpPos=ee,t.modes=Nt,t.mimeModes=It,t.resolveMode=Wt,t.getMode=Ft,t.modeExtensions=Bt,t.extendMode=zt,t.copyState=Vt,t.startState=Ut,t.innerMode=jt,t.commands=qi,t.keyMap=Ii,t.keyName=ji,t.isModifierKey=zi,t.lookupKey=Bi,t.normalizeKeyMap=Fi,t.StringStream=Yt,t.SharedTextMarker=ki,t.TextMarker=bi,t.LineWidget=mi,t.e_preventDefault=bt,t.e_stopPropagation=Ct,t.e_stop=St,t.addClass=H,t.contains=A,t.rmClass=O,t.keyNames=Hi}(ba),ba.version="5.47.0",ba}()},335:function(t,e,n){var o=n(336);"string"==typeof o&&(o=[[t.i,o,""]]),n(10)(o,{}),o.locals&&(t.exports=o.locals)},336:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,'@charset "UTF-8";\n/*!\n * (The MIT License)\n * \n * Copyright (c) 2012-2014 Marcin Warpechowski\n * Copyright (c) 2015 Handsoncode sp. z o.o. <hello@handsoncode.net>\n * \n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \'Software\'), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n * \n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \'AS IS\', WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n * IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\n * CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\n * TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n * \n * Version: 0.32.0\n * Date: Tue May 30 2017 12:18:39 GMT+0200 (CEST)\n */.handsontable .table td,.handsontable .table th{border-top:none}.handsontable tr{background:#fff}.handsontable td{background-color:inherit}.table caption+thead tr:first-child td,.table caption+thead tr:first-child th,.table colgroup+thead tr:first-child td,.table colgroup+thead tr:first-child th,.table thead:first-child tr:first-child td,.table thead:first-child tr:first-child th{border-top:1px solid #ccc}.handsontable .table-bordered{border:0;border-collapse:separate}.handsontable .table-bordered td,.handsontable .table-bordered th{border-left:none}.handsontable .table-bordered td:first-child,.handsontable .table-bordered th:first-child{border-left:1px solid #ccc}.table>tbody>tr>td,.table>tbody>tr>th,.table>tfoot>tr>td,.table>tfoot>tr>th,.table>thead>tr>td,.table>thead>tr>th{line-height:21px;padding:0 4px}.col-lg-1.handsontable,.col-lg-2.handsontable,.col-lg-3.handsontable,.col-lg-4.handsontable,.col-lg-5.handsontable,.col-lg-6.handsontable,.col-lg-7.handsontable,.col-lg-8.handsontable,.col-lg-9.handsontable,.col-lg-10.handsontable,.col-lg-11.handsontable,.col-lg-12.handsontable,.col-md-1.handsontable,.col-md-2.handsontable,.col-md-3.handsontable,.col-md-4.handsontable,.col-md-5.handsontable,.col-md-6.handsontable,.col-md-7.handsontable,.col-md-8.handsontable,.col-md-9.handsontable .col-sm-1.handsontable,.col-md-10.handsontable,.col-md-11.handsontable,.col-md-12.handsontable,.col-sm-2.handsontable,.col-sm-3.handsontable,.col-sm-4.handsontable,.col-sm-5.handsontable,.col-sm-6.handsontable,.col-sm-7.handsontable,.col-sm-8.handsontable,.col-sm-9.handsontable .col-xs-1.handsontable,.col-sm-10.handsontable,.col-sm-11.handsontable,.col-sm-12.handsontable,.col-xs-2.handsontable,.col-xs-3.handsontable,.col-xs-4.handsontable,.col-xs-5.handsontable,.col-xs-6.handsontable,.col-xs-7.handsontable,.col-xs-8.handsontable,.col-xs-9.handsontable,.col-xs-10.handsontable,.col-xs-11.handsontable,.col-xs-12.handsontable{padding-left:0;padding-right:0}.table-striped>tbody>tr:nth-of-type(2n){background-color:#fff}.handsontable{position:relative}.handsontable .hide{display:none}.handsontable .relative{position:relative}.handsontable.htAutoSize{visibility:hidden;left:-99000px;position:absolute;top:-99000px}.handsontable .wtHider{width:0}.handsontable .wtSpreader{position:relative;width:0;height:auto}.handsontable div,.handsontable input,.handsontable table,.handsontable tbody,.handsontable td,.handsontable textarea,.handsontable th,.handsontable thead{box-sizing:content-box;-webkit-box-sizing:content-box;-moz-box-sizing:content-box}.handsontable input,.handsontable textarea{min-height:0}.handsontable table.htCore{border-collapse:separate;border-spacing:0;margin:0;border-width:0;table-layout:fixed;width:0;outline-width:0;max-width:none;max-height:none}.handsontable col,.handsontable col.rowHeader{width:50px}.handsontable td,.handsontable th{border-top-width:0;border-left-width:0;border-right:1px solid #ccc;border-bottom:1px solid #ccc;height:22px;empty-cells:show;line-height:21px;padding:0 4px;background-color:#fff;vertical-align:top;overflow:hidden;outline-width:0;white-space:pre-line;background-clip:padding-box}.handsontable td.htInvalid{background-color:#ff4c42!important}.handsontable td.htNoWrap{white-space:nowrap}.handsontable th:last-child{border-right:1px solid #ccc;border-bottom:1px solid #ccc}.handsontable th.htNoFrame,.handsontable th:first-child.htNoFrame,.handsontable tr:first-child th.htNoFrame{border-left-width:0;background-color:#fff;border-color:#fff}.handsontable .htNoFrame+td,.handsontable .htNoFrame+th,.handsontable.htRowHeaders thead tr th:nth-child(2),.handsontable td:first-of-type,.handsontable th:first-child,.handsontable th:nth-child(2){border-left:1px solid #ccc}.handsontable tr:first-child td,.handsontable tr:first-child th{border-top:1px solid #ccc}.ht_master:not(.innerBorderLeft):not(.emptyColumns)~.handsontable:not(.ht_clone_top) thead tr th:first-child,.ht_master:not(.innerBorderLeft):not(.emptyColumns)~.handsontable tbody tr th{border-right-width:0}.ht_master:not(.innerBorderTop) thead tr.lastChild th,.ht_master:not(.innerBorderTop) thead tr:last-child th,.ht_master:not(.innerBorderTop)~.handsontable thead tr.lastChild th,.ht_master:not(.innerBorderTop)~.handsontable thead tr:last-child th{border-bottom-width:0}.handsontable th{background-color:#f3f3f3;color:#222;text-align:center;font-weight:400;white-space:nowrap}.handsontable thead th{padding:0}.handsontable th.active{background-color:#ccc}.handsontable thead th .relative{padding:2px 4px}.handsontable tbody th.ht__highlight,.handsontable thead th.ht__highlight{background-color:#dcdcdc}.handsontable.ht__selection--columns thead th.ht__highlight,.handsontable.ht__selection--rows tbody th.ht__highlight{background-color:#8eb0e7;color:#000}.handsontable .manualColumnResizer{position:fixed;top:0;cursor:col-resize;z-index:6;width:5px;height:25px}.handsontable .manualRowResizer{position:fixed;left:0;cursor:row-resize;z-index:6;height:5px;width:50px}.handsontable .manualColumnResizer.active,.handsontable .manualColumnResizer:hover,.handsontable .manualRowResizer.active,.handsontable .manualRowResizer:hover{background-color:#aab}.handsontable .manualColumnResizerGuide{position:fixed;right:0;top:0;background-color:#aab;display:none;width:0;border-right:1px dashed #777;margin-left:5px}.handsontable .manualRowResizerGuide{position:fixed;left:0;bottom:0;background-color:#aab;display:none;height:0;border-bottom:1px dashed #777;margin-top:5px}.handsontable .manualColumnResizerGuide.active,.handsontable .manualRowResizerGuide.active{display:block;z-index:7}.handsontable .columnSorting{position:relative}.handsontable .columnSorting:hover{text-decoration:underline;cursor:pointer}.handsontable .columnSorting.ascending:after{content:"\\25B2";color:#5f5f5f;position:absolute;right:-15px}.handsontable .columnSorting.descending:after{content:"\\25BC";color:#5f5f5f;position:absolute;right:-15px}.handsontable .wtBorder{position:absolute;font-size:0}.handsontable .wtBorder.hidden{display:none!important}.handsontable td.area{background:linear-gradient(180deg,rgba(181,209,255,.34) 0,rgba(181,209,255,.34));filter:progid:DXImageTransform.Microsoft.gradient(startColorstr="#57b5d1ff",endColorstr="#57b5d1ff",GradientType=0);background-color:#fff}.handsontable .wtBorder.corner{font-size:0;cursor:crosshair}.handsontable .htBorder.htFillBorder{background:red;width:1px;height:1px}.handsontableInput{border:none;outline-width:0;margin:0;padding:1px 5px 0;font-family:inherit;line-height:21px;font-size:inherit;box-shadow:inset 0 0 0 2px #5292f7;resize:none;display:inline-block;color:#000;border-radius:0;background-color:#fff}.handsontableInputHolder{position:absolute;top:0;left:0;z-index:1}.htSelectEditor{-webkit-appearance:menulist-button!important;position:absolute;width:auto}.handsontable .htDimmed{color:#777}.handsontable .htSubmenu{position:relative}.handsontable .htSubmenu :after{content:"\\25B6";color:#777;position:absolute;right:5px}.handsontable .htLeft{text-align:left}.handsontable .htCenter{text-align:center}.handsontable .htRight{text-align:right}.handsontable .htJustify{text-align:justify}.handsontable .htTop{vertical-align:top}.handsontable .htMiddle{vertical-align:middle}.handsontable .htBottom{vertical-align:bottom}.handsontable .htPlaceholder{color:#999}.handsontable .htAutocompleteArrow{float:right;font-size:10px;color:#eee;cursor:default;width:16px;text-align:center}.handsontable td .htAutocompleteArrow:hover{color:#777}.handsontable td.area .htAutocompleteArrow{color:#d3d3d3}.handsontable .htCheckboxRendererInput{display:inline-block;vertical-align:middle}.handsontable .htCheckboxRendererInput.noValue{opacity:.5}.handsontable .htCheckboxRendererLabel{cursor:pointer;display:inline-block;width:100%}@-webkit-keyframes a{0%{opacity:1}to{opacity:0}}@keyframes a{0%{opacity:1}to{opacity:0}}@-webkit-keyframes b{0%{opacity:0}to{opacity:1}}@keyframes b{0%{opacity:0}to{opacity:1}}.handsontable .handsontable.ht_clone_top .wtHider{padding:0 0 5px}.handsontable .autocompleteEditor.handsontable{padding-right:17px}.handsontable .autocompleteEditor.handsontable.htMacScroll{padding-right:15px}.handsontable.listbox{margin:0}.handsontable.listbox .ht_master table{border:1px solid #ccc;border-collapse:separate;background:#fff}.handsontable.listbox td,.handsontable.listbox th,.handsontable.listbox tr:first-child td,.handsontable.listbox tr:first-child th,.handsontable.listbox tr:last-child th{border-color:transparent}.handsontable.listbox td,.handsontable.listbox th{white-space:nowrap;text-overflow:ellipsis}.handsontable.listbox td.htDimmed{cursor:default;color:inherit;font-style:inherit}.handsontable.listbox .wtBorder{visibility:hidden}.handsontable.listbox tr:hover td,.handsontable.listbox tr td.current{background:#eee}.ht_clone_top{z-index:2}.ht_clone_left{z-index:3}.ht_clone_bottom_left_corner,.ht_clone_debug,.ht_clone_top_left_corner{z-index:4}.handsontable td.htSearchResult{background:#fcedd9;color:#583707}.htBordered{border-width:1px}.htBordered.htTopBorderSolid{border-top-style:solid;border-top-color:#000}.htBordered.htRightBorderSolid{border-right-style:solid;border-right-color:#000}.htBordered.htBottomBorderSolid{border-bottom-style:solid;border-bottom-color:#000}.htBordered.htLeftBorderSolid{border-left-style:solid;border-left-color:#000}.handsontable tbody tr th:nth-last-child(2){border-right:1px solid #ccc}.handsontable thead tr:nth-last-child(2) th.htGroupIndicatorContainer{border-bottom:1px solid #ccc;padding-bottom:5px}.ht_clone_top_left_corner thead tr th:nth-last-child(2){border-right:1px solid #ccc}.htCollapseButton{width:10px;height:10px;line-height:10px;text-align:center;border-radius:5px;border:1px solid #f3f3f3;box-shadow:1px 1px 3px rgba(0,0,0,.4);cursor:pointer;margin-bottom:3px;position:relative}.htCollapseButton:after{content:"";height:300%;width:1px;display:block;background:#ccc;margin-left:4px;position:absolute;bottom:10px}thead .htCollapseButton{right:5px;position:absolute;top:5px;background:#fff}thead .htCollapseButton:after{height:1px;width:700%;right:10px;top:4px}.handsontable tr th .htExpandButton{position:absolute;width:10px;height:10px;line-height:10px;text-align:center;border-radius:5px;border:1px solid #f3f3f3;box-shadow:1px 1px 3px rgba(0,0,0,.4);cursor:pointer;top:0;display:none}.handsontable thead tr th .htExpandButton{top:5px}.handsontable tr th .htExpandButton.clickable{display:block}.collapsibleIndicator{position:absolute;top:50%;transform:translateY(-50%);right:5px;border:1px solid #a6a6a6;line-height:10px;color:#222;border-radius:10px;font-size:10px;width:10px;height:10px;cursor:pointer;box-shadow:0 0 0 6px #eee;background:#eee}.handsontable col.hidden{width:0!important}.handsontable table tr th.lightRightBorder{border-right:1px solid #e6e6e6}.handsontable tr.hidden,.handsontable tr.hidden td,.handsontable tr.hidden th{display:none}.ht_clone_bottom,.ht_clone_left,.ht_clone_top,.ht_master{overflow:hidden}.ht_master .wtHolder{overflow:auto}.ht_clone_left .wtHolder{overflow-x:hidden;overflow-y:auto}.ht_clone_bottom .wtHolder,.ht_clone_top .wtHolder{overflow-x:auto;overflow-y:hidden}.wtDebugHidden{display:none}.wtDebugVisible{display:block;-webkit-animation-duration:.5s;-webkit-animation-name:c;animation-duration:.5s;animation-name:c}@keyframes c{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}@-webkit-keyframes c{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}.handsontable.mobile,.handsontable.mobile .wtHolder{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-overflow-scrolling:touch}.htMobileEditorContainer{display:none;position:absolute;top:0;width:70%;height:54pt;background:#f8f8f8;border-radius:20px;border:1px solid #ebebeb;z-index:8;box-sizing:border-box;-webkit-box-sizing:border-box;-webkit-text-size-adjust:none}.topLeftSelectionHandle-HitArea:not(.ht_master .topLeftSelectionHandle-HitArea),.topLeftSelectionHandle:not(.ht_master .topLeftSelectionHandle){z-index:12}.bottomRightSelectionHandle,.bottomRightSelectionHandle-HitArea,.topLeftSelectionHandle,.topLeftSelectionHandle-HitArea{left:-10000px;top:-10000px}.htMobileEditorContainer.active{display:block}.htMobileEditorContainer .inputs{position:absolute;right:210pt;bottom:10pt;top:10pt;left:14px;height:34pt}.htMobileEditorContainer .inputs textarea{font-size:13pt;border:1px solid #a1a1a1;-webkit-appearance:none;box-shadow:none;position:absolute;left:14px;right:14px;top:0;bottom:0;padding:7pt}.htMobileEditorContainer .cellPointer{position:absolute;top:-13pt;height:0;width:0;left:30px;border-left:13pt solid transparent;border-right:13pt solid transparent;border-bottom:13pt solid #ebebeb}.htMobileEditorContainer .cellPointer.hidden{display:none}.htMobileEditorContainer .cellPointer:before{content:"";display:block;position:absolute;top:2px;height:0;width:0;left:-13pt;border-left:13pt solid transparent;border-right:13pt solid transparent;border-bottom:13pt solid #f8f8f8}.htMobileEditorContainer .moveHandle{position:absolute;top:10pt;left:5px;width:30px;bottom:0;cursor:move;z-index:12}.htMobileEditorContainer .moveHandle:after{content:"..\\A..\\A..\\A..";white-space:pre;line-height:10px;font-size:20pt;display:inline-block;margin-top:-8px;color:#ebebeb}.htMobileEditorContainer .positionControls{width:205pt;position:absolute;right:5pt;top:0;bottom:0}.htMobileEditorContainer .positionControls>div{width:50pt;height:100%;float:left}.htMobileEditorContainer .positionControls>div:after{content:" ";display:block;width:15pt;height:15pt;text-align:center;line-height:50pt}.htMobileEditorContainer .downButton:after,.htMobileEditorContainer .leftButton:after,.htMobileEditorContainer .rightButton:after,.htMobileEditorContainer .upButton:after{transform-origin:5pt 5pt;-webkit-transform-origin:5pt 5pt;margin:21pt 0 0 21pt}.htMobileEditorContainer .leftButton:after{border-top:2px solid #288ffe;border-left:2px solid #288ffe;-webkit-transform:rotate(-45deg)}.htMobileEditorContainer .leftButton:active:after{border-color:#cfcfcf}.htMobileEditorContainer .rightButton:after{border-top:2px solid #288ffe;border-left:2px solid #288ffe;-webkit-transform:rotate(135deg)}.htMobileEditorContainer .rightButton:active:after{border-color:#cfcfcf}.htMobileEditorContainer .upButton:after{border-top:2px solid #288ffe;border-left:2px solid #288ffe;-webkit-transform:rotate(45deg)}.htMobileEditorContainer .upButton:active:after{border-color:#cfcfcf}.htMobileEditorContainer .downButton:after{border-top:2px solid #288ffe;border-left:2px solid #288ffe;-webkit-transform:rotate(225deg)}.htMobileEditorContainer .downButton:active:after{border-color:#cfcfcf}.handsontable.hide-tween{-webkit-animation:a .3s;animation:a .3s;animation-fill-mode:forwards;-webkit-animation-fill-mode:forwards}.handsontable.show-tween{-webkit-animation:b .3s;animation:b .3s;animation-fill-mode:forwards;-webkit-animation-fill-mode:forwards}\n\n/*!\n * Pikaday\n * Copyright © 2014 David Bushell | BSD & MIT license | http://dbushell.com/\n */.pika-single{z-index:12;display:block;position:relative;color:#333;background:#fff;border:1px solid #ccc;border-bottom-color:#bbb;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}.pika-single:after,.pika-single:before{content:" ";display:table}.pika-single:after{clear:both}.pika-single{*zoom:1}.pika-single.is-hidden{display:none}.pika-single.is-bound{position:absolute;box-shadow:0 5px 15px -5px rgba(0,0,0,.5)}.pika-lendar{float:left;width:240px;margin:8px}.pika-title{position:relative;text-align:center}.pika-label{display:inline-block;*display:inline;position:relative;z-index:12;overflow:hidden;margin:0;padding:5px 3px;font-size:14px;line-height:20px;font-weight:700;background-color:#fff}.pika-title select{cursor:pointer;position:absolute;z-index:11;margin:0;left:0;top:5px;filter:alpha(opacity=0);opacity:0}.pika-next,.pika-prev{display:block;cursor:pointer;position:relative;outline:none;border:0;padding:0;width:20px;height:30px;text-indent:20px;white-space:nowrap;overflow:hidden;background-color:transparent;background-position:50%;background-repeat:no-repeat;background-size:75% 75%;opacity:.5;*position:absolute;*top:0}.pika-next:hover,.pika-prev:hover{opacity:1}.is-rtl .pika-next,.pika-prev{float:left;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAUklEQVR42u3VMQoAIBADQf8Pgj+OD9hG2CtONJB2ymQkKe0HbwAP0xucDiQWARITIDEBEnMgMQ8S8+AqBIl6kKgHiXqQqAeJepBo/z38J/U0uAHlaBkBl9I4GwAAAABJRU5ErkJggg==");*left:0}.is-rtl .pika-prev,.pika-next{float:right;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAAU0lEQVR42u3VOwoAMAgE0dwfAnNjU26bYkBCFGwfiL9VVWoO+BJ4Gf3gtsEKKoFBNTCoCAYVwaAiGNQGMUHMkjGbgjk2mIONuXo0nC8XnCf1JXgArVIZAQh5TKYAAAAASUVORK5CYII=");*right:0}.pika-next.is-disabled,.pika-prev.is-disabled{cursor:default;opacity:.2}.pika-select{display:inline-block;*display:inline}.pika-table{width:100%;border-collapse:collapse;border-spacing:0;border:0}.pika-table td,.pika-table th{width:14.285714285714286%;padding:0}.pika-table th{color:#999;font-size:12px;line-height:25px;font-weight:700;text-align:center}.pika-button{cursor:pointer;display:block;box-sizing:border-box;-moz-box-sizing:border-box;outline:none;border:0;margin:0;width:100%;padding:5px;color:#666;font-size:12px;line-height:15px;text-align:right;background:#f5f5f5}.pika-week{font-size:11px;color:#999}.is-today .pika-button{color:#3af;font-weight:700}.is-selected .pika-button{color:#fff;font-weight:700;background:#3af;box-shadow:inset 0 1px 3px #178fe5;border-radius:3px}.is-inrange .pika-button{background:#d5e9f7}.is-startrange .pika-button{color:#fff;background:#6cb31d;box-shadow:none;border-radius:3px}.is-endrange .pika-button{color:#fff;background:#3af;box-shadow:none;border-radius:3px}.is-disabled .pika-button{pointer-events:none;cursor:default;color:#999;opacity:.3}.pika-button:hover{color:#fff;background:#ff8000;box-shadow:none;border-radius:3px}.pika-table abbr{border-bottom:none;cursor:help}.htCommentCell{position:relative}.htCommentCell:after{content:"";position:absolute;top:0;right:0;border-left:6px solid transparent;border-top:6px solid #000}.htComments{display:none;z-index:9;position:absolute}.htCommentTextArea{box-shadow:0 1px 3px rgba(0,0,0,.117647),0 1px 2px rgba(0,0,0,.239216);box-sizing:border-box;border:none;border-left:3px solid #ccc;background-color:#fff;width:215px;height:90px;font-size:12px;padding:5px;outline:0!important;-webkit-appearance:none}.htCommentTextArea:focus{box-shadow:0 1px 3px rgba(0,0,0,.117647),0 1px 2px rgba(0,0,0,.239216),inset 0 0 0 1px #5292f7;border-left:3px solid #5292f7}\n/*!\n * Handsontable ContextMenu\n */.htContextMenu{display:none;position:absolute;z-index:10}.htContextMenu .ht_clone_corner,.htContextMenu .ht_clone_debug,.htContextMenu .ht_clone_left,.htContextMenu .ht_clone_top{display:none}.htContextMenu table.htCore{border:1px solid #ccc;border-bottom-width:2px;border-right-width:2px}.htContextMenu .wtBorder{visibility:hidden}.htContextMenu table tbody tr td{background:#fff;border-width:0;padding:4px 6px 0;cursor:pointer;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.htContextMenu table tbody tr td:first-child{border:0}.htContextMenu table tbody tr td.htDimmed{font-style:normal;color:#323232}.htContextMenu table tbody tr td.current,.htContextMenu table tbody tr td.zeroclipboard-is-hover{background:#f3f3f3}.htContextMenu table tbody tr td.htSeparator{border-top:1px solid #bbb;height:0;padding:0;cursor:default}.htContextMenu table tbody tr td.htDisabled{color:#999;cursor:default}.htContextMenu table tbody tr td.htDisabled:hover{background:#fff;color:#999;cursor:default}.htContextMenu table tbody tr.htHidden{display:none}.htContextMenu table tbody tr td .htItemWrapper{margin-left:10px;margin-right:6px}.htContextMenu table tbody tr td div span.selected{margin-top:-2px;position:absolute;left:4px}.htContextMenu .ht_master .wtHolder{overflow:hidden}.htRowHeaders .ht_master.innerBorderLeft~.ht_clone_left td:first-of-type,.htRowHeaders .ht_master.innerBorderLeft~.ht_clone_top_left_corner th:nth-child(2){border-left:0 none}.handsontable.ht__manualColumnMove.after-selection--columns thead th.ht__highlight{cursor:move;cursor:-webkit-grab;cursor:grab}.handsontable.ht__manualColumnMove.on-moving--columns,.handsontable.ht__manualColumnMove.on-moving--columns thead th.ht__highlight{cursor:move;cursor:-webkit-grabbing;cursor:grabbing}.handsontable.ht__manualColumnMove.on-moving--columns .manualColumnResizer{display:none}.handsontable .ht__manualColumnMove--backlight,.handsontable .ht__manualColumnMove--guideline{position:absolute;height:100%;display:none}.handsontable .ht__manualColumnMove--guideline{background:#757575;width:2px;top:0;margin-left:-1px;z-index:5}.handsontable .ht__manualColumnMove--backlight{background:#343434;background:rgba(52,52,52,.25);display:none;z-index:5;pointer-events:none}.handsontable.on-moving--columns .ht__manualColumnMove--backlight,.handsontable.on-moving--columns.show-ui .ht__manualColumnMove--guideline{display:block}.handsontable .wtHider{position:relative}.handsontable.ht__manualRowMove.after-selection--rows tbody th.ht__highlight{cursor:move;cursor:-webkit-grab;cursor:grab}.handsontable.ht__manualRowMove.on-moving--rows,.handsontable.ht__manualRowMove.on-moving--rows tbody th.ht__highlight{cursor:move;cursor:-webkit-grabbing;cursor:grabbing}.handsontable.ht__manualRowMove.on-moving--rows .manualRowResizer{display:none}.handsontable .ht__manualRowMove--backlight,.handsontable .ht__manualRowMove--guideline{position:absolute;width:100%;display:none}.handsontable .ht__manualRowMove--guideline{background:#757575;height:2px;left:0;margin-top:-1px;z-index:5}.handsontable .ht__manualRowMove--backlight{background:#343434;background:rgba(52,52,52,.25);display:none;z-index:5;pointer-events:none}.handsontable.on-moving--rows .ht__manualRowMove--backlight,.handsontable.on-moving--rows.show-ui .ht__manualRowMove--guideline{display:block}',""])},337:function(t,e,n){var o=n(338);"string"==typeof o&&(o=[[t.i,o,""]]),n(10)(o,{}),o.locals&&(t.exports=o.locals)},338:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,"/* BASICS */\n\n.CodeMirror {\n  /* Set height, width, borders, and global font properties here */\n  font-family: monospace;\n  height: 300px;\n  color: black;\n  direction: ltr;\n}\n\n/* PADDING */\n\n.CodeMirror-lines {\n  padding: 4px 0; /* Vertical padding around content */\n}\n.CodeMirror pre {\n  padding: 0 4px; /* Horizontal padding of content */\n}\n\n.CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  background-color: white; /* The little square between H and V scrollbars */\n}\n\n/* GUTTER */\n\n.CodeMirror-gutters {\n  border-right: 1px solid #ddd;\n  background-color: #f7f7f7;\n  white-space: nowrap;\n}\n.CodeMirror-linenumbers {}\n.CodeMirror-linenumber {\n  padding: 0 3px 0 5px;\n  min-width: 20px;\n  text-align: right;\n  color: #999;\n  white-space: nowrap;\n}\n\n.CodeMirror-guttermarker { color: black; }\n.CodeMirror-guttermarker-subtle { color: #999; }\n\n/* CURSOR */\n\n.CodeMirror-cursor {\n  border-left: 1px solid black;\n  border-right: none;\n  width: 0;\n}\n/* Shown when moving in bi-directional text */\n.CodeMirror div.CodeMirror-secondarycursor {\n  border-left: 1px solid silver;\n}\n.cm-fat-cursor .CodeMirror-cursor {\n  width: auto;\n  border: 0 !important;\n  background: #7e7;\n}\n.cm-fat-cursor div.CodeMirror-cursors {\n  z-index: 1;\n}\n.cm-fat-cursor-mark {\n  background-color: rgba(20, 255, 20, 0.5);\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n}\n.cm-animate-fat-cursor {\n  width: auto;\n  border: 0;\n  -webkit-animation: blink 1.06s steps(1) infinite;\n  -moz-animation: blink 1.06s steps(1) infinite;\n  animation: blink 1.06s steps(1) infinite;\n  background-color: #7e7;\n}\n@-moz-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@-webkit-keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n@keyframes blink {\n  0% {}\n  50% { background-color: transparent; }\n  100% {}\n}\n\n/* Can style cursor different in overwrite (non-insert) mode */\n.CodeMirror-overwrite .CodeMirror-cursor {}\n\n.cm-tab { display: inline-block; text-decoration: inherit; }\n\n.CodeMirror-rulers {\n  position: absolute;\n  left: 0; right: 0; top: -50px; bottom: -20px;\n  overflow: hidden;\n}\n.CodeMirror-ruler {\n  border-left: 1px solid #ccc;\n  top: 0; bottom: 0;\n  position: absolute;\n}\n\n/* DEFAULT THEME */\n\n.cm-s-default .cm-header {color: blue;}\n.cm-s-default .cm-quote {color: #090;}\n.cm-negative {color: #d44;}\n.cm-positive {color: #292;}\n.cm-header, .cm-strong {font-weight: bold;}\n.cm-em {font-style: italic;}\n.cm-link {text-decoration: underline;}\n.cm-strikethrough {text-decoration: line-through;}\n\n.cm-s-default .cm-keyword {color: #708;}\n.cm-s-default .cm-atom {color: #219;}\n.cm-s-default .cm-number {color: #164;}\n.cm-s-default .cm-def {color: #00f;}\n.cm-s-default .cm-variable,\n.cm-s-default .cm-punctuation,\n.cm-s-default .cm-property,\n.cm-s-default .cm-operator {}\n.cm-s-default .cm-variable-2 {color: #05a;}\n.cm-s-default .cm-variable-3, .cm-s-default .cm-type {color: #085;}\n.cm-s-default .cm-comment {color: #a50;}\n.cm-s-default .cm-string {color: #a11;}\n.cm-s-default .cm-string-2 {color: #f50;}\n.cm-s-default .cm-meta {color: #555;}\n.cm-s-default .cm-qualifier {color: #555;}\n.cm-s-default .cm-builtin {color: #30a;}\n.cm-s-default .cm-bracket {color: #997;}\n.cm-s-default .cm-tag {color: #170;}\n.cm-s-default .cm-attribute {color: #00c;}\n.cm-s-default .cm-hr {color: #999;}\n.cm-s-default .cm-link {color: #00c;}\n\n.cm-s-default .cm-error {color: #f00;}\n.cm-invalidchar {color: #f00;}\n\n.CodeMirror-composing { border-bottom: 2px solid; }\n\n/* Default styles for common addons */\n\ndiv.CodeMirror span.CodeMirror-matchingbracket {color: #0b0;}\ndiv.CodeMirror span.CodeMirror-nonmatchingbracket {color: #a22;}\n.CodeMirror-matchingtag { background: rgba(255, 150, 0, .3); }\n.CodeMirror-activeline-background {background: #e8f2ff;}\n\n/* STOP */\n\n/* The rest of this file contains styles related to the mechanics of\n   the editor. You probably shouldn't touch them. */\n\n.CodeMirror {\n  position: relative;\n  overflow: hidden;\n  background: white;\n}\n\n.CodeMirror-scroll {\n  overflow: scroll !important; /* Things will break if this is overridden */\n  /* 30px is the magic margin used to hide the element's real scrollbars */\n  /* See overflow: hidden in .CodeMirror */\n  margin-bottom: -30px; margin-right: -30px;\n  padding-bottom: 30px;\n  height: 100%;\n  outline: none; /* Prevent dragging from highlighting the element */\n  position: relative;\n}\n.CodeMirror-sizer {\n  position: relative;\n  border-right: 30px solid transparent;\n}\n\n/* The fake, visible scrollbars. Used to force redraw during scrolling\n   before actual scrolling happens, thus preventing shaking and\n   flickering artifacts. */\n.CodeMirror-vscrollbar, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-gutter-filler {\n  position: absolute;\n  z-index: 6;\n  display: none;\n}\n.CodeMirror-vscrollbar {\n  right: 0; top: 0;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n.CodeMirror-hscrollbar {\n  bottom: 0; left: 0;\n  overflow-y: hidden;\n  overflow-x: scroll;\n}\n.CodeMirror-scrollbar-filler {\n  right: 0; bottom: 0;\n}\n.CodeMirror-gutter-filler {\n  left: 0; bottom: 0;\n}\n\n.CodeMirror-gutters {\n  position: absolute; left: 0; top: 0;\n  min-height: 100%;\n  z-index: 3;\n}\n.CodeMirror-gutter {\n  white-space: normal;\n  height: 100%;\n  display: inline-block;\n  vertical-align: top;\n  margin-bottom: -30px;\n}\n.CodeMirror-gutter-wrapper {\n  position: absolute;\n  z-index: 4;\n  background: none !important;\n  border: none !important;\n}\n.CodeMirror-gutter-background {\n  position: absolute;\n  top: 0; bottom: 0;\n  z-index: 4;\n}\n.CodeMirror-gutter-elt {\n  position: absolute;\n  cursor: default;\n  z-index: 4;\n}\n.CodeMirror-gutter-wrapper ::selection { background-color: transparent }\n.CodeMirror-gutter-wrapper ::-moz-selection { background-color: transparent }\n\n.CodeMirror-lines {\n  cursor: text;\n  min-height: 1px; /* prevents collapsing before first draw */\n}\n.CodeMirror pre {\n  /* Reset some styles that the rest of the page might have set */\n  -moz-border-radius: 0; -webkit-border-radius: 0; border-radius: 0;\n  border-width: 0;\n  background: transparent;\n  font-family: inherit;\n  font-size: inherit;\n  margin: 0;\n  white-space: pre;\n  word-wrap: normal;\n  line-height: inherit;\n  color: inherit;\n  z-index: 2;\n  position: relative;\n  overflow: visible;\n  -webkit-tap-highlight-color: transparent;\n  -webkit-font-variant-ligatures: contextual;\n  font-variant-ligatures: contextual;\n}\n.CodeMirror-wrap pre {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  word-break: normal;\n}\n\n.CodeMirror-linebackground {\n  position: absolute;\n  left: 0; right: 0; top: 0; bottom: 0;\n  z-index: 0;\n}\n\n.CodeMirror-linewidget {\n  position: relative;\n  z-index: 2;\n  padding: 0.1px; /* Force widget margins to stay inside of the container */\n}\n\n.CodeMirror-widget {}\n\n.CodeMirror-rtl pre { direction: rtl; }\n\n.CodeMirror-code {\n  outline: none;\n}\n\n/* Force content-box sizing for the elements where we expect it */\n.CodeMirror-scroll,\n.CodeMirror-sizer,\n.CodeMirror-gutter,\n.CodeMirror-gutters,\n.CodeMirror-linenumber {\n  -moz-box-sizing: content-box;\n  box-sizing: content-box;\n}\n\n.CodeMirror-measure {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  overflow: hidden;\n  visibility: hidden;\n}\n\n.CodeMirror-cursor {\n  position: absolute;\n  pointer-events: none;\n}\n.CodeMirror-measure pre { position: static; }\n\ndiv.CodeMirror-cursors {\n  visibility: hidden;\n  position: relative;\n  z-index: 3;\n}\ndiv.CodeMirror-dragcursors {\n  visibility: visible;\n}\n\n.CodeMirror-focused div.CodeMirror-cursors {\n  visibility: visible;\n}\n\n.CodeMirror-selected { background: #d9d9d9; }\n.CodeMirror-focused .CodeMirror-selected { background: #d7d4f0; }\n.CodeMirror-crosshair { cursor: crosshair; }\n.CodeMirror-line::selection, .CodeMirror-line > span::selection, .CodeMirror-line > span > span::selection { background: #d7d4f0; }\n.CodeMirror-line::-moz-selection, .CodeMirror-line > span::-moz-selection, .CodeMirror-line > span > span::-moz-selection { background: #d7d4f0; }\n\n.cm-searching {\n  background-color: #ffa;\n  background-color: rgba(255, 255, 0, .4);\n}\n\n/* Used to force a border model for a node */\n.cm-force-border { padding-right: .1px; }\n\n@media print {\n  /* Hide the cursor when printing */\n  .CodeMirror div.CodeMirror-cursors {\n    visibility: hidden;\n  }\n}\n\n/* See issue #2901 */\n.cm-tab-wrap-hack:after { content: ''; }\n\n/* Help users use markselection to safely style text background */\nspan.CodeMirror-selectedtext { background: none; }\n",""])},339:function(t,e,n){var o=n(340);"string"==typeof o&&(o=[[t.i,o,""]]),n(10)(o,{}),o.locals&&(t.exports=o.locals)},340:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,".CodeMirror-hints {\n  position: absolute;\n  z-index: 10;\n  overflow: hidden;\n  list-style: none;\n\n  margin: 0;\n  padding: 2px;\n\n  -webkit-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  -moz-box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  box-shadow: 2px 3px 5px rgba(0,0,0,.2);\n  border-radius: 3px;\n  border: 1px solid silver;\n\n  background: white;\n  font-size: 90%;\n  font-family: monospace;\n\n  max-height: 20em;\n  overflow-y: auto;\n}\n\n.CodeMirror-hint {\n  margin: 0;\n  padding: 0 4px;\n  border-radius: 2px;\n  white-space: pre;\n  color: black;\n  cursor: pointer;\n}\n\nli.CodeMirror-hint-active {\n  background: #08f;\n  color: white;\n}\n",""])},341:function(t,e,n){var o=n(342);"string"==typeof o&&(o=[[t.i,o,""]]),n(10)(o,{}),o.locals&&(t.exports=o.locals)},342:function(t,e,n){(t.exports=n(9)(!1)).push([t.i,'/* The lint marker gutter */\n.CodeMirror-lint-markers {\n  width: 16px;\n}\n\n.CodeMirror-lint-tooltip {\n  background-color: #ffd;\n  border: 1px solid black;\n  border-radius: 4px 4px 4px 4px;\n  color: black;\n  font-family: monospace;\n  font-size: 10pt;\n  overflow: hidden;\n  padding: 2px 5px;\n  position: fixed;\n  white-space: pre;\n  white-space: pre-wrap;\n  z-index: 100;\n  max-width: 600px;\n  opacity: 0;\n  transition: opacity .4s;\n  -moz-transition: opacity .4s;\n  -webkit-transition: opacity .4s;\n  -o-transition: opacity .4s;\n  -ms-transition: opacity .4s;\n}\n\n.CodeMirror-lint-mark-error, .CodeMirror-lint-mark-warning {\n  background-position: left bottom;\n  background-repeat: repeat-x;\n}\n\n.CodeMirror-lint-mark-error {\n  background-image:\n  url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJDw4cOCW1/KIAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAHElEQVQI12NggIL/DAz/GdA5/xkY/qPKMDAwAADLZwf5rvm+LQAAAABJRU5ErkJggg==")\n  ;\n}\n\n.CodeMirror-lint-mark-warning {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAADCAYAAAC09K7GAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJFhQXEbhTg7YAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAMklEQVQI12NkgIIvJ3QXMjAwdDN+OaEbysDA4MPAwNDNwMCwiOHLCd1zX07o6kBVGQEAKBANtobskNMAAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-marker-error, .CodeMirror-lint-marker-warning {\n  background-position: center center;\n  background-repeat: no-repeat;\n  cursor: pointer;\n  display: inline-block;\n  height: 16px;\n  width: 16px;\n  vertical-align: middle;\n  position: relative;\n}\n\n.CodeMirror-lint-message-error, .CodeMirror-lint-message-warning {\n  padding-left: 18px;\n  background-position: top left;\n  background-repeat: no-repeat;\n}\n\n.CodeMirror-lint-marker-error, .CodeMirror-lint-message-error {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAHlBMVEW7AAC7AACxAAC7AAC7AAAAAAC4AAC5AAD///+7AAAUdclpAAAABnRSTlMXnORSiwCK0ZKSAAAATUlEQVR42mWPOQ7AQAgDuQLx/z8csYRmPRIFIwRGnosRrpamvkKi0FTIiMASR3hhKW+hAN6/tIWhu9PDWiTGNEkTtIOucA5Oyr9ckPgAWm0GPBog6v4AAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-marker-warning, .CodeMirror-lint-message-warning {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAANlBMVEX/uwDvrwD/uwD/uwD/uwD/uwD/uwD/uwD/uwD6twD/uwAAAADurwD2tQD7uAD+ugAAAAD/uwDhmeTRAAAADHRSTlMJ8mN1EYcbmiixgACm7WbuAAAAVklEQVR42n3PUQqAIBBFUU1LLc3u/jdbOJoW1P08DA9Gba8+YWJ6gNJoNYIBzAA2chBth5kLmG9YUoG0NHAUwFXwO9LuBQL1giCQb8gC9Oro2vp5rncCIY8L8uEx5ZkAAAAASUVORK5CYII=");\n}\n\n.CodeMirror-lint-marker-multiple {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAHCAMAAADzjKfhAAAACVBMVEUAAAAAAAC/v7914kyHAAAAAXRSTlMAQObYZgAAACNJREFUeNo1ioEJAAAIwmz/H90iFFSGJgFMe3gaLZ0od+9/AQZ0ADosbYraAAAAAElFTkSuQmCC");\n  background-repeat: no-repeat;\n  background-position: right bottom;\n  width: 100%; height: 100%;\n}\n',""])},35:function(t,e,n){!function(t){"use strict";var e="CodeMirror-hint",n="CodeMirror-hint-active";function o(t,e){this.cm=t,this.options=e,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length;var n=this;t.on("cursorActivity",this.activityFunc=function(){n.cursorActivity()})}t.showHint=function(t,e,n){if(!e)return t.showHint(n);n&&n.async&&(e.async=!0);var o={hint:e};if(n)for(var r in n)o[r]=n[r];return t.showHint(o)},t.defineExtension("showHint",function(e){e=function(t,e,n){var o=t.options.hintOptions,r={};for(var i in c)r[i]=c[i];if(o)for(var i in o)void 0!==o[i]&&(r[i]=o[i]);if(n)for(var i in n)void 0!==n[i]&&(r[i]=n[i]);return r.hint.resolve&&(r.hint=r.hint.resolve(t,e)),r}(this,this.getCursor("start"),e);var n=this.listSelections();if(!(n.length>1)){if(this.somethingSelected()){if(!e.hint.supportsSelection)return;for(var r=0;r<n.length;r++)if(n[r].head.line!=n[r].anchor.line)return}this.state.completionActive&&this.state.completionActive.close();var i=this.state.completionActive=new o(this,e);i.options.hint&&(t.signal(this,"startCompletion",this),i.update(!0))}}),t.defineExtension("closeHint",function(){this.state.completionActive&&this.state.completionActive.close()});var r=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},i=window.cancelAnimationFrame||clearTimeout;function a(t){return"string"==typeof t?t:t.text}function s(t,e){for(;e&&e!=t;){if("LI"===e.nodeName.toUpperCase()&&e.parentNode==t)return e;e=e.parentNode}}function l(o,r){this.completion=o,this.data=r,this.picked=!1;var i=this,l=o.cm,u=l.getInputField().ownerDocument,c=u.defaultView||u.parentWindow,h=this.hints=u.createElement("ul"),d=o.cm.options.theme;h.className="CodeMirror-hints "+d,this.selectedHint=r.selectedHint||0;for(var f=r.list,p=0;p<f.length;++p){var g=h.appendChild(u.createElement("li")),v=f[p],m=e+(p!=this.selectedHint?"":" "+n);null!=v.className&&(m=v.className+" "+m),g.className=m,v.render?v.render(g,r,v):g.appendChild(u.createTextNode(v.displayText||a(v))),g.hintId=p}var y=o.options.container||u.body,w=l.cursorCoords(o.options.alignWithWord?r.from:null),b=w.left,C=w.bottom,k=!0,S=0,x=0;if(y!==u.body){var T=(-1!==["absolute","relative","fixed"].indexOf(c.getComputedStyle(y).position)?y:y.offsetParent).getBoundingClientRect(),O=u.body.getBoundingClientRect();S=T.left-O.left,x=T.top-O.top}h.style.left=b-S+"px",h.style.top=C-x+"px";var R=c.innerWidth||Math.max(u.body.offsetWidth,u.documentElement.offsetWidth),E=c.innerHeight||Math.max(u.body.offsetHeight,u.documentElement.offsetHeight);y.appendChild(h);var M=h.getBoundingClientRect(),_=M.bottom-E,A=h.scrollHeight>h.clientHeight+1,P=l.getScrollInfo();if(_>0){var H=M.bottom-M.top;if(w.top-(w.bottom-M.top)-H>0)h.style.top=(C=w.top-H-x)+"px",k=!1;else if(H>E){h.style.height=E-5+"px",h.style.top=(C=w.bottom-M.top-x)+"px";var L=l.getCursor();r.from.ch!=L.ch&&(w=l.cursorCoords(L),h.style.left=(b=w.left-S)+"px",M=h.getBoundingClientRect())}}var D,N=M.right-R;if(N>0&&(M.right-M.left>R&&(h.style.width=R-5+"px",N-=M.right-M.left-R),h.style.left=(b=w.left-N-S)+"px"),A)for(var I=h.firstChild;I;I=I.nextSibling)I.style.paddingRight=l.display.nativeBarWidth+"px";return l.addKeyMap(this.keyMap=function(t,e){var n={Up:function(){e.moveFocus(-1)},Down:function(){e.moveFocus(1)},PageUp:function(){e.moveFocus(1-e.menuSize(),!0)},PageDown:function(){e.moveFocus(e.menuSize()-1,!0)},Home:function(){e.setFocus(0)},End:function(){e.setFocus(e.length-1)},Enter:e.pick,Tab:e.pick,Esc:e.close};/Mac/.test(navigator.platform)&&(n["Ctrl-P"]=function(){e.moveFocus(-1)},n["Ctrl-N"]=function(){e.moveFocus(1)});var o=t.options.customKeys,r=o?{}:n;function i(t,o){var i;i="string"!=typeof o?function(t){return o(t,e)}:n.hasOwnProperty(o)?n[o]:o,r[t]=i}if(o)for(var a in o)o.hasOwnProperty(a)&&i(a,o[a]);var s=t.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&i(a,s[a]);return r}(o,{moveFocus:function(t,e){i.changeActive(i.selectedHint+t,e)},setFocus:function(t){i.changeActive(t)},menuSize:function(){return i.screenAmount()},length:f.length,close:function(){o.close()},pick:function(){i.pick()},data:r})),o.options.closeOnUnfocus&&(l.on("blur",this.onBlur=function(){D=setTimeout(function(){o.close()},100)}),l.on("focus",this.onFocus=function(){clearTimeout(D)})),l.on("scroll",this.onScroll=function(){var t=l.getScrollInfo(),e=l.getWrapperElement().getBoundingClientRect(),n=C+P.top-t.top,r=n-(c.pageYOffset||(u.documentElement||u.body).scrollTop);if(k||(r+=h.offsetHeight),r<=e.top||r>=e.bottom)return o.close();h.style.top=n+"px",h.style.left=b+P.left-t.left+"px"}),t.on(h,"dblclick",function(t){var e=s(h,t.target||t.srcElement);e&&null!=e.hintId&&(i.changeActive(e.hintId),i.pick())}),t.on(h,"click",function(t){var e=s(h,t.target||t.srcElement);e&&null!=e.hintId&&(i.changeActive(e.hintId),o.options.completeOnSingleClick&&i.pick())}),t.on(h,"mousedown",function(){setTimeout(function(){l.focus()},20)}),t.signal(r,"select",f[this.selectedHint],h.childNodes[this.selectedHint]),!0}function u(t,e,n,o){if(t.async)t(e,o,n);else{var r=t(e,n);r&&r.then?r.then(o):o(r)}}o.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.widget&&this.data&&t.signal(this.data,"close"),this.widget&&this.widget.close(),t.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(e,n){var o=e.list[n];o.hint?o.hint(this.cm,e,o):this.cm.replaceRange(a(o),o.from||e.from,o.to||e.to,"complete"),t.signal(e,"pick",o),this.close()},cursorActivity:function(){this.debounce&&(i(this.debounce),this.debounce=0);var t=this.cm.getCursor(),e=this.cm.getLine(t.line);if(t.line!=this.startPos.line||e.length-t.ch!=this.startLen-this.startPos.ch||t.ch<this.startPos.ch||this.cm.somethingSelected()||!t.ch||this.options.closeCharacters.test(e.charAt(t.ch-1)))this.close();else{var n=this;this.debounce=r(function(){n.update()}),this.widget&&this.widget.disable()}},update:function(t){if(null!=this.tick){var e=this,n=++this.tick;u(this.options.hint,this.cm,this.options,function(o){e.tick==n&&e.finishUpdate(o,t)})}},finishUpdate:function(e,n){this.data&&t.signal(this.data,"update");var o=this.widget&&this.widget.picked||n&&this.options.completeSingle;this.widget&&this.widget.close(),this.data=e,e&&e.list.length&&(o&&1==e.list.length?this.pick(e,0):(this.widget=new l(this,e),t.signal(e,"shown")))}},l.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var t=this.completion.cm;this.completion.options.closeOnUnfocus&&(t.off("blur",this.onBlur),t.off("focus",this.onFocus)),t.off("scroll",this.onScroll)}},disable:function(){this.completion.cm.removeKeyMap(this.keyMap);var t=this;this.keyMap={Enter:function(){t.picked=!0}},this.completion.cm.addKeyMap(this.keyMap)},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(e,o){if(e>=this.data.list.length?e=o?this.data.list.length-1:0:e<0&&(e=o?0:this.data.list.length-1),this.selectedHint!=e){var r=this.hints.childNodes[this.selectedHint];r&&(r.className=r.className.replace(" "+n,"")),(r=this.hints.childNodes[this.selectedHint=e]).className+=" "+n,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),t.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},t.registerHelper("hint","auto",{resolve:function(e,n){var o,r=e.getHelpers(n,"hint");if(r.length){var i=function(t,e,n){var o=function(t,e){if(!t.somethingSelected())return e;for(var n=[],o=0;o<e.length;o++)e[o].supportsSelection&&n.push(e[o]);return n}(t,r);!function r(i){if(i==o.length)return e(null);u(o[i],t,n,function(t){t&&t.list.length>0?e(t):r(i+1)})}(0)};return i.async=!0,i.supportsSelection=!0,i}return(o=e.getHelper(e.getCursor(),"hintWords"))?function(e){return t.hint.fromList(e,{words:o})}:t.hint.anyword?function(e,n){return t.hint.anyword(e,n)}:function(){}}}),t.registerHelper("hint","fromList",function(e,n){var o,r=e.getCursor(),i=e.getTokenAt(r),a=t.Pos(r.line,i.start),s=r;i.start<r.ch&&/\w/.test(i.string.charAt(r.ch-i.start-1))?o=i.string.substr(0,r.ch-i.start):(o="",a=r);for(var l=[],u=0;u<n.words.length;u++){var c=n.words[u];c.slice(0,o.length)==o&&l.push(c)}if(l.length)return{list:l,from:a,to:s}}),t.commands.autocomplete=t.showHint;var c={hint:t.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!0,container:null,customKeys:null,extraKeys:null};t.defineOption("hintOptions",null)}(n(14))},352:function(t,e,n){!function(t){"use strict";t.defineMode("javascript",function(e,n){var o,r,i=e.indentUnit,a=n.statementIndent,s=n.jsonld,l=n.json||s,u=n.typescript,c=n.wordCharacters||/[\w$\xa1-\uffff]/,h=function(){function t(t){return{type:t,style:"keyword"}}var e=t("keyword a"),n=t("keyword b"),o=t("keyword c"),r=t("keyword d"),i=t("operator"),a={type:"atom",style:"atom"};return{if:t("if"),while:e,with:e,else:n,do:n,try:n,finally:n,return:r,break:r,continue:r,new:t("new"),delete:o,void:o,throw:o,debugger:t("debugger"),var:t("var"),const:t("var"),let:t("var"),function:t("function"),catch:t("catch"),for:t("for"),switch:t("switch"),case:t("case"),default:t("default"),in:i,typeof:i,instanceof:i,true:a,false:a,null:a,undefined:a,NaN:a,Infinity:a,this:t("this"),class:t("class"),super:t("atom"),yield:o,export:t("export"),import:t("import"),extends:o,await:o}}(),d=/[+\-*&%=<>!?|~^@]/,f=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function p(t,e,n){return o=t,r=n,e}function g(t,e){var n,o=t.next();if('"'==o||"'"==o)return e.tokenize=(n=o,function(t,e){var o,r=!1;if(s&&"@"==t.peek()&&t.match(f))return e.tokenize=g,p("jsonld-keyword","meta");for(;null!=(o=t.next())&&(o!=n||r);)r=!r&&"\\"==o;return r||(e.tokenize=g),p("string","string")}),e.tokenize(t,e);if("."==o&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return p("number","number");if("."==o&&t.match(".."))return p("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(o))return p(o);if("="==o&&t.eat(">"))return p("=>","operator");if("0"==o&&t.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return p("number","number");if(/\d/.test(o))return t.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),p("number","number");if("/"==o)return t.eat("*")?(e.tokenize=v,v(t,e)):t.eat("/")?(t.skipToEnd(),p("comment","comment")):Gt(t,e,1)?(function(t){for(var e,n=!1,o=!1;null!=(e=t.next());){if(!n){if("/"==e&&!o)return;"["==e?o=!0:o&&"]"==e&&(o=!1)}n=!n&&"\\"==e}}(t),t.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),p("regexp","string-2")):(t.eat("="),p("operator","operator",t.current()));if("`"==o)return e.tokenize=m,m(t,e);if("#"==o)return t.skipToEnd(),p("error","error");if(d.test(o))return">"==o&&e.lexical&&">"==e.lexical.type||(t.eat("=")?"!"!=o&&"="!=o||t.eat("="):/[<>*+\-]/.test(o)&&(t.eat(o),">"==o&&t.eat(o))),p("operator","operator",t.current());if(c.test(o)){t.eatWhile(c);var r=t.current();if("."!=e.lastType){if(h.propertyIsEnumerable(r)){var i=h[r];return p(i.type,i.style,r)}if("async"==r&&t.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return p("async","keyword",r)}return p("variable","variable",r)}}function v(t,e){for(var n,o=!1;n=t.next();){if("/"==n&&o){e.tokenize=g;break}o="*"==n}return p("comment","comment")}function m(t,e){for(var n,o=!1;null!=(n=t.next());){if(!o&&("`"==n||"$"==n&&t.eat("{"))){e.tokenize=g;break}o=!o&&"\\"==n}return p("quasi","string-2",t.current())}var y="([{}])";function w(t,e){e.fatArrowAt&&(e.fatArrowAt=null);var n=t.string.indexOf("=>",t.start);if(!(n<0)){if(u){var o=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(t.string.slice(t.start,n));o&&(n=o.index)}for(var r=0,i=!1,a=n-1;a>=0;--a){var s=t.string.charAt(a),l=y.indexOf(s);if(l>=0&&l<3){if(!r){++a;break}if(0==--r){"("==s&&(i=!0);break}}else if(l>=3&&l<6)++r;else if(c.test(s))i=!0;else{if(/["'\/]/.test(s))return;if(i&&!r){++a;break}}}i&&!r&&(e.fatArrowAt=a)}}var b={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function C(t,e,n,o,r,i){this.indented=t,this.column=e,this.type=n,this.prev=r,this.info=i,null!=o&&(this.align=o)}function k(t,e){for(var n=t.localVars;n;n=n.next)if(n.name==e)return!0;for(var o=t.context;o;o=o.prev)for(n=o.vars;n;n=n.next)if(n.name==e)return!0}var S={state:null,column:null,marked:null,cc:null};function x(){for(var t=arguments.length-1;t>=0;t--)S.cc.push(arguments[t])}function T(){return x.apply(null,arguments),!0}function O(t,e){for(var n=e;n;n=n.next)if(n.name==t)return!0;return!1}function R(t){var e=S.state;if(S.marked="def",e.context)if("var"==e.lexical.info&&e.context&&e.context.block){var o=function t(e,n){if(n){if(n.block){var o=t(e,n.prev);return o?o==n.prev?n:new M(o,n.vars,!0):null}return O(e,n.vars)?n:new M(n.prev,new _(e,n.vars),!1)}return null}(t,e.context);if(null!=o)return void(e.context=o)}else if(!O(t,e.localVars))return void(e.localVars=new _(t,e.localVars));n.globalVars&&!O(t,e.globalVars)&&(e.globalVars=new _(t,e.globalVars))}function E(t){return"public"==t||"private"==t||"protected"==t||"abstract"==t||"readonly"==t}function M(t,e,n){this.prev=t,this.vars=e,this.block=n}function _(t,e){this.name=t,this.next=e}var A=new _("this",new _("arguments",null));function P(){S.state.context=new M(S.state.context,S.state.localVars,!1),S.state.localVars=A}function H(){S.state.context=new M(S.state.context,S.state.localVars,!0),S.state.localVars=null}function L(){S.state.localVars=S.state.context.vars,S.state.context=S.state.context.prev}function D(t,e){var n=function(){var n=S.state,o=n.indented;if("stat"==n.lexical.type)o=n.lexical.indented;else for(var r=n.lexical;r&&")"==r.type&&r.align;r=r.prev)o=r.indented;n.lexical=new C(o,S.stream.column(),t,null,n.lexical,e)};return n.lex=!0,n}function N(){var t=S.state;t.lexical.prev&&(")"==t.lexical.type&&(t.indented=t.lexical.indented),t.lexical=t.lexical.prev)}function I(t){return function e(n){return n==t?T():";"==t||"}"==n||")"==n||"]"==n?x():T(e)}}function W(t,e){return"var"==t?T(D("vardef",e),yt,I(";"),N):"keyword a"==t?T(D("form"),V,W,N):"keyword b"==t?T(D("form"),W,N):"keyword d"==t?S.stream.match(/^\s*$/,!1)?T():T(D("stat"),U,I(";"),N):"debugger"==t?T(I(";")):"{"==t?T(D("}"),H,at,N,L):";"==t?T():"if"==t?("else"==S.state.lexical.info&&S.state.cc[S.state.cc.length-1]==N&&S.state.cc.pop()(),T(D("form"),V,W,N,xt)):"function"==t?T(Et):"for"==t?T(D("form"),Tt,W,N):"class"==t||u&&"interface"==e?(S.marked="keyword",T(D("form","class"==t?t:e),Ht,N)):"variable"==t?u&&"declare"==e?(S.marked="keyword",T(W)):u&&("module"==e||"enum"==e||"type"==e)&&S.stream.match(/^\s*\w/,!1)?(S.marked="keyword","enum"==e?T(Yt):"type"==e?T(_t,I("operator"),ct,I(";")):T(D("form"),wt,I("{"),D("}"),at,N,N)):u&&"namespace"==e?(S.marked="keyword",T(D("form"),B,W,N)):u&&"abstract"==e?(S.marked="keyword",T(W)):T(D("stat"),Z):"switch"==t?T(D("form"),V,I("{"),D("}","switch"),H,at,N,N,L):"case"==t?T(B,I(":")):"default"==t?T(I(":")):"catch"==t?T(D("form"),P,F,W,N,L):"export"==t?T(D("stat"),It,N):"import"==t?T(D("stat"),Ft,N):"async"==t?T(W):"@"==e?T(B,W):x(D("stat"),B,I(";"),N)}function F(t){if("("==t)return T(At,I(")"))}function B(t,e){return j(t,e,!1)}function z(t,e){return j(t,e,!0)}function V(t){return"("!=t?x():T(D(")"),B,I(")"),N)}function j(t,e,n){if(S.state.fatArrowAt==S.stream.start){var o=n?Q:q;if("("==t)return T(P,D(")"),rt(At,")"),N,I("=>"),o,L);if("variable"==t)return x(P,wt,I("=>"),o,L)}var r=n?K:Y;return b.hasOwnProperty(t)?T(r):"function"==t?T(Et,r):"class"==t||u&&"interface"==e?(S.marked="keyword",T(D("form"),Pt,N)):"keyword c"==t||"async"==t?T(n?z:B):"("==t?T(D(")"),U,I(")"),N,r):"operator"==t||"spread"==t?T(n?z:B):"["==t?T(D("]"),Ut,N,r):"{"==t?it(et,"}",null,r):"quasi"==t?x(G,r):"new"==t?T(function(t){return function(e){return"."==e?T(t?$:J):"variable"==e&&u?T(gt,t?K:Y):x(t?z:B)}}(n)):"import"==t?T(B):T()}function U(t){return t.match(/[;\}\)\],]/)?x():x(B)}function Y(t,e){return","==t?T(B):K(t,e,!1)}function K(t,e,n){var o=0==n?Y:K,r=0==n?B:z;return"=>"==t?T(P,n?Q:q,L):"operator"==t?/\+\+|--/.test(e)||u&&"!"==e?T(o):u&&"<"==e&&S.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?T(D(">"),rt(ct,">"),N,o):"?"==e?T(B,I(":"),r):T(r):"quasi"==t?x(G,o):";"!=t?"("==t?it(z,")","call",o):"."==t?T(tt,o):"["==t?T(D("]"),U,I("]"),N,o):u&&"as"==e?(S.marked="keyword",T(ct,o)):"regexp"==t?(S.state.lastType=S.marked="operator",S.stream.backUp(S.stream.pos-S.stream.start-1),T(r)):void 0:void 0}function G(t,e){return"quasi"!=t?x():"${"!=e.slice(e.length-2)?T(G):T(B,X)}function X(t){if("}"==t)return S.marked="string-2",S.state.tokenize=m,T(G)}function q(t){return w(S.stream,S.state),x("{"==t?W:B)}function Q(t){return w(S.stream,S.state),x("{"==t?W:z)}function J(t,e){if("target"==e)return S.marked="keyword",T(Y)}function $(t,e){if("target"==e)return S.marked="keyword",T(K)}function Z(t){return":"==t?T(N,W):x(Y,I(";"),N)}function tt(t){if("variable"==t)return S.marked="property",T()}function et(t,e){return"async"==t?(S.marked="property",T(et)):"variable"==t||"keyword"==S.style?(S.marked="property","get"==e||"set"==e?T(nt):(u&&S.state.fatArrowAt==S.stream.start&&(n=S.stream.match(/^\s*:\s*/,!1))&&(S.state.fatArrowAt=S.stream.pos+n[0].length),T(ot))):"number"==t||"string"==t?(S.marked=s?"property":S.style+" property",T(ot)):"jsonld-keyword"==t?T(ot):u&&E(e)?(S.marked="keyword",T(et)):"["==t?T(B,st,I("]"),ot):"spread"==t?T(z,ot):"*"==e?(S.marked="keyword",T(et)):":"==t?x(ot):void 0;var n}function nt(t){return"variable"!=t?x(ot):(S.marked="property",T(Et))}function ot(t){return":"==t?T(z):"("==t?x(Et):void 0}function rt(t,e,n){function o(r,i){if(n?n.indexOf(r)>-1:","==r){var a=S.state.lexical;return"call"==a.info&&(a.pos=(a.pos||0)+1),T(function(n,o){return n==e||o==e?x():x(t)},o)}return r==e||i==e?T():n&&n.indexOf(";")>-1?x(t):T(I(e))}return function(n,r){return n==e||r==e?T():x(t,o)}}function it(t,e,n){for(var o=3;o<arguments.length;o++)S.cc.push(arguments[o]);return T(D(e,n),rt(t,e),N)}function at(t){return"}"==t?T():x(W,at)}function st(t,e){if(u){if(":"==t||"in"==e)return T(ct);if("?"==e)return T(st)}}function lt(t){if(u&&":"==t)return S.stream.match(/^\s*\w+\s+is\b/,!1)?T(B,ut,ct):T(ct)}function ut(t,e){if("is"==e)return S.marked="keyword",T()}function ct(t,e){return"keyof"==e||"typeof"==e||"infer"==e?(S.marked="keyword",T("typeof"==e?z:ct)):"variable"==t||"void"==e?(S.marked="type",T(pt)):"|"==e||"&"==e?T(ct):"string"==t||"number"==t||"atom"==t?T(pt):"["==t?T(D("]"),rt(ct,"]",","),N,pt):"{"==t?T(D("}"),rt(dt,"}",",;"),N,pt):"("==t?T(rt(ft,")"),ht,pt):"<"==t?T(rt(ct,">"),ct):void 0}function ht(t){if("=>"==t)return T(ct)}function dt(t,e){return"variable"==t||"keyword"==S.style?(S.marked="property",T(dt)):"?"==e||"number"==t||"string"==t?T(dt):":"==t?T(ct):"["==t?T(I("variable"),st,I("]"),dt):"("==t?x(Mt,dt):void 0}function ft(t,e){return"variable"==t&&S.stream.match(/^\s*[?:]/,!1)||"?"==e?T(ft):":"==t?T(ct):"spread"==t?T(ft):x(ct)}function pt(t,e){return"<"==e?T(D(">"),rt(ct,">"),N,pt):"|"==e||"."==t||"&"==e?T(ct):"["==t?T(ct,I("]"),pt):"extends"==e||"implements"==e?(S.marked="keyword",T(ct)):"?"==e?T(ct,I(":"),ct):void 0}function gt(t,e){if("<"==e)return T(D(">"),rt(ct,">"),N,pt)}function vt(){return x(ct,mt)}function mt(t,e){if("="==e)return T(ct)}function yt(t,e){return"enum"==e?(S.marked="keyword",T(Yt)):x(wt,st,kt,St)}function wt(t,e){return u&&E(e)?(S.marked="keyword",T(wt)):"variable"==t?(R(e),T()):"spread"==t?T(wt):"["==t?it(Ct,"]"):"{"==t?it(bt,"}"):void 0}function bt(t,e){return"variable"!=t||S.stream.match(/^\s*:/,!1)?("variable"==t&&(S.marked="property"),"spread"==t?T(wt):"}"==t?x():"["==t?T(B,I("]"),I(":"),bt):T(I(":"),wt,kt)):(R(e),T(kt))}function Ct(){return x(wt,kt)}function kt(t,e){if("="==e)return T(z)}function St(t){if(","==t)return T(yt)}function xt(t,e){if("keyword b"==t&&"else"==e)return T(D("form","else"),W,N)}function Tt(t,e){return"await"==e?T(Tt):"("==t?T(D(")"),Ot,N):void 0}function Ot(t){return"var"==t?T(yt,Rt):"variable"==t?T(Rt):x(Rt)}function Rt(t,e){return")"==t?T():";"==t?T(Rt):"in"==e||"of"==e?(S.marked="keyword",T(B,Rt)):x(B,Rt)}function Et(t,e){return"*"==e?(S.marked="keyword",T(Et)):"variable"==t?(R(e),T(Et)):"("==t?T(P,D(")"),rt(At,")"),N,lt,W,L):u&&"<"==e?T(D(">"),rt(vt,">"),N,Et):void 0}function Mt(t,e){return"*"==e?(S.marked="keyword",T(Mt)):"variable"==t?(R(e),T(Mt)):"("==t?T(P,D(")"),rt(At,")"),N,lt,L):u&&"<"==e?T(D(">"),rt(vt,">"),N,Mt):void 0}function _t(t,e){return"keyword"==t||"variable"==t?(S.marked="type",T(_t)):"<"==e?T(D(">"),rt(vt,">"),N):void 0}function At(t,e){return"@"==e&&T(B,At),"spread"==t?T(At):u&&E(e)?(S.marked="keyword",T(At)):u&&"this"==t?T(st,kt):x(wt,st,kt)}function Pt(t,e){return"variable"==t?Ht(t,e):Lt(t,e)}function Ht(t,e){if("variable"==t)return R(e),T(Lt)}function Lt(t,e){return"<"==e?T(D(">"),rt(vt,">"),N,Lt):"extends"==e||"implements"==e||u&&","==t?("implements"==e&&(S.marked="keyword"),T(u?ct:B,Lt)):"{"==t?T(D("}"),Dt,N):void 0}function Dt(t,e){return"async"==t||"variable"==t&&("static"==e||"get"==e||"set"==e||u&&E(e))&&S.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(S.marked="keyword",T(Dt)):"variable"==t||"keyword"==S.style?(S.marked="property",T(u?Nt:Et,Dt)):"number"==t||"string"==t?T(u?Nt:Et,Dt):"["==t?T(B,st,I("]"),u?Nt:Et,Dt):"*"==e?(S.marked="keyword",T(Dt)):u&&"("==t?x(Mt,Dt):";"==t||","==t?T(Dt):"}"==t?T():"@"==e?T(B,Dt):void 0}function Nt(t,e){if("?"==e)return T(Nt);if(":"==t)return T(ct,kt);if("="==e)return T(z);var n=S.state.lexical.prev;return x(n&&"interface"==n.info?Mt:Et)}function It(t,e){return"*"==e?(S.marked="keyword",T(jt,I(";"))):"default"==e?(S.marked="keyword",T(B,I(";"))):"{"==t?T(rt(Wt,"}"),jt,I(";")):x(W)}function Wt(t,e){return"as"==e?(S.marked="keyword",T(I("variable"))):"variable"==t?x(z,Wt):void 0}function Ft(t){return"string"==t?T():"("==t?x(B):x(Bt,zt,jt)}function Bt(t,e){return"{"==t?it(Bt,"}"):("variable"==t&&R(e),"*"==e&&(S.marked="keyword"),T(Vt))}function zt(t){if(","==t)return T(Bt,zt)}function Vt(t,e){if("as"==e)return S.marked="keyword",T(Bt)}function jt(t,e){if("from"==e)return S.marked="keyword",T(B)}function Ut(t){return"]"==t?T():x(rt(z,"]"))}function Yt(){return x(D("form"),wt,I("{"),D("}"),rt(Kt,"}"),N,N)}function Kt(){return x(wt,kt)}function Gt(t,e,n){return e.tokenize==g&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(e.lastType)||"quasi"==e.lastType&&/\{\s*$/.test(t.string.slice(0,t.pos-(n||0)))}return L.lex=!0,N.lex=!0,{startState:function(t){var e={tokenize:g,lastType:"sof",cc:[],lexical:new C((t||0)-i,0,"block",!1),localVars:n.localVars,context:n.localVars&&new M(null,null,!1),indented:t||0};return n.globalVars&&"object"==typeof n.globalVars&&(e.globalVars=n.globalVars),e},token:function(t,e){if(t.sol()&&(e.lexical.hasOwnProperty("align")||(e.lexical.align=!1),e.indented=t.indentation(),w(t,e)),e.tokenize!=v&&t.eatSpace())return null;var n=e.tokenize(t,e);return"comment"==o?n:(e.lastType="operator"!=o||"++"!=r&&"--"!=r?o:"incdec",function(t,e,n,o,r){var i=t.cc;for(S.state=t,S.stream=r,S.marked=null,S.cc=i,S.style=e,t.lexical.hasOwnProperty("align")||(t.lexical.align=!0);;){if((i.length?i.pop():l?B:W)(n,o)){for(;i.length&&i[i.length-1].lex;)i.pop()();return S.marked?S.marked:"variable"==n&&k(t,o)?"variable-2":e}}}(e,n,o,r,t))},indent:function(e,o){if(e.tokenize==v)return t.Pass;if(e.tokenize!=g)return 0;var r,s=o&&o.charAt(0),l=e.lexical;if(!/^\s*else\b/.test(o))for(var u=e.cc.length-1;u>=0;--u){var c=e.cc[u];if(c==N)l=l.prev;else if(c!=xt)break}for(;("stat"==l.type||"form"==l.type)&&("}"==s||(r=e.cc[e.cc.length-1])&&(r==Y||r==K)&&!/^[,\.=+\-*:?[\(]/.test(o));)l=l.prev;a&&")"==l.type&&"stat"==l.prev.type&&(l=l.prev);var h=l.type,f=s==h;return"vardef"==h?l.indented+("operator"==e.lastType||","==e.lastType?l.info.length+1:0):"form"==h&&"{"==s?l.indented:"form"==h?l.indented+i:"stat"==h?l.indented+(function(t,e){return"operator"==t.lastType||","==t.lastType||d.test(e.charAt(0))||/[,.]/.test(e.charAt(0))}(e,o)?a||i:0):"switch"!=l.info||f||0==n.doubleIndentSwitch?l.align?l.column+(f?0:1):l.indented+(f?0:i):l.indented+(/^(?:case|default)\b/.test(o)?i:2*i)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:l?null:"/*",blockCommentEnd:l?null:"*/",blockCommentContinue:l?null:" * ",lineComment:l?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:l?"json":"javascript",jsonldMode:s,jsonMode:l,expressionAllowed:Gt,skipExpression:function(t){var e=t.cc[t.cc.length-1];e!=B&&e!=z||t.cc.pop()}}}),t.registerHelper("wordChars","javascript",/[\w$]/),t.defineMIME("text/javascript","javascript"),t.defineMIME("text/ecmascript","javascript"),t.defineMIME("application/javascript","javascript"),t.defineMIME("application/x-javascript","javascript"),t.defineMIME("application/ecmascript","javascript"),t.defineMIME("application/json",{name:"javascript",json:!0}),t.defineMIME("application/x-json",{name:"javascript",json:!0}),t.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),t.defineMIME("text/typescript",{name:"javascript",typescript:!0}),t.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(n(14))},36:function(t,e,n){!function(t){"use strict";var e="CodeMirror-lint-markers";function n(t){t.parentNode&&t.parentNode.removeChild(t)}function o(e,o,r){var i=function(e,n){var o=document.createElement("div");function r(e){if(!o.parentNode)return t.off(document,"mousemove",r);o.style.top=Math.max(0,e.clientY-o.offsetHeight-5)+"px",o.style.left=e.clientX+5+"px"}return o.className="CodeMirror-lint-tooltip",o.appendChild(n.cloneNode(!0)),document.body.appendChild(o),t.on(document,"mousemove",r),r(e),null!=o.style.opacity&&(o.style.opacity=1),o}(e,o);function a(){var e;t.off(r,"mouseout",a),i&&((e=i).parentNode&&(null==e.style.opacity&&n(e),e.style.opacity=0,setTimeout(function(){n(e)},600)),i=null)}var s=setInterval(function(){if(i)for(var t=r;;t=t.parentNode){if(t&&11==t.nodeType&&(t=t.host),t==document.body)return;if(!t){a();break}}if(!i)return clearInterval(s)},400);t.on(r,"mouseout",a)}function r(t,e,n){this.marked=[],this.options=e,this.timeout=null,this.hasGutter=n,this.onMouseOver=function(e){!function(t,e){var n=e.target||e.srcElement;if(/\bCodeMirror-lint-mark-/.test(n.className)){for(var r=n.getBoundingClientRect(),i=(r.left+r.right)/2,a=(r.top+r.bottom)/2,l=t.findMarksAt(t.coordsChar({left:i,top:a},"client")),u=[],c=0;c<l.length;++c){var h=l[c].__annotation;h&&u.push(h)}u.length&&function(t,e){for(var n=e.target||e.srcElement,r=document.createDocumentFragment(),i=0;i<t.length;i++){var a=t[i];r.appendChild(s(a))}o(e,r,n)}(u,e)}}(t,e)},this.waitingFor=0}function i(t){var n=t.state.lint;n.hasGutter&&t.clearGutter(e);for(var o=0;o<n.marked.length;++o)n.marked[o].clear();n.marked.length=0}function a(e,n,r,i){var a=document.createElement("div"),s=a;return a.className="CodeMirror-lint-marker-"+n,r&&((s=a.appendChild(document.createElement("div"))).className="CodeMirror-lint-marker-multiple"),0!=i&&t.on(s,"mouseover",function(t){o(t,e,s)}),a}function s(t){var e=t.severity;e||(e="error");var n=document.createElement("div");return n.className="CodeMirror-lint-message-"+e,void 0!==t.messageHTML?n.innerHTML=t.messageHTML:n.appendChild(document.createTextNode(t.message)),n}function l(e){var n=e.state.lint.options,o=n.options||n,r=n.getAnnotations||e.getHelper(t.Pos(0,0),"lint");if(r)if(n.async||r.async)!function(e,n,o){var r=e.state.lint,i=++r.waitingFor;function a(){i=-1,e.off("change",a)}e.on("change",a),n(e.getValue(),function(n,o){e.off("change",a),r.waitingFor==i&&(o&&n instanceof t&&(n=o),e.operation(function(){u(e,n)}))},o,e)}(e,r,o);else{var i=r(e.getValue(),o,e);if(!i)return;i.then?i.then(function(t){e.operation(function(){u(e,t)})}):e.operation(function(){u(e,i)})}}function u(t,n){i(t);for(var o=t.state.lint,r=o.options,l=function(t){for(var e=[],n=0;n<t.length;++n){var o=t[n],r=o.from.line;(e[r]||(e[r]=[])).push(o)}return e}(n),u=0;u<l.length;++u){var c=l[u];if(c){for(var h=null,d=o.hasGutter&&document.createDocumentFragment(),f=0;f<c.length;++f){var p=c[f],g=p.severity;g||(g="error"),h="error"==(v=h)?v:b,r.formatAnnotation&&(p=r.formatAnnotation(p)),o.hasGutter&&d.appendChild(s(p)),p.to&&o.marked.push(t.markText(p.from,p.to,{className:"CodeMirror-lint-mark-"+g,__annotation:p}))}o.hasGutter&&t.setGutterMarker(u,e,a(d,h,c.length>1,o.options.tooltips))}}var v;r.onUpdateLinting&&r.onUpdateLinting(n,l,t)}function c(t){var e=t.state.lint;e&&(clearTimeout(e.timeout),e.timeout=setTimeout(function(){l(t)},e.options.delay||500))}t.defineOption("lint",!1,function(n,o,a){if(a&&a!=t.Init&&(i(n),!1!==n.state.lint.options.lintOnChange&&n.off("change",c),t.off(n.getWrapperElement(),"mouseover",n.state.lint.onMouseOver),clearTimeout(n.state.lint.timeout),delete n.state.lint),o){for(var s=n.getOption("gutters"),u=!1,h=0;h<s.length;++h)s[h]==e&&(u=!0);var d=n.state.lint=new r(n,(f=o)instanceof Function?{getAnnotations:f}:(f&&!0!==f||(f={}),f),u);!1!==d.options.lintOnChange&&n.on("change",c),0!=d.options.tooltips&&"gutter"!=d.options.tooltips&&t.on(n.getWrapperElement(),"mouseover",d.onMouseOver),l(n)}var f}),t.defineExtension("performLint",function(){this.state.lint&&l(this)})}(n(14))},54:function(t,e,n){t.exports=function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e={rgb2hsl:n,rgb2hsv:o,rgb2hwb:i,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:l,rgb2lab:u,rgb2lch:function(t){return y(u(t))},hsl2rgb:c,hsl2hsv:function(t){var e=t[0],n=t[1]/100,o=t[2]/100;return 0===o?[0,0,0]:[e,2*(n*=(o*=2)<=1?o:2-o)/(o+n)*100,(o+n)/2*100]},hsl2hwb:function(t){return i(c(t))},hsl2cmyk:function(t){return a(c(t))},hsl2keyword:function(t){return s(c(t))},hsv2rgb:h,hsv2hsl:function(t){var e,n,o=t[0],r=t[1]/100,i=t[2]/100;return e=r*i,[o,100*(e=(e/=(n=(2-r)*i)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(t){return i(h(t))},hsv2cmyk:function(t){return a(h(t))},hsv2keyword:function(t){return s(h(t))},hwb2rgb:d,hwb2hsl:function(t){return n(d(t))},hwb2hsv:function(t){return o(d(t))},hwb2cmyk:function(t){return a(d(t))},hwb2keyword:function(t){return s(d(t))},cmyk2rgb:f,cmyk2hsl:function(t){return n(f(t))},cmyk2hsv:function(t){return o(f(t))},cmyk2hwb:function(t){return i(f(t))},cmyk2keyword:function(t){return s(f(t))},keyword2rgb:k,keyword2hsl:function(t){return n(k(t))},keyword2hsv:function(t){return o(k(t))},keyword2hwb:function(t){return i(k(t))},keyword2cmyk:function(t){return a(k(t))},keyword2lab:function(t){return u(k(t))},keyword2xyz:function(t){return l(k(t))},xyz2rgb:p,xyz2lab:v,xyz2lch:function(t){return y(v(t))},lab2xyz:m,lab2rgb:w,lab2lch:y,lch2lab:C,lch2xyz:function(t){return m(C(t))},lch2rgb:function(t){return w(C(t))}};function n(t){var e,n,o=t[0]/255,r=t[1]/255,i=t[2]/255,a=Math.min(o,r,i),s=Math.max(o,r,i),l=s-a;return s==a?e=0:o==s?e=(r-i)/l:r==s?e=2+(i-o)/l:i==s&&(e=4+(o-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s==a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}function o(t){var e,n,o=t[0],r=t[1],i=t[2],a=Math.min(o,r,i),s=Math.max(o,r,i),l=s-a;return n=0==s?0:l/s*1e3/10,s==a?e=0:o==s?e=(r-i)/l:r==s?e=2+(i-o)/l:i==s&&(e=4+(o-r)/l),(e=Math.min(60*e,360))<0&&(e+=360),[e,n,s/255*1e3/10]}function i(t){var e=t[0],o=t[1],r=t[2];return[n(t)[0],100*(1/255*Math.min(e,Math.min(o,r))),100*(r=1-1/255*Math.max(e,Math.max(o,r)))]}function a(t){var e,n=t[0]/255,o=t[1]/255,r=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-o,1-r)))/(1-e)||0),100*((1-o-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*e]}function s(t){return x[JSON.stringify(t)]}function l(t){var e=t[0]/255,n=t[1]/255,o=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(o=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92)),100*(.2126*e+.7152*n+.0722*o),100*(.0193*e+.1192*n+.9505*o)]}function u(t){var e=l(t),n=e[0],o=e[1],r=e[2];return o/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116)-16,500*(n-o),200*(o-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function c(t){var e,n,o,r,i,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0==s)return[i=255*l,i,i];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var u=0;u<3;u++)(o=a+1/3*-(u-1))<0&&o++,o>1&&o--,i=6*o<1?e+6*(n-e)*o:2*o<1?n:3*o<2?e+(n-e)*(2/3-o)*6:e,r[u]=255*i;return r}function h(t){var e=t[0]/60,n=t[1]/100,o=t[2]/100,r=Math.floor(e)%6,i=e-Math.floor(e),a=255*o*(1-n),s=255*o*(1-n*i),l=255*o*(1-n*(1-i));o*=255;switch(r){case 0:return[o,l,a];case 1:return[s,o,a];case 2:return[a,o,l];case 3:return[a,s,o];case 4:return[l,a,o];case 5:return[o,a,s]}}function d(t){var e,n,o,i,a=t[0]/360,s=t[1]/100,l=t[2]/100,u=s+l;switch(u>1&&(s/=u,l/=u),o=6*a-(e=Math.floor(6*a)),0!=(1&e)&&(o=1-o),i=s+o*((n=1-l)-s),e){default:case 6:case 0:r=n,g=i,b=s;break;case 1:r=i,g=n,b=s;break;case 2:r=s,g=n,b=i;break;case 3:r=s,g=i,b=n;break;case 4:r=i,g=s,b=n;break;case 5:r=n,g=s,b=i}return[255*r,255*g,255*b]}function f(t){var e=t[0]/100,n=t[1]/100,o=t[2]/100,r=t[3]/100;return[255*(1-Math.min(1,e*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,o*(1-r)+r))]}function p(t){var e,n,o,r=t[0]/100,i=t[1]/100,a=t[2]/100;return n=-.9689*r+1.8758*i+.0415*a,o=.0557*r+-.204*i+1.057*a,e=(e=3.2406*r+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:e*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o*=12.92,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(o=Math.min(Math.max(0,o),1))]}function v(t){var e=t[0],n=t[1],o=t[2];return n/=100,o/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]}function m(t){var e,n,o,r,i=t[0],a=t[1],s=t[2];return i<=8?r=(n=100*i/903.3)/100*7.787+16/116:(n=100*Math.pow((i+16)/116,3),r=Math.pow(n/100,1/3)),[e=e/95.047<=.008856?e=95.047*(a/500+r-16/116)/7.787:95.047*Math.pow(a/500+r,3),n,o=o/108.883<=.008859?o=108.883*(r-s/200-16/116)/7.787:108.883*Math.pow(r-s/200,3)]}function y(t){var e,n=t[0],o=t[1],r=t[2];return(e=360*Math.atan2(r,o)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(o*o+r*r),e]}function w(t){return p(m(t))}function C(t){var e,n=t[0],o=t[1];return e=t[2]/360*2*Math.PI,[n,o*Math.cos(e),o*Math.sin(e)]}function k(t){return S[t]}var S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},x={};for(var T in S)x[JSON.stringify(S[T])]=T;var O=function(){return new A};for(var R in e){O[R+"Raw"]=function(t){return function(n){return"number"==typeof n&&(n=Array.prototype.slice.call(arguments)),e[t](n)}}(R);var E=/(\w+)2(\w+)/.exec(R),M=E[1],_=E[2];(O[M]=O[M]||{})[_]=O[R]=function(t){return function(n){"number"==typeof n&&(n=Array.prototype.slice.call(arguments));var o=e[t](n);if("string"==typeof o||void 0===o)return o;for(var r=0;r<o.length;r++)o[r]=Math.round(o[r]);return o}}(R)}var A=function(){this.convs={}};A.prototype.routeSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n))},A.prototype.setValues=function(t,e){return this.space=t,this.convs={},this.convs[t]=e,this},A.prototype.getValues=function(t){var e=this.convs[t];if(!e){var n=this.space,o=this.convs[n];e=O[n][t](o),this.convs[t]=e}return e},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(t){A.prototype[t]=function(e){return this.routeSpace(t,arguments)}});var P=O,H={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},L={getRgba:D,getHsla:N,getRgb:function(t){var e=D(t);return e&&e.slice(0,3)},getHsl:function(t){var e=N(t);return e&&e.slice(0,3)},getHwb:I,getAlpha:function(t){var e=D(t);return e?e[3]:(e=N(t))?e[3]:(e=I(t))?e[3]:void 0},hexString:function(t,e){e=void 0!==e&&3===t.length?e:t[3];return"#"+V(t[0])+V(t[1])+V(t[2])+(e>=0&&e<1?V(Math.round(255*e)):"")},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?W(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:W,percentString:function(t,e){return e<1||t[3]&&t[3]<1?F(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:F,hslString:function(t,e){return e<1||t[3]&&t[3]<1?B(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:B,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return j[t.slice(0,3)]}};function D(t){if(t){var e=[0,0,0],n=1,o=t.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(o){r=(o=o[1])[3];for(var i=0;i<e.length;i++)e[i]=parseInt(o[i]+o[i],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(o=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){r=o[2],o=o[1];for(i=0;i<e.length;i++)e[i]=parseInt(o.slice(2*i,2*i+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(o=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(i=0;i<e.length;i++)e[i]=parseInt(o[i+1]);n=parseFloat(o[4])}else if(o=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(i=0;i<e.length;i++)e[i]=Math.round(2.55*parseFloat(o[i+1]));n=parseFloat(o[4])}else if(o=t.match(/(\w+)/)){if("transparent"==o[1])return[0,0,0,0];if(!(e=H[o[1]]))return}for(i=0;i<e.length;i++)e[i]=z(e[i],0,255);return n=n||0==n?z(n,0,1):1,e[3]=n,e}}function N(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[z(parseInt(e[1]),0,360),z(parseFloat(e[2]),0,100),z(parseFloat(e[3]),0,100),z(isNaN(n)?1:n,0,1)]}}}function I(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[z(parseInt(e[1]),0,360),z(parseFloat(e[2]),0,100),z(parseFloat(e[3]),0,100),z(isNaN(n)?1:n,0,1)]}}}function W(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function F(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function B(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function z(t,e,n){return Math.min(Math.max(e,t),n)}function V(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var j={};for(var U in H)j[H[U]]=U;var Y=function(t){return t instanceof Y?t:this instanceof Y?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=L.getRgba(t))?this.setValues("rgb",e):(e=L.getHsla(t))?this.setValues("hsl",e):(e=L.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new Y(t);var e};Y.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return L.hexString(this.values.rgb)},rgbString:function(){return L.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return L.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return L.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return L.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return L.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return L.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return L.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var o=t[n]/255;e[n]=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=t,o=void 0===e?.5:e,r=2*o-1,i=this.alpha()-n.alpha(),a=((r*i==-1?r:(r+i)/(1+r*i))+1)/2,s=1-a;return this.rgb(a*this.red()+s*n.red(),a*this.green()+s*n.green(),a*this.blue()+s*n.blue()).alpha(this.alpha()*o+n.alpha()*(1-o))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new Y,o=this.values,r=n.values;for(var i in o)o.hasOwnProperty(i)&&(t=o[i],"[object Array]"===(e={}.toString.call(t))?r[i]=t.slice(0):"[object Number]"===e?r[i]=t:console.error("unexpected color value:",t));return n}},Y.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Y.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Y.prototype.getValues=function(t){for(var e=this.values,n={},o=0;o<t.length;o++)n[t.charAt(o)]=e[t][o];return 1!==e.alpha&&(n.a=e.alpha),n},Y.prototype.setValues=function(t,e){var n,o,r=this.values,i=this.spaces,a=this.maxes,s=1;if(this.valid=!0,"alpha"===t)s=e;else if(e.length)r[t]=e.slice(0,t.length),s=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)r[t][n]=e[t.charAt(n)];s=e.a}else if(void 0!==e[i[t][0]]){var l=i[t];for(n=0;n<t.length;n++)r[t][n]=e[l[n]];s=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===t)return!1;for(n=0;n<t.length;n++)o=Math.max(0,Math.min(a[t][n],r[t][n])),r[t][n]=Math.round(o);for(var u in i)u!==t&&(r[u]=P[t][u](r[t]));return!0},Y.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},Y.prototype.setChannel=function(t,e,n){var o=this.values[t];return void 0===n?o[e]:n===o[e]?this:(o[e]=n,this.setValues(t,o),this)},"undefined"!=typeof window&&(window.Color=Y);var K,G=Y,X={noop:function(){},uid:(K=0,function(){return K++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return X.valueOrDefault(X.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,o){var r,i,a;if(X.isArray(t))if(i=t.length,o)for(r=i-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<i;r++)e.call(n,t[r],r);else if(X.isObject(t))for(i=(a=Object.keys(t)).length,r=0;r<i;r++)e.call(n,t[a[r]],a[r])},arrayEquals:function(t,e){var n,o,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,o=t.length;n<o;++n)if(r=t[n],i=e[n],r instanceof Array&&i instanceof Array){if(!X.arrayEquals(r,i))return!1}else if(r!==i)return!1;return!0},clone:function(t){if(X.isArray(t))return t.map(X.clone);if(X.isObject(t)){for(var e={},n=Object.keys(t),o=n.length,r=0;r<o;++r)e[n[r]]=X.clone(t[n[r]]);return e}return t},_merger:function(t,e,n,o){var r=e[t],i=n[t];X.isObject(r)&&X.isObject(i)?X.merge(r,i,o):e[t]=X.clone(i)},_mergerIf:function(t,e,n){var o=e[t],r=n[t];X.isObject(o)&&X.isObject(r)?X.mergeIf(o,r):e.hasOwnProperty(t)||(e[t]=X.clone(r))},merge:function(t,e,n){var o,r,i,a,s,l=X.isArray(e)?e:[e],u=l.length;if(!X.isObject(t))return t;for(o=(n=n||{}).merger||X._merger,r=0;r<u;++r)if(e=l[r],X.isObject(e))for(s=0,a=(i=Object.keys(e)).length;s<a;++s)o(i[s],t,e,n);return t},mergeIf:function(t,e){return X.merge(t,e,{merger:X._mergerIf})},extend:function(t){for(var e=function(e,n){t[n]=e},n=1,o=arguments.length;n<o;++n)X.each(arguments[n],e);return t},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},o=function(){this.constructor=n};return o.prototype=e.prototype,n.prototype=new o,n.extend=X.inherits,t&&X.extend(n.prototype,t),n.__super__=e.prototype,n}},q=X;X.callCallback=X.callback,X.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},X.getValueOrDefault=X.valueOrDefault,X.getValueAtIndexOrDefault=X.valueAtIndexOrDefault;var Q={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,o=1;return 0===t?0:1===t?1:(n||(n=.3),o<1?(o=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/o),-o*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,o=1;return 0===t?0:1===t?1:(n||(n=.3),o<1?(o=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/o),o*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,o=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),o<1?(o=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/o),t<1?o*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:o*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-Q.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*Q.easeInBounce(2*t):.5*Q.easeOutBounce(2*t-1)+.5}},J={effects:Q};q.easingEffects=Q;var $=Math.PI,Z=$/180,tt=2*$,et=$/2,nt=$/4,ot=2*$/3,rt={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,o,r,i){if(i){var a=Math.min(i,r/2,o/2),s=e+a,l=n+a,u=e+o-a,c=n+r-a;t.moveTo(e,l),s<u&&l<c?(t.arc(s,l,a,-$,-et),t.arc(u,l,a,-et,0),t.arc(u,c,a,0,et),t.arc(s,c,a,et,$)):s<u?(t.moveTo(s,n),t.arc(u,l,a,-et,et),t.arc(s,l,a,et,$+et)):l<c?(t.arc(s,l,a,-$,0),t.arc(s,c,a,0,$)):t.arc(s,l,a,-$,$),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,o,r)},drawPoint:function(t,e,n,o,r,i){var a,s,l,u,c,h=(i||0)*Z;if(!e||"object"!=typeof e||"[object HTMLImageElement]"!==(a=e.toString())&&"[object HTMLCanvasElement]"!==a){if(!(isNaN(n)||n<=0)){switch(t.beginPath(),e){default:t.arc(o,r,n,0,tt),t.closePath();break;case"triangle":t.moveTo(o+Math.sin(h)*n,r-Math.cos(h)*n),h+=ot,t.lineTo(o+Math.sin(h)*n,r-Math.cos(h)*n),h+=ot,t.lineTo(o+Math.sin(h)*n,r-Math.cos(h)*n),t.closePath();break;case"rectRounded":u=n-(c=.516*n),s=Math.cos(h+nt)*u,l=Math.sin(h+nt)*u,t.arc(o-s,r-l,c,h-$,h-et),t.arc(o+l,r-s,c,h-et,h),t.arc(o+s,r+l,c,h,h+et),t.arc(o-l,r+s,c,h+et,h+$),t.closePath();break;case"rect":if(!i){u=Math.SQRT1_2*n,t.rect(o-u,r-u,2*u,2*u);break}h+=nt;case"rectRot":s=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(o-s,r-l),t.lineTo(o+l,r-s),t.lineTo(o+s,r+l),t.lineTo(o-l,r+s),t.closePath();break;case"crossRot":h+=nt;case"cross":s=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(o-s,r-l),t.lineTo(o+s,r+l),t.moveTo(o+l,r-s),t.lineTo(o-l,r+s);break;case"star":s=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(o-s,r-l),t.lineTo(o+s,r+l),t.moveTo(o+l,r-s),t.lineTo(o-l,r+s),h+=nt,s=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(o-s,r-l),t.lineTo(o+s,r+l),t.moveTo(o+l,r-s),t.lineTo(o-l,r+s);break;case"line":s=Math.cos(h)*n,l=Math.sin(h)*n,t.moveTo(o-s,r-l),t.lineTo(o+s,r+l);break;case"dash":t.moveTo(o,r),t.lineTo(o+Math.cos(h)*n,r+Math.sin(h)*n)}t.fill(),t.stroke()}}else t.drawImage(e,o-e.width/2,r-e.height/2,e.width,e.height)},_isPointInArea:function(t,e){return t.x>e.left-1e-6&&t.x<e.right+1e-6&&t.y>e.top-1e-6&&t.y<e.bottom+1e-6},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,o){var r=n.steppedLine;if(r){if("middle"===r){var i=(e.x+n.x)/2;t.lineTo(i,o?n.y:e.y),t.lineTo(i,o?e.y:n.y)}else"after"===r&&!o||"after"!==r&&o?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}else n.tension?t.bezierCurveTo(o?e.controlPointPreviousX:e.controlPointNextX,o?e.controlPointPreviousY:e.controlPointNextY,o?n.controlPointNextX:n.controlPointPreviousX,o?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}},it=rt;q.clear=rt.clear,q.drawRoundedRectangle=function(t){t.beginPath(),rt.roundedRect.apply(rt,arguments)};var at={_set:function(t,e){return q.merge(this[t]||(this[t]={}),e)}};at._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var st=at,lt=q.valueOrDefault,ut=q,ct=J,ht=it,dt={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,o,r;return q.isObject(t)?(e=+t.top||0,n=+t.right||0,o=+t.bottom||0,r=+t.left||0):e=n=o=r=+t||0,{top:e,right:n,bottom:o,left:r,height:e+o,width:r+n}},_parseFont:function(t){var e=st.global,n=lt(t.fontSize,e.defaultFontSize),o={family:lt(t.fontFamily,e.defaultFontFamily),lineHeight:q.options.toLineHeight(lt(t.lineHeight,e.defaultLineHeight),n),size:n,style:lt(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return o.string=function(t){return!t||q.isNullOrUndef(t.size)||q.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(o),o},resolve:function(t,e,n){var o,r,i;for(o=0,r=t.length;o<r;++o)if(void 0!==(i=t[o])&&(void 0!==e&&"function"==typeof i&&(i=i(e)),void 0!==n&&q.isArray(i)&&(i=i[n]),void 0!==i))return i}};ut.easing=ct,ut.canvas=ht,ut.options=dt;var ft=function(t){ut.extend(this,t),this.initialize.apply(this,arguments)};ut.extend(ft.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=ut.clone(t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,o=e._start,r=e._view;return n&&1!==t?(r||(r=e._view={}),o||(o=e._start={}),function(t,e,n,o){var r,i,a,s,l,u,c,h,d,f=Object.keys(n);for(r=0,i=f.length;r<i;++r)if(u=n[a=f[r]],e.hasOwnProperty(a)||(e[a]=u),(s=e[a])!==u&&"_"!==a[0]){if(t.hasOwnProperty(a)||(t[a]=s),(c=typeof u)==typeof(l=t[a]))if("string"===c){if((h=G(l)).valid&&(d=G(u)).valid){e[a]=d.mix(h,o).rgbString();continue}}else if(ut.isFinite(l)&&ut.isFinite(u)){e[a]=l+(u-l)*o;continue}e[a]=u}}(o,r,n,t),e):(e._view=n,e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return ut.isNumber(this._model.x)&&ut.isNumber(this._model.y)}}),ft.extend=ut.inherits;var pt=ft,gt=pt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),vt=gt;Object.defineProperty(gt.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(gt.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),st._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:ut.noop,onComplete:ut.noop}});var mt={animations:[],request:null,addAnimation:function(t,e,n,o){var r,i,a=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=n,o||(t.animating=!0),r=0,i=a.length;r<i;++r)if(a[r].chart===t)return void(a[r]=e);a.push(e),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=ut.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=ut.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var t,e,n,o,r=this.animations,i=0;i<r.length;)e=(t=r[i]).chart,n=t.numSteps,o=Math.floor((Date.now()-t.startTime)/t.duration*n)+1,t.currentStep=Math.min(o,n),ut.callback(t.render,[e,t],e),ut.callback(t.onAnimationProgress,[t],e),t.currentStep>=n?(ut.callback(t.onAnimationComplete,[t],e),e.animating=!1,r.splice(i,1)):++i}},yt=ut.options.resolve,wt=["push","pop","shift","splice","unshift"];function bt(t,e){var n=t._chartjs;if(n){var o=n.listeners,r=o.indexOf(e);-1!==r&&o.splice(r,1),o.length>0||(wt.forEach(function(e){delete t[e]}),delete t._chartjs)}}var Ct=function(t,e){this.initialize(t,e)};ut.extend(Ct.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){this.chart=t,this.index=e,this.linkScales(),this.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.getDataset();null!==e.xAxisID&&e.xAxisID in t.chart.scales||(e.xAxisID=n.xAxisID||t.chart.options.scales.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in t.chart.scales||(e.yAxisID=n.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this.update(!0)},destroy:function(){this._data&&bt(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,n=this.getMeta(),o=this.getDataset().data||[],r=n.data;for(t=0,e=o.length;t<e;++t)r[t]=r[t]||this.createMetaData(t);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t,e,n=this,o=n.getDataset(),r=o.data||(o.data=[]);n._data!==r&&(n._data&&bt(n._data,n),r&&Object.isExtensible(r)&&(e=n,(t=r)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),wt.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),o=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),r=o.apply(this,e);return ut.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),r}})}))),n._data=r),n.resyncElements()},update:ut.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],o=n.length,r=0;r<o;++r)n[r].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,o=0;for(t.dataset&&t.dataset.draw();o<n;++o)e[o].draw()},removeHoverStyle:function(t){ut.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,o=t.custom||{},r=t._model,i=ut.getHoverColor;t.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=yt([o.hoverBackgroundColor,e.hoverBackgroundColor,i(r.backgroundColor)],void 0,n),r.borderColor=yt([o.hoverBorderColor,e.hoverBorderColor,i(r.borderColor)],void 0,n),r.borderWidth=yt([o.hoverBorderWidth,e.hoverBorderWidth,r.borderWidth],void 0,n)},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,n=t.data.length,o=e.length;o<n?t.data.splice(o,n-o):o>n&&this.insertElements(n,o-n)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Ct.extend=ut.inherits;var kt=Ct;st._set("global",{elements:{arc:{backgroundColor:st.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var St=pt.extend({inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var o=ut.getAngleFromPoint(n,{x:t,y:e}),r=o.angle,i=o.distance,a=n.startAngle,s=n.endAngle;s<a;)s+=2*Math.PI;for(;r>s;)r-=2*Math.PI;for(;r<a;)r+=2*Math.PI;var l=r>=a&&r<=s,u=i>=n.innerRadius&&i<=n.outerRadius;return l&&u}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t,e=this._chart.ctx,n=this._view,o=n.startAngle,r=n.endAngle,i="inner"===n.borderAlign?.33:0;e.save(),e.beginPath(),e.arc(n.x,n.y,Math.max(n.outerRadius-i,0),o,r),e.arc(n.x,n.y,n.innerRadius,r,o,!0),e.closePath(),e.fillStyle=n.backgroundColor,e.fill(),n.borderWidth&&("inner"===n.borderAlign?(e.beginPath(),t=i/n.outerRadius,e.arc(n.x,n.y,n.outerRadius,o-t,r+t),n.innerRadius>i?(t=i/n.innerRadius,e.arc(n.x,n.y,n.innerRadius-i,r+t,o-t,!0)):e.arc(n.x,n.y,i,r+Math.PI/2,o-Math.PI/2),e.closePath(),e.clip(),e.beginPath(),e.arc(n.x,n.y,n.outerRadius,o,r),e.arc(n.x,n.y,n.innerRadius,r,o,!0),e.closePath(),e.lineWidth=2*n.borderWidth,e.lineJoin="round"):(e.lineWidth=n.borderWidth,e.lineJoin="bevel"),e.strokeStyle=n.borderColor,e.stroke()),e.restore()}}),xt=ut.valueOrDefault,Tt=st.global.defaultColor;st._set("global",{elements:{line:{tension:.4,backgroundColor:Tt,borderWidth:3,borderColor:Tt,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Ot=pt.extend({draw:function(){var t,e,n,o,r=this._view,i=this._chart.ctx,a=r.spanGaps,s=this._children.slice(),l=st.global,u=l.elements.line,c=-1;for(this._loop&&s.length&&s.push(s[0]),i.save(),i.lineCap=r.borderCapStyle||u.borderCapStyle,i.setLineDash&&i.setLineDash(r.borderDash||u.borderDash),i.lineDashOffset=xt(r.borderDashOffset,u.borderDashOffset),i.lineJoin=r.borderJoinStyle||u.borderJoinStyle,i.lineWidth=xt(r.borderWidth,u.borderWidth),i.strokeStyle=r.borderColor||l.defaultColor,i.beginPath(),c=-1,t=0;t<s.length;++t)e=s[t],n=ut.previousItem(s,t),o=e._view,0===t?o.skip||(i.moveTo(o.x,o.y),c=t):(n=-1===c?n:s[c],o.skip||(c!==t-1&&!a||-1===c?i.moveTo(o.x,o.y):ut.canvas.lineTo(i,n._view,e._view),c=t));i.stroke(),i.restore()}}),Rt=ut.valueOrDefault,Et=st.global.defaultColor;function Mt(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}st._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Et,borderColor:Et,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var _t=pt.extend({inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:Mt,inXRange:Mt,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._chart.ctx,o=e.pointStyle,r=e.rotation,i=e.radius,a=e.x,s=e.y,l=st.global,u=l.defaultColor;e.skip||(void 0===t||ut.canvas._isPointInArea(e,t))&&(n.strokeStyle=e.borderColor||u,n.lineWidth=Rt(e.borderWidth,l.elements.point.borderWidth),n.fillStyle=e.backgroundColor||u,ut.canvas.drawPoint(n,o,i,a,s,r))}}),At=st.global.defaultColor;function Pt(t){return t&&void 0!==t.width}function Ht(t){var e,n,o,r,i;return Pt(t)?(i=t.width/2,e=t.x-i,n=t.x+i,o=Math.min(t.y,t.base),r=Math.max(t.y,t.base)):(i=t.height/2,e=Math.min(t.x,t.base),n=Math.max(t.x,t.base),o=t.y-i,r=t.y+i),{left:e,top:o,right:n,bottom:r}}function Lt(t,e,n){return t===e?n:t===n?e:t}function Dt(t,e,n){var o=null===e,r=null===n,i=!(!t||o&&r)&&Ht(t);return i&&(o||e>=i.left&&e<=i.right)&&(r||n>=i.top&&n<=i.bottom)}st._set("global",{elements:{rectangle:{backgroundColor:At,borderColor:At,borderSkipped:"bottom",borderWidth:0}}});var Nt=pt.extend({draw:function(){var t=this._chart.ctx,e=this._view,n=function(t){var e=Ht(t),n=e.right-e.left,o=e.bottom-e.top,r=function(t,e,n){var o,r,i,a,s=t.borderWidth,l=function(t){var e=t.borderSkipped,n={};return e?(t.horizontal?t.base>t.x&&(e=Lt(e,"left","right")):t.base<t.y&&(e=Lt(e,"bottom","top")),n[e]=!0,n):n}(t);return ut.isObject(s)?(o=+s.top||0,r=+s.right||0,i=+s.bottom||0,a=+s.left||0):o=r=i=a=+s||0,{t:l.top||o<0?0:o>n?n:o,r:l.right||r<0?0:r>e?e:r,b:l.bottom||i<0?0:i>n?n:i,l:l.left||a<0?0:a>e?e:a}}(t,n/2,o/2);return{outer:{x:e.left,y:e.top,w:n,h:o},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:o-r.t-r.b}}}(e),o=n.outer,r=n.inner;t.fillStyle=e.backgroundColor,t.fillRect(o.x,o.y,o.w,o.h),o.w===r.w&&o.h===r.h||(t.save(),t.beginPath(),t.rect(o.x,o.y,o.w,o.h),t.clip(),t.fillStyle=e.borderColor,t.rect(r.x,r.y,r.w,r.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return Dt(this._view,t,e)},inLabelRange:function(t,e){var n=this._view;return Pt(n)?Dt(n,t,null):Dt(n,null,e)},inXRange:function(t){return Dt(this._view,t,null)},inYRange:function(t){return Dt(this._view,null,t)},getCenterPoint:function(){var t,e,n=this._view;return Pt(n)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return Pt(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),It={},Wt=St,Ft=Ot,Bt=_t,zt=Nt;It.Arc=Wt,It.Line=Ft,It.Point=Bt,It.Rectangle=zt;var Vt=ut.options.resolve;st._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}});var jt=kt.extend({dataElementType:It.Rectangle,initialize:function(){var t;kt.prototype.initialize.apply(this,arguments),(t=this.getMeta()).stack=this.getDataset().stack,t.bar=!0},update:function(t){var e,n,o=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,n=o.length;e<n;++e)this.updateElement(o[e],e,t)},updateElement:function(t,e,n){var o=this,r=o.getMeta(),i=o.getDataset(),a=o._resolveElementOptions(t,e);t._xScale=o.getScaleForId(r.xAxisID),t._yScale=o.getScaleForId(r.yAxisID),t._datasetIndex=o.index,t._index=e,t._model={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderSkipped:a.borderSkipped,borderWidth:a.borderWidth,datasetLabel:i.label,label:o.chart.data.labels[e]},o._updateElementGeometry(t,e,n),t.pivot()},_updateElementGeometry:function(t,e,n){var o=this,r=t._model,i=o._getValueScale(),a=i.getBasePixel(),s=i.isHorizontal(),l=o._ruler||o.getRuler(),u=o.calculateBarValuePixels(o.index,e),c=o.calculateBarIndexPixels(o.index,e,l);r.horizontal=s,r.base=n?a:u.base,r.x=s?n?a:u.head:c.center,r.y=s?c.center:n?a:u.head,r.height=s?c.size:void 0,r.width=s?void 0:c.size},_getStacks:function(t){var e,n,o=this.chart,r=this._getIndexScale().options.stacked,i=void 0===t?o.data.datasets.length:t+1,a=[];for(e=0;e<i;++e)(n=o.getDatasetMeta(e)).bar&&o.isDatasetVisible(e)&&(!1===r||!0===r&&-1===a.indexOf(n.stack)||void 0===r&&(void 0===n.stack||-1===a.indexOf(n.stack)))&&a.push(n.stack);return a},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),o=void 0!==e?n.indexOf(e):-1;return-1===o?n.length-1:o},getRuler:function(){var t,e,n=this._getIndexScale(),o=this.getStackCount(),r=this.index,i=n.isHorizontal(),a=i?n.left:n.top,s=a+(i?n.width:n.height),l=[];for(t=0,e=this.getMeta().data.length;t<e;++t)l.push(n.getPixelForValue(null,t,r));return{min:ut.isNullOrUndef(n.options.barThickness)?function(t,e){var n,o,r,i,a=t.isHorizontal()?t.width:t.height,s=t.getTicks();for(r=1,i=e.length;r<i;++r)a=Math.min(a,Math.abs(e[r]-e[r-1]));for(r=0,i=s.length;r<i;++r)o=t.getPixelForTick(r),a=r>0?Math.min(a,o-n):a,n=o;return a}(n,l):-1,pixels:l,start:a,end:s,stackCount:o,scale:n}},calculateBarValuePixels:function(t,e){var n,o,r,i,a,s,l=this.chart,u=this.getMeta(),c=this._getValueScale(),h=c.isHorizontal(),d=l.data.datasets,f=+c.getRightValue(d[t].data[e]),p=c.options.minBarLength,g=c.options.stacked,v=u.stack,m=0;if(g||void 0===g&&void 0!==v)for(n=0;n<t;++n)(o=l.getDatasetMeta(n)).bar&&o.stack===v&&o.controller._getValueScaleId()===c.id&&l.isDatasetVisible(n)&&(r=+c.getRightValue(d[n].data[e]),(f<0&&r<0||f>=0&&r>0)&&(m+=r));return i=c.getPixelForValue(m),s=(a=c.getPixelForValue(m+f))-i,void 0!==p&&Math.abs(s)<p&&(s=p,a=f>=0&&!h||f<0&&h?i-p:i+p),{size:s,base:i,head:a,center:a+s/2}},calculateBarIndexPixels:function(t,e,n){var o=n.scale.options,r="flex"===o.barThickness?function(t,e,n){var o,r=e.pixels,i=r[t],a=t>0?r[t-1]:null,s=t<r.length-1?r[t+1]:null,l=n.categoryPercentage;return null===a&&(a=i-(null===s?e.end-e.start:s-i)),null===s&&(s=i+i-a),o=i-(i-Math.min(a,s))/2*l,{chunk:Math.abs(s-a)/2*l/e.stackCount,ratio:n.barPercentage,start:o}}(e,n,o):function(t,e,n){var o,r,i=n.barThickness,a=e.stackCount,s=e.pixels[t];return ut.isNullOrUndef(i)?(o=e.min*n.categoryPercentage,r=n.barPercentage):(o=i*a,r=1),{chunk:o/a,ratio:r,start:s-o/2}}(e,n,o),i=this.getStackIndex(t,this.getMeta().stack),a=r.start+r.chunk*i+r.chunk/2,s=Math.min(ut.valueOrDefault(o.maxBarThickness,1/0),r.chunk*r.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}},draw:function(){var t=this.chart,e=this._getValueScale(),n=this.getMeta().data,o=this.getDataset(),r=n.length,i=0;for(ut.canvas.clipArea(t.ctx,t.chartArea);i<r;++i)isNaN(e.getRightValue(o.data[i]))||n[i].draw();ut.canvas.unclipArea(t.ctx)},_resolveElementOptions:function(t,e){var n,o,r,i=this.chart,a=i.data.datasets[this.index],s=t.custom||{},l=i.options.elements.rectangle,u={},c={chart:i,dataIndex:e,dataset:a,datasetIndex:this.index},h=["backgroundColor","borderColor","borderSkipped","borderWidth"];for(n=0,o=h.length;n<o;++n)u[r=h[n]]=Vt([s[r],a[r],l[r]],c,e);return u}}),Ut=ut.valueOrDefault,Yt=ut.options.resolve;st._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",o=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+o.r+")"}}}});var Kt=kt.extend({dataElementType:It.Point,update:function(t){var e=this,n=e.getMeta().data;ut.each(n,function(n,o){e.updateElement(n,o,t)})},updateElement:function(t,e,n){var o=this,r=o.getMeta(),i=t.custom||{},a=o.getScaleForId(r.xAxisID),s=o.getScaleForId(r.yAxisID),l=o._resolveElementOptions(t,e),u=o.getDataset().data[e],c=o.index,h=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof u?u:NaN,e,c),d=n?s.getBasePixel():s.getPixelForValue(u,e,c);t._xScale=a,t._yScale=s,t._options=l,t._datasetIndex=c,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:i.skip||isNaN(h)||isNaN(d),x:h,y:d},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options,o=ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Ut(n.hoverBackgroundColor,o(n.backgroundColor)),e.borderColor=Ut(n.hoverBorderColor,o(n.borderColor)),e.borderWidth=Ut(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},_resolveElementOptions:function(t,e){var n,o,r,i=this.chart,a=i.data.datasets[this.index],s=t.custom||{},l=i.options.elements.point,u=a.data[e],c={},h={chart:i,dataIndex:e,dataset:a,datasetIndex:this.index},d=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(n=0,o=d.length;n<o;++n)c[r=d[n]]=Yt([s[r],a[r],l[r]],h,e);return c.radius=Yt([s.radius,u?u.r:void 0,a.radius,l.radius],h,e),c}}),Gt=ut.options.resolve,Xt=ut.valueOrDefault;st._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,o=n.datasets,r=n.labels;if(o.length)for(var i=0;i<o[0].data.length;++i)e.push('<li><span style="background-color:'+o[0].backgroundColor[i]+'"></span>'),r[i]&&e.push(r[i]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,o){var r=t.getDatasetMeta(0),i=e.datasets[0],a=r.data[o],s=a&&a.custom||{},l=t.options.elements.arc;return{text:n,fillStyle:Gt([s.backgroundColor,i.backgroundColor,l.backgroundColor],void 0,o),strokeStyle:Gt([s.borderColor,i.borderColor,l.borderColor],void 0,o),lineWidth:Gt([s.borderWidth,i.borderWidth,l.borderWidth],void 0,o),hidden:isNaN(i.data[o])||r.data[o].hidden,index:o}}):[]}},onClick:function(t,e){var n,o,r,i=e.index,a=this.chart;for(n=0,o=(a.data.datasets||[]).length;n<o;++n)(r=a.getDatasetMeta(n)).data[i]&&(r.data[i].hidden=!r.data[i].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],o=": "+e.datasets[t.datasetIndex].data[t.index];return ut.isArray(n)?(n=n.slice())[0]+=o:n+=o,n}}}});var qt=kt.extend({dataElementType:It.Arc,linkScales:ut.noop,getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e,n,o=this,r=o.chart,i=r.chartArea,a=r.options,s=i.right-i.left,l=i.bottom-i.top,u=Math.min(s,l),c={x:0,y:0},h=o.getMeta(),d=h.data,f=a.cutoutPercentage,p=a.circumference,g=o._getRingWeight(o.index);if(p<2*Math.PI){var v=a.rotation%(2*Math.PI),m=(v+=2*Math.PI*(v>=Math.PI?-1:v<-Math.PI?1:0))+p,y={x:Math.cos(v),y:Math.sin(v)},w={x:Math.cos(m),y:Math.sin(m)},b=v<=0&&m>=0||v<=2*Math.PI&&2*Math.PI<=m,C=v<=.5*Math.PI&&.5*Math.PI<=m||v<=2.5*Math.PI&&2.5*Math.PI<=m,k=v<=-Math.PI&&-Math.PI<=m||v<=Math.PI&&Math.PI<=m,S=v<=.5*-Math.PI&&.5*-Math.PI<=m||v<=1.5*Math.PI&&1.5*Math.PI<=m,x=f/100,T={x:k?-1:Math.min(y.x*(y.x<0?1:x),w.x*(w.x<0?1:x)),y:S?-1:Math.min(y.y*(y.y<0?1:x),w.y*(w.y<0?1:x))},O={x:b?1:Math.max(y.x*(y.x>0?1:x),w.x*(w.x>0?1:x)),y:C?1:Math.max(y.y*(y.y>0?1:x),w.y*(w.y>0?1:x))},R={width:.5*(O.x-T.x),height:.5*(O.y-T.y)};u=Math.min(s/R.width,l/R.height),c={x:-.5*(O.x+T.x),y:-.5*(O.y+T.y)}}for(e=0,n=d.length;e<n;++e)d[e]._options=o._resolveElementOptions(d[e],e);for(r.borderWidth=o.getMaxBorderWidth(),r.outerRadius=Math.max((u-r.borderWidth)/2,0),r.innerRadius=Math.max(f?r.outerRadius/100*f:0,0),r.radiusLength=(r.outerRadius-r.innerRadius)/(o._getVisibleDatasetWeightTotal()||1),r.offsetX=c.x*r.outerRadius,r.offsetY=c.y*r.outerRadius,h.total=o.calculateTotal(),o.outerRadius=r.outerRadius-r.radiusLength*o._getRingWeightOffset(o.index),o.innerRadius=Math.max(o.outerRadius-r.radiusLength*g,0),e=0,n=d.length;e<n;++e)o.updateElement(d[e],e,t)},updateElement:function(t,e,n){var o=this,r=o.chart,i=r.chartArea,a=r.options,s=a.animation,l=(i.left+i.right)/2,u=(i.top+i.bottom)/2,c=a.rotation,h=a.rotation,d=o.getDataset(),f=n&&s.animateRotate?0:t.hidden?0:o.calculateCircumference(d.data[e])*(a.circumference/(2*Math.PI)),p=n&&s.animateScale?0:o.innerRadius,g=n&&s.animateScale?0:o.outerRadius,v=t._options||{};ut.extend(t,{_datasetIndex:o.index,_index:e,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:l+r.offsetX,y:u+r.offsetY,startAngle:c,endAngle:h,circumference:f,outerRadius:g,innerRadius:p,label:ut.valueAtIndexOrDefault(d.label,e,r.data.labels[e])}});var m=t._model;n&&s.animateRotate||(m.startAngle=0===e?a.rotation:o.getMeta().data[e-1]._model.endAngle,m.endAngle=m.startAngle+m.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),o=0;return ut.each(n.data,function(n,r){t=e.data[r],isNaN(t)||n.hidden||(o+=Math.abs(t))}),o},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,n,o,r,i,a,s,l,u=0,c=this.chart;if(!t)for(e=0,n=c.data.datasets.length;e<n;++e)if(c.isDatasetVisible(e)){t=(o=c.getDatasetMeta(e)).data,e!==this.index&&(i=o.controller);break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)r=t[e],"inner"!==(a=i?i._resolveElementOptions(r,e):r._options).borderAlign&&(s=a.borderWidth,u=(l=a.hoverBorderWidth)>(u=s>u?s:u)?l:u);return u},setHoverStyle:function(t){var e=t._model,n=t._options,o=ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=Xt(n.hoverBackgroundColor,o(n.backgroundColor)),e.borderColor=Xt(n.hoverBorderColor,o(n.borderColor)),e.borderWidth=Xt(n.hoverBorderWidth,n.borderWidth)},_resolveElementOptions:function(t,e){var n,o,r,i=this.chart,a=this.getDataset(),s=t.custom||{},l=i.options.elements.arc,u={},c={chart:i,dataIndex:e,dataset:a,datasetIndex:this.index},h=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(n=0,o=h.length;n<o;++n)u[r=h[n]]=Gt([s[r],a[r],l[r]],c,e);return u},_getRingWeightOffset:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e},_getRingWeight:function(t){return Math.max(Xt(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});st._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}});var Qt=jt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Jt=ut.valueOrDefault,$t=ut.options.resolve,Zt=ut.canvas._isPointInArea;function te(t,e){return Jt(t.showLine,e.showLines)}st._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var ee=kt.extend({datasetElementType:It.Line,dataElementType:It.Point,update:function(t){var e,n,o=this,r=o.getMeta(),i=r.dataset,a=r.data||[],s=o.getScaleForId(r.yAxisID),l=o.getDataset(),u=te(l,o.chart.options);for(u&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),i._scale=s,i._datasetIndex=o.index,i._children=a,i._model=o._resolveLineOptions(i),i.pivot()),e=0,n=a.length;e<n;++e)o.updateElement(a[e],e,t);for(u&&0!==i._model.tension&&o.updateBezierControlPoints(),e=0,n=a.length;e<n;++e)a[e].pivot()},updateElement:function(t,e,n){var o,r,i=this,a=i.getMeta(),s=t.custom||{},l=i.getDataset(),u=i.index,c=l.data[e],h=i.getScaleForId(a.yAxisID),d=i.getScaleForId(a.xAxisID),f=a.dataset._model,p=i._resolvePointOptions(t,e);o=d.getPixelForValue("object"==typeof c?c:NaN,e,u),r=n?h.getBasePixel():i.calculatePointY(c,e,u),t._xScale=d,t._yScale=h,t._options=p,t._datasetIndex=u,t._index=e,t._model={x:o,y:r,skip:s.skip||isNaN(o)||isNaN(r),radius:p.radius,pointStyle:p.pointStyle,rotation:p.rotation,backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,tension:Jt(s.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:p.hitRadius}},_resolvePointOptions:function(t,e){var n,o,r,i=this.chart,a=i.data.datasets[this.index],s=t.custom||{},l=i.options.elements.point,u={},c={chart:i,dataIndex:e,dataset:a,datasetIndex:this.index},h={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},d=Object.keys(h);for(n=0,o=d.length;n<o;++n)u[r=d[n]]=$t([s[r],a[h[r]],a[r],l[r]],c,e);return u},_resolveLineOptions:function(t){var e,n,o,r=this.chart,i=r.data.datasets[this.index],a=t.custom||{},s=r.options,l=s.elements.line,u={},c=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill","cubicInterpolationMode"];for(e=0,n=c.length;e<n;++e)u[o=c[e]]=$t([a[o],i[o],l[o]]);return u.spanGaps=Jt(i.spanGaps,s.spanGaps),u.tension=Jt(i.lineTension,l.tension),u.steppedLine=$t([a.steppedLine,i.steppedLine,l.stepped]),u},calculatePointY:function(t,e,n){var o,r,i,a=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),u=0,c=0;if(l.options.stacked){for(o=0;o<n;o++)if(r=a.data.datasets[o],"line"===(i=a.getDatasetMeta(o)).type&&i.yAxisID===l.id&&a.isDatasetVisible(o)){var h=Number(l.getRightValue(r.data[e]));h<0?c+=h||0:u+=h||0}var d=Number(l.getRightValue(t));return d<0?l.getPixelForValue(c+d):l.getPixelForValue(u+d)}return l.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,n,o,r=this.chart,i=this.getMeta(),a=i.dataset._model,s=r.chartArea,l=i.data||[];function u(t,e,n){return Math.max(Math.min(t,n),e)}if(a.spanGaps&&(l=l.filter(function(t){return!t._model.skip})),"monotone"===a.cubicInterpolationMode)ut.splineCurveMonotone(l);else for(t=0,e=l.length;t<e;++t)n=l[t]._model,o=ut.splineCurve(ut.previousItem(l,t)._model,n,ut.nextItem(l,t)._model,a.tension),n.controlPointPreviousX=o.previous.x,n.controlPointPreviousY=o.previous.y,n.controlPointNextX=o.next.x,n.controlPointNextY=o.next.y;if(r.options.elements.line.capBezierPoints)for(t=0,e=l.length;t<e;++t)n=l[t]._model,Zt(n,s)&&(t>0&&Zt(l[t-1]._model,s)&&(n.controlPointPreviousX=u(n.controlPointPreviousX,s.left,s.right),n.controlPointPreviousY=u(n.controlPointPreviousY,s.top,s.bottom)),t<l.length-1&&Zt(l[t+1]._model,s)&&(n.controlPointNextX=u(n.controlPointNextX,s.left,s.right),n.controlPointNextY=u(n.controlPointNextY,s.top,s.bottom)))},draw:function(){var t,e=this.chart,n=this.getMeta(),o=n.data||[],r=e.chartArea,i=o.length,a=0;for(te(this.getDataset(),e.options)&&(t=(n.dataset._model.borderWidth||0)/2,ut.canvas.clipArea(e.ctx,{left:r.left,right:r.right,top:r.top-t,bottom:r.bottom+t}),n.dataset.draw(),ut.canvas.unclipArea(e.ctx));a<i;++a)o[a].draw(r)},setHoverStyle:function(t){var e=t._model,n=t._options,o=ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Jt(n.hoverBackgroundColor,o(n.backgroundColor)),e.borderColor=Jt(n.hoverBorderColor,o(n.borderColor)),e.borderWidth=Jt(n.hoverBorderWidth,n.borderWidth),e.radius=Jt(n.hoverRadius,n.radius)}}),ne=ut.options.resolve;st._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var n=t.data,o=n.datasets,r=n.labels;if(o.length)for(var i=0;i<o[0].data.length;++i)e.push('<li><span style="background-color:'+o[0].backgroundColor[i]+'"></span>'),r[i]&&e.push(r[i]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,o){var r=t.getDatasetMeta(0),i=e.datasets[0],a=r.data[o].custom||{},s=t.options.elements.arc;return{text:n,fillStyle:ne([a.backgroundColor,i.backgroundColor,s.backgroundColor],void 0,o),strokeStyle:ne([a.borderColor,i.borderColor,s.borderColor],void 0,o),lineWidth:ne([a.borderWidth,i.borderWidth,s.borderWidth],void 0,o),hidden:isNaN(i.data[o])||r.data[o].hidden,index:o}}):[]}},onClick:function(t,e){var n,o,r,i=e.index,a=this.chart;for(n=0,o=(a.data.datasets||[]).length;n<o;++n)(r=a.getDatasetMeta(n)).data[i].hidden=!r.data[i].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var oe=kt.extend({dataElementType:It.Arc,linkScales:ut.noop,update:function(t){var e,n,o,r=this,i=r.getDataset(),a=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],u=r._angles=[],c=a.data;for(r._updateRadius(),a.count=r.countVisibleElements(),e=0,n=i.data.length;e<n;e++)l[e]=s,o=r._computeAngle(e),u[e]=o,s+=o;for(e=0,n=c.length;e<n;++e)c[e]._options=r._resolveElementOptions(c[e],e),r.updateElement(c[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,n=e.chartArea,o=e.options,r=Math.min(n.right-n.left,n.bottom-n.top);e.outerRadius=Math.max(r/2,0),e.innerRadius=Math.max(o.cutoutPercentage?e.outerRadius/100*o.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,n){var o=this,r=o.chart,i=o.getDataset(),a=r.options,s=a.animation,l=r.scale,u=r.data.labels,c=l.xCenter,h=l.yCenter,d=a.startAngle,f=t.hidden?0:l.getDistanceFromCenterForValue(i.data[e]),p=o._starts[e],g=p+(t.hidden?0:o._angles[e]),v=s.animateScale?0:l.getDistanceFromCenterForValue(i.data[e]),m=t._options||{};ut.extend(t,{_datasetIndex:o.index,_index:e,_scale:l,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:c,y:h,innerRadius:0,outerRadius:n?v:f,startAngle:n&&s.animateRotate?d:p,endAngle:n&&s.animateRotate?d:g,label:ut.valueAtIndexOrDefault(u,e,u[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return ut.each(e.data,function(e,o){isNaN(t.data[o])||e.hidden||n++}),n},setHoverStyle:function(t){var e=t._model,n=t._options,o=ut.getHoverColor,r=ut.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=r(n.hoverBackgroundColor,o(n.backgroundColor)),e.borderColor=r(n.hoverBorderColor,o(n.borderColor)),e.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_resolveElementOptions:function(t,e){var n,o,r,i=this.chart,a=this.getDataset(),s=t.custom||{},l=i.options.elements.arc,u={},c={chart:i,dataIndex:e,dataset:a,datasetIndex:this.index},h=["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"];for(n=0,o=h.length;n<o;++n)u[r=h[n]]=ne([s[r],a[r],l[r]],c,e);return u},_computeAngle:function(t){var e=this,n=this.getMeta().count,o=e.getDataset(),r=e.getMeta();if(isNaN(o.data[t])||r.data[t].hidden)return 0;var i={chart:e.chart,dataIndex:t,dataset:o,datasetIndex:e.index};return ne([e.chart.options.elements.arc.angle,2*Math.PI/n],i,t)}});st._set("pie",ut.clone(st.doughnut)),st._set("pie",{cutoutPercentage:0});var re=qt,ie=ut.valueOrDefault,ae=ut.options.resolve;st._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}});var se=kt.extend({datasetElementType:It.Line,dataElementType:It.Point,linkScales:ut.noop,update:function(t){var e,n,o=this,r=o.getMeta(),i=r.dataset,a=r.data||[],s=o.chart.scale,l=o.getDataset();for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),i._scale=s,i._datasetIndex=o.index,i._children=a,i._loop=!0,i._model=o._resolveLineOptions(i),i.pivot(),e=0,n=a.length;e<n;++e)o.updateElement(a[e],e,t);for(o.updateBezierControlPoints(),e=0,n=a.length;e<n;++e)a[e].pivot()},updateElement:function(t,e,n){var o=this,r=t.custom||{},i=o.getDataset(),a=o.chart.scale,s=a.getPointPositionForValue(e,i.data[e]),l=o._resolvePointOptions(t,e),u=o.getMeta().dataset._model,c=n?a.xCenter:s.x,h=n?a.yCenter:s.y;t._scale=a,t._options=l,t._datasetIndex=o.index,t._index=e,t._model={x:c,y:h,skip:r.skip||isNaN(c)||isNaN(h),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:ie(r.tension,u?u.tension:0),hitRadius:l.hitRadius}},_resolvePointOptions:function(t,e){var n,o,r,i=this.chart,a=i.data.datasets[this.index],s=t.custom||{},l=i.options.elements.point,u={},c={chart:i,dataIndex:e,dataset:a,datasetIndex:this.index},h={backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},d=Object.keys(h);for(n=0,o=d.length;n<o;++n)u[r=d[n]]=ae([s[r],a[h[r]],a[r],l[r]],c,e);return u},_resolveLineOptions:function(t){var e,n,o,r=this.chart,i=r.data.datasets[this.index],a=t.custom||{},s=r.options.elements.line,l={},u=["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"];for(e=0,n=u.length;e<n;++e)l[o=u[e]]=ae([a[o],i[o],s[o]]);return l.tension=ie(i.lineTension,s.tension),l},updateBezierControlPoints:function(){var t,e,n,o,r=this.getMeta(),i=this.chart.chartArea,a=r.data||[];function s(t,e,n){return Math.max(Math.min(t,n),e)}for(t=0,e=a.length;t<e;++t)n=a[t]._model,o=ut.splineCurve(ut.previousItem(a,t,!0)._model,n,ut.nextItem(a,t,!0)._model,n.tension),n.controlPointPreviousX=s(o.previous.x,i.left,i.right),n.controlPointPreviousY=s(o.previous.y,i.top,i.bottom),n.controlPointNextX=s(o.next.x,i.left,i.right),n.controlPointNextY=s(o.next.y,i.top,i.bottom)},setHoverStyle:function(t){var e=t._model,n=t._options,o=ut.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=ie(n.hoverBackgroundColor,o(n.backgroundColor)),e.borderColor=ie(n.hoverBorderColor,o(n.borderColor)),e.borderWidth=ie(n.hoverBorderWidth,n.borderWidth),e.radius=ie(n.hoverRadius,n.radius)}});st._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}});var le={bar:jt,bubble:Kt,doughnut:qt,horizontalBar:Qt,line:ee,polarArea:oe,pie:re,radar:se,scatter:ee};function ue(t,e){return t.native?{x:t.x,y:t.y}:ut.getRelativePosition(t,e)}function ce(t,e){var n,o,r,i,a;for(o=0,i=t.data.datasets.length;o<i;++o)if(t.isDatasetVisible(o))for(r=0,a=(n=t.getDatasetMeta(o)).data.length;r<a;++r){var s=n.data[r];s._view.skip||e(s)}}function he(t,e){var n=[];return ce(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function de(t,e,n,o){var r=Number.POSITIVE_INFINITY,i=[];return ce(t,function(t){if(!n||t.inRange(e.x,e.y)){var a=t.getCenterPoint(),s=o(e,a);s<r?(i=[t],r=s):s===r&&i.push(t)}}),i}function fe(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,o){var r=e?Math.abs(t.x-o.x):0,i=n?Math.abs(t.y-o.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(i,2))}}function pe(t,e,n){var o=ue(e,t);n.axis=n.axis||"x";var r=fe(n.axis),i=n.intersect?he(t,o):de(t,o,!1,r),a=[];return i.length?(t.data.datasets.forEach(function(e,n){if(t.isDatasetVisible(n)){var o=t.getDatasetMeta(n).data[i[0]._index];o&&!o._view.skip&&a.push(o)}}),a):[]}var ge={modes:{single:function(t,e){var n=ue(e,t),o=[];return ce(t,function(t){if(t.inRange(n.x,n.y))return o.push(t),o}),o.slice(0,1)},label:pe,index:pe,dataset:function(t,e,n){var o=ue(e,t);n.axis=n.axis||"xy";var r=fe(n.axis),i=n.intersect?he(t,o):de(t,o,!1,r);return i.length>0&&(i=t.getDatasetMeta(i[0]._datasetIndex).data),i},"x-axis":function(t,e){return pe(t,e,{intersect:!1})},point:function(t,e){return he(t,ue(e,t))},nearest:function(t,e,n){var o=ue(e,t);n.axis=n.axis||"xy";var r=fe(n.axis);return de(t,o,n.intersect,r)},x:function(t,e,n){var o=ue(e,t),r=[],i=!1;return ce(t,function(t){t.inXRange(o.x)&&r.push(t),t.inRange(o.x,o.y)&&(i=!0)}),n.intersect&&!i&&(r=[]),r},y:function(t,e,n){var o=ue(e,t),r=[],i=!1;return ce(t,function(t){t.inYRange(o.y)&&r.push(t),t.inRange(o.x,o.y)&&(i=!0)}),n.intersect&&!i&&(r=[]),r}}};function ve(t,e){return ut.where(t,function(t){return t.position===e})}function me(t,e){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,n){var o=e?n:t,r=e?t:n;return o.weight===r.weight?o._tmpIndex_-r._tmpIndex_:o.weight-r.weight}),t.forEach(function(t){delete t._tmpIndex_})}function ye(t,e){ut.each(t,function(t){e[t.position]+=t.isHorizontal()?t.height:t.width})}st._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var we,be={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var o,r=["fullWidth","position","weight"],i=r.length,a=0;a<i;++a)o=r[a],n.hasOwnProperty(o)&&(e[o]=n[o])},update:function(t,e,n){if(t){var o=t.options.layout||{},r=ut.options.toPadding(o.padding),i=r.left,a=r.right,s=r.top,l=r.bottom,u=ve(t.boxes,"left"),c=ve(t.boxes,"right"),h=ve(t.boxes,"top"),d=ve(t.boxes,"bottom"),f=ve(t.boxes,"chartArea");me(u,!0),me(c,!1),me(h,!0),me(d,!1);var p,g=u.concat(c),v=h.concat(d),m=g.concat(v),y=e-i-a,w=n-s-l,b=(e-y/2)/g.length,C=y,k=w,S={top:s,left:i,bottom:l,right:a},x=[];ut.each(m,function(t){var e,n=t.isHorizontal();n?(e=t.update(t.fullWidth?y:C,w/2),k-=e.height):(e=t.update(b,k),C-=e.width),x.push({horizontal:n,width:e.width,box:t})}),p=function(t){var e=0,n=0,o=0,r=0;return ut.each(t,function(t){if(t.getPadding){var i=t.getPadding();e=Math.max(e,i.top),n=Math.max(n,i.left),o=Math.max(o,i.bottom),r=Math.max(r,i.right)}}),{top:e,left:n,bottom:o,right:r}}(m),ut.each(g,A),ye(g,S),ut.each(v,A),ye(v,S),ut.each(g,function(t){var e=ut.findNextWhere(x,function(e){return e.box===t}),n={left:0,right:0,top:S.top,bottom:S.bottom};e&&t.update(e.width,k,n)}),ye(m,S={top:s,left:i,bottom:l,right:a});var T=Math.max(p.left-S.left,0);S.left+=T,S.right+=Math.max(p.right-S.right,0);var O=Math.max(p.top-S.top,0);S.top+=O,S.bottom+=Math.max(p.bottom-S.bottom,0);var R=n-S.top-S.bottom,E=e-S.left-S.right;E===C&&R===k||(ut.each(g,function(t){t.height=R}),ut.each(v,function(t){t.fullWidth||(t.width=E)}),k=R,C=E);var M=i+T,_=s+O;ut.each(u.concat(h),P),M+=C,_+=k,ut.each(c,P),ut.each(d,P),t.chartArea={left:S.left,top:S.top,right:S.left+C,bottom:S.top+k},ut.each(f,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(C,k)})}function A(t){var e=ut.findNextWhere(x,function(e){return e.box===t});if(e)if(e.horizontal){var n={left:Math.max(S.left,p.left),right:Math.max(S.right,p.right),top:0,bottom:0};t.update(t.fullWidth?y:C,w/2,n)}else t.update(e.width,k)}function P(t){t.isHorizontal()?(t.left=t.fullWidth?i:S.left,t.right=t.fullWidth?e-a:S.left+C,t.top=_,t.bottom=_+t.height,_=t.bottom):(t.left=M,t.right=M+t.width,t.top=S.top,t.bottom=S.top+k,M=t.right)}}},Ce=(we=Object.freeze({default:"/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n"}))&&we.default||we,ke="$chartjs",Se="chartjs-size-monitor",xe="chartjs-render-monitor",Te="chartjs-render-animation",Oe=["animationstart","webkitAnimationStart"],Re={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function Ee(t,e){var n=ut.getStyle(t,e),o=n&&n.match(/^(\d+)(\.\d+)?px$/);return o?Number(o[1]):void 0}var Me=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};function _e(t,e,n){t.addEventListener(e,n,Me)}function Ae(t,e,n){t.removeEventListener(e,n,Me)}function Pe(t,e,n,o,r){return{type:t,chart:e,native:r||null,x:void 0!==n?n:null,y:void 0!==o?o:null}}function He(t){var e=document.createElement("div");return e.className=t||"",e}var Le={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(){var t,e;this._loaded||(this._loaded=!0,this.disableCSSInjection||(t=Ce,e=this._style||document.createElement("style"),this._style||(this._style=e,t="/* Chart.js */\n"+t,e.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(e)),e.appendChild(document.createTextNode(t))))},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return this._ensureLoaded(),n&&n.canvas===t?(function(t,e){var n=t.style,o=t.getAttribute("height"),r=t.getAttribute("width");if(t[ke]={initial:{height:o,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var i=Ee(t,"width");void 0!==i&&(t.width=i)}if(null===o||""===o)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var a=Ee(t,"height");void 0!==i&&(t.height=a)}}(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e[ke]){var n=e[ke].initial;["height","width"].forEach(function(t){var o=n[t];ut.isNullOrUndef(o)?e.removeAttribute(t):e.setAttribute(t,o)}),ut.each(n.style||{},function(t,n){e.style[n]=t}),e.width=e.width,delete e[ke]}},addEventListener:function(t,e,n){var o=t.canvas;if("resize"!==e){var r=n[ke]||(n[ke]={});_e(o,e,(r.proxies||(r.proxies={}))[t.id+"_"+e]=function(e){n(function(t,e){var n=Re[t.type]||t.type,o=ut.getRelativePosition(t,e);return Pe(n,e,o.x,o.y,t)}(e,t))})}else!function(t,e,n){var o,r,i,a,s=t[ke]||(t[ke]={}),l=s.resizer=function(t){var e=He(Se),n=He(Se+"-expand"),o=He(Se+"-shrink");n.appendChild(He()),o.appendChild(He()),e.appendChild(n),e.appendChild(o),e._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,o.scrollLeft=1e6,o.scrollTop=1e6};var r=function(){e._reset(),t()};return _e(n,"scroll",r.bind(n,"expand")),_e(o,"scroll",r.bind(o,"shrink")),e}((o=function(){if(s.resizer){var o=n.options.maintainAspectRatio&&t.parentNode,r=o?o.clientWidth:0;e(Pe("resize",n)),o&&o.clientWidth<r&&n.canvas&&e(Pe("resize",n))}},i=!1,a=[],function(){a=Array.prototype.slice.call(arguments),r=r||this,i||(i=!0,ut.requestAnimFrame.call(window,function(){i=!1,o.apply(r,a)}))}));!function(t,e){var n=t[ke]||(t[ke]={}),o=n.renderProxy=function(t){t.animationName===Te&&e()};ut.each(Oe,function(e){_e(t,e,o)}),n.reflow=!!t.offsetParent,t.classList.add(xe)}(t,function(){if(s.resizer){var e=t.parentNode;e&&e!==l.parentNode&&e.insertBefore(l,e.firstChild),l._reset()}})}(o,n,t)},removeEventListener:function(t,e,n){var o=t.canvas;if("resize"!==e){var r=((n[ke]||{}).proxies||{})[t.id+"_"+e];r&&Ae(o,e,r)}else!function(t){var e=t[ke]||{},n=e.resizer;delete e.resizer,function(t){var e=t[ke]||{},n=e.renderProxy;n&&(ut.each(Oe,function(e){Ae(t,e,n)}),delete e.renderProxy),t.classList.remove(xe)}(t),n&&n.parentNode&&n.parentNode.removeChild(n)}(o)}};ut.addEvent=_e,ut.removeEvent=Ae;var De=Le._enabled?Le:{acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}},Ne=ut.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},De);st._set("global",{plugins:{}});var Ie={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var o,r,i,a,s,l=this.descriptors(t),u=l.length;for(o=0;o<u;++o)if("function"==typeof(s=(i=(r=l[o]).plugin)[e])&&((a=[t].concat(n||[])).push(r.options),!1===s.apply(i,a)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],o=[],r=t&&t.config||{},i=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach(function(t){if(-1===n.indexOf(t)){var e=t.id,r=i[e];!1!==r&&(!0===r&&(r=ut.clone(st.global.plugins[e])),n.push(t),o.push({plugin:t,options:r||{}}))}}),e.descriptors=o,e.id=this._cacheId,o},_invalidate:function(t){delete t.$plugins}},We={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=ut.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?ut.merge({},[st.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=ut.extend(this.defaults[t],e))},addScalesToLayout:function(t){ut.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,be.addBox(t,e)})}},Fe=ut.valueOrDefault;st._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:ut.noop,title:function(t,e){var n="",o=e.labels,r=o?o.length:0;if(t.length>0){var i=t[0];i.label?n=i.label:i.xLabel?n=i.xLabel:r>0&&i.index<r&&(n=o[i.index])}return n},afterTitle:ut.noop,beforeBody:ut.noop,beforeLabel:ut.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),ut.isNullOrUndef(t.value)?n+=t.yLabel:n+=t.value,n},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:ut.noop,afterBody:ut.noop,beforeFooter:ut.noop,footer:ut.noop,afterFooter:ut.noop}}});var Be={average:function(t){if(!t.length)return!1;var e,n,o=0,r=0,i=0;for(e=0,n=t.length;e<n;++e){var a=t[e];if(a&&a.hasValue()){var s=a.tooltipPosition();o+=s.x,r+=s.y,++i}}return{x:o/i,y:r/i}},nearest:function(t,e){var n,o,r,i=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,o=t.length;n<o;++n){var l=t[n];if(l&&l.hasValue()){var u=l.getCenterPoint(),c=ut.distanceBetweenPoints(e,u);c<s&&(s=c,r=l)}}if(r){var h=r.tooltipPosition();i=h.x,a=h.y}return{x:i,y:a}}};function ze(t,e){return e&&(ut.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ve(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function je(t){var e=st.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:Fe(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:Fe(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:Fe(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:Fe(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:Fe(t.titleFontStyle,e.defaultFontStyle),titleFontSize:Fe(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:Fe(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:Fe(t.footerFontStyle,e.defaultFontStyle),footerFontSize:Fe(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function Ue(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function Ye(t){return ze([],Ve(t))}var Ke=pt.extend({initialize:function(){this._model=je(this._options),this._lastActive=[]},getTitle:function(){var t=this._options.callbacks,e=t.beforeTitle.apply(this,arguments),n=t.title.apply(this,arguments),o=t.afterTitle.apply(this,arguments),r=[];return ze(r=ze(r=ze(r,Ve(e)),Ve(n)),Ve(o))},getBeforeBody:function(){return Ye(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var n=this,o=n._options.callbacks,r=[];return ut.each(t,function(t){var i={before:[],lines:[],after:[]};ze(i.before,Ve(o.beforeLabel.call(n,t,e))),ze(i.lines,o.label.call(n,t,e)),ze(i.after,Ve(o.afterLabel.call(n,t,e))),r.push(i)}),r},getAfterBody:function(){return Ye(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this._options.callbacks,e=t.beforeFooter.apply(this,arguments),n=t.footer.apply(this,arguments),o=t.afterFooter.apply(this,arguments),r=[];return ze(r=ze(r=ze(r,Ve(e)),Ve(n)),Ve(o))},update:function(t){var e,n,o,r,i,a,s,l,u,c,h=this,d=h._options,f=h._model,p=h._model=je(d),g=h._active,v=h._data,m={xAlign:f.xAlign,yAlign:f.yAlign},y={x:f.x,y:f.y},w={width:f.width,height:f.height},b={x:f.caretX,y:f.caretY};if(g.length){p.opacity=1;var C=[],k=[];b=Be[d.position].call(h,g,h._eventPosition);var S=[];for(e=0,n=g.length;e<n;++e)S.push((r=void 0,i=void 0,l=void 0,u=void 0,c=void 0,r=(o=g[e])._xScale,i=o._yScale||o._scale,a=o._index,s=o._datasetIndex,u=(l=o._chart.getDatasetMeta(s).controller)._getIndexScale(),c=l._getValueScale(),{xLabel:r?r.getLabelForIndex(a,s):"",yLabel:i?i.getLabelForIndex(a,s):"",label:u?""+u.getLabelForIndex(a,s):"",value:c?""+c.getLabelForIndex(a,s):"",index:a,datasetIndex:s,x:o._model.x,y:o._model.y}));d.filter&&(S=S.filter(function(t){return d.filter(t,v)})),d.itemSort&&(S=S.sort(function(t,e){return d.itemSort(t,e,v)})),ut.each(S,function(t){C.push(d.callbacks.labelColor.call(h,t,h._chart)),k.push(d.callbacks.labelTextColor.call(h,t,h._chart))}),p.title=h.getTitle(S,v),p.beforeBody=h.getBeforeBody(S,v),p.body=h.getBody(S,v),p.afterBody=h.getAfterBody(S,v),p.footer=h.getFooter(S,v),p.x=b.x,p.y=b.y,p.caretPadding=d.caretPadding,p.labelColors=C,p.labelTextColors=k,p.dataPoints=S,y=function(t,e,n,o){var r=t.x,i=t.y,a=t.caretSize,s=t.caretPadding,l=t.cornerRadius,u=n.xAlign,c=n.yAlign,h=a+s,d=l+s;return"right"===u?r-=e.width:"center"===u&&((r-=e.width/2)+e.width>o.width&&(r=o.width-e.width),r<0&&(r=0)),"top"===c?i+=h:i-="bottom"===c?e.height+h:e.height/2,"center"===c?"left"===u?r+=h:"right"===u&&(r-=h):"left"===u?r-=d:"right"===u&&(r+=d),{x:r,y:i}}(p,w=function(t,e){var n=t._chart.ctx,o=2*e.yPadding,r=0,i=e.body,a=i.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);a+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,u=e.titleFontSize,c=e.bodyFontSize,h=e.footerFontSize;o+=s*u,o+=s?(s-1)*e.titleSpacing:0,o+=s?e.titleMarginBottom:0,o+=a*c,o+=a?(a-1)*e.bodySpacing:0,o+=l?e.footerMarginTop:0,o+=l*h,o+=l?(l-1)*e.footerSpacing:0;var d=0,f=function(t){r=Math.max(r,n.measureText(t).width+d)};return n.font=ut.fontString(u,e._titleFontStyle,e._titleFontFamily),ut.each(e.title,f),n.font=ut.fontString(c,e._bodyFontStyle,e._bodyFontFamily),ut.each(e.beforeBody.concat(e.afterBody),f),d=e.displayColors?c+2:0,ut.each(i,function(t){ut.each(t.before,f),ut.each(t.lines,f),ut.each(t.after,f)}),d=0,n.font=ut.fontString(h,e._footerFontStyle,e._footerFontFamily),ut.each(e.footer,f),{width:r+=2*e.xPadding,height:o}}(this,p),m=function(t,e){var n,o,r,i,a,s=t._model,l=t._chart,u=t._chart.chartArea,c="center",h="center";s.y<e.height?h="top":s.y>l.height-e.height&&(h="bottom");var d=(u.left+u.right)/2,f=(u.top+u.bottom)/2;"center"===h?(n=function(t){return t<=d},o=function(t){return t>d}):(n=function(t){return t<=e.width/2},o=function(t){return t>=l.width-e.width/2}),r=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},i=function(t){return t-e.width-s.caretSize-s.caretPadding<0},a=function(t){return t<=f?"top":"bottom"},n(s.x)?(c="left",r(s.x)&&(c="center",h=a(s.y))):o(s.x)&&(c="right",i(s.x)&&(c="center",h=a(s.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:c,yAlign:p.yAlign?p.yAlign:h}}(this,w),h._chart)}else p.opacity=0;return p.xAlign=m.xAlign,p.yAlign=m.yAlign,p.x=y.x,p.y=y.y,p.width=w.width,p.height=w.height,p.caretX=b.x,p.caretY=b.y,h._model=p,t&&d.custom&&d.custom.call(h,p),h},drawCaret:function(t,e){var n=this._chart.ctx,o=this._view,r=this.getCaretPosition(t,e,o);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(t,e,n){var o,r,i,a,s,l,u=n.caretSize,c=n.cornerRadius,h=n.xAlign,d=n.yAlign,f=t.x,p=t.y,g=e.width,v=e.height;if("center"===d)s=p+v/2,"left"===h?(r=(o=f)-u,i=o,a=s+u,l=s-u):(r=(o=f+g)+u,i=o,a=s-u,l=s+u);else if("left"===h?(o=(r=f+c+u)-u,i=r+u):"right"===h?(o=(r=f+g-c-u)-u,i=r+u):(o=(r=n.caretX)-u,i=r+u),"top"===d)s=(a=p)-u,l=a;else{s=(a=p+v)+u,l=a;var m=i;i=o,o=m}return{x1:o,x2:r,x3:i,y1:a,y2:s,y3:l}},drawTitle:function(t,e,n){var o=e.title;if(o.length){t.x=Ue(e,e._titleAlign),n.textAlign=e._titleAlign,n.textBaseline="top";var r,i,a=e.titleFontSize,s=e.titleSpacing;for(n.fillStyle=e.titleFontColor,n.font=ut.fontString(a,e._titleFontStyle,e._titleFontFamily),r=0,i=o.length;r<i;++r)n.fillText(o[r],t.x,t.y),t.y+=a+s,r+1===o.length&&(t.y+=e.titleMarginBottom-s)}},drawBody:function(t,e,n){var o,r=e.bodyFontSize,i=e.bodySpacing,a=e._bodyAlign,s=e.body,l=e.displayColors,u=e.labelColors,c=0,h=l?Ue(e,"left"):0;n.textAlign=a,n.textBaseline="top",n.font=ut.fontString(r,e._bodyFontStyle,e._bodyFontFamily),t.x=Ue(e,a);var d=function(e){n.fillText(e,t.x+c,t.y),t.y+=r+i};n.fillStyle=e.bodyFontColor,ut.each(e.beforeBody,d),c=l&&"right"!==a?"center"===a?r/2+1:r+2:0,ut.each(s,function(i,a){o=e.labelTextColors[a],n.fillStyle=o,ut.each(i.before,d),ut.each(i.lines,function(i){l&&(n.fillStyle=e.legendColorBackground,n.fillRect(h,t.y,r,r),n.lineWidth=1,n.strokeStyle=u[a].borderColor,n.strokeRect(h,t.y,r,r),n.fillStyle=u[a].backgroundColor,n.fillRect(h+1,t.y+1,r-2,r-2),n.fillStyle=o),d(i)}),ut.each(i.after,d)}),c=0,ut.each(e.afterBody,d),t.y-=i},drawFooter:function(t,e,n){var o=e.footer;o.length&&(t.x=Ue(e,e._footerAlign),t.y+=e.footerMarginTop,n.textAlign=e._footerAlign,n.textBaseline="top",n.fillStyle=e.footerFontColor,n.font=ut.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),ut.each(o,function(o){n.fillText(o,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing}))},drawBackground:function(t,e,n,o){n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,n.lineWidth=e.borderWidth;var r=e.xAlign,i=e.yAlign,a=t.x,s=t.y,l=o.width,u=o.height,c=e.cornerRadius;n.beginPath(),n.moveTo(a+c,s),"top"===i&&this.drawCaret(t,o),n.lineTo(a+l-c,s),n.quadraticCurveTo(a+l,s,a+l,s+c),"center"===i&&"right"===r&&this.drawCaret(t,o),n.lineTo(a+l,s+u-c),n.quadraticCurveTo(a+l,s+u,a+l-c,s+u),"bottom"===i&&this.drawCaret(t,o),n.lineTo(a+c,s+u),n.quadraticCurveTo(a,s+u,a,s+u-c),"center"===i&&"left"===r&&this.drawCaret(t,o),n.lineTo(a,s+c),n.quadraticCurveTo(a,s,a+c,s),n.closePath(),n.fill(),e.borderWidth>0&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},o={x:e.x,y:e.y},r=Math.abs(e.opacity<.001)?0:e.opacity,i=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&i&&(t.save(),t.globalAlpha=r,this.drawBackground(o,e,t,n),o.y+=e.yPadding,this.drawTitle(o,e,t),this.drawBody(o,e,t),this.drawFooter(o,e,t),t.restore())}},handleEvent:function(t){var e,n=this,o=n._options;return n._lastActive=n._lastActive||[],"mouseout"===t.type?n._active=[]:n._active=n._chart.getElementsAtEventForMode(t,o.mode,o),(e=!ut.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(o.enabled||o.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0),n.pivot())),e}}),Ge=Be,Xe=Ke;Xe.positioners=Ge;var qe=ut.valueOrDefault;function Qe(){return ut.merge({},[].slice.call(arguments),{merger:function(t,e,n,o){if("xAxes"===t||"yAxes"===t){var r,i,a,s=n[t].length;for(e[t]||(e[t]=[]),r=0;r<s;++r)a=n[t][r],i=qe(a.type,"xAxes"===t?"category":"linear"),r>=e[t].length&&e[t].push({}),!e[t][r].type||a.type&&a.type!==e[t][r].type?ut.merge(e[t][r],[We.getScaleDefaults(i),a]):ut.merge(e[t][r],a)}else ut._merger(t,e,n,o)}})}function Je(){return ut.merge({},[].slice.call(arguments),{merger:function(t,e,n,o){var r=e[t]||{},i=n[t];"scales"===t?e[t]=Qe(r,i):"scale"===t?e[t]=ut.merge(r,[We.getScaleDefaults(i.type),i]):ut._merger(t,e,n,o)}})}function $e(t){return"top"===t||"bottom"===t}st._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Ze=function(t,e){return this.construct(t,e),this};ut.extend(Ze.prototype,{construct:function(t,e){var n=this;e=function(t){var e=(t=t||{}).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=Je(st.global,st[t.type],t.options||{}),t}(e);var o=Ne.acquireContext(t,e),r=o&&o.canvas,i=r&&r.height,a=r&&r.width;n.id=ut.uid(),n.ctx=o,n.canvas=r,n.config=e,n.width=a,n.height=i,n.aspectRatio=i?a/i:null,n.options=e.options,n._bufferedRender=!1,n.chart=n,n.controller=n,Ze.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(t){n.config.data=t}}),o&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return Ie.notify(t,"beforeInit"),ut.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),Ie.notify(t,"afterInit"),t},clear:function(){return ut.canvas.clear(this),this},stop:function(){return mt.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,o=e.canvas,r=n.maintainAspectRatio&&e.aspectRatio||null,i=Math.max(0,Math.floor(ut.getMaximumWidth(o))),a=Math.max(0,Math.floor(r?i/r:ut.getMaximumHeight(o)));if((e.width!==i||e.height!==a)&&(o.width=e.width=i,o.height=e.height=a,o.style.width=i+"px",o.style.height=a+"px",ut.retinaScale(e,n.devicePixelRatio),!t)){var s={width:i,height:a};Ie.notify(e,"resize",[s]),n.onResize&&n.onResize(e,s),e.stop(),e.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;ut.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),ut.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,n=t.scales||{},o=[],r=Object.keys(n).reduce(function(t,e){return t[e]=!1,t},{});e.scales&&(o=o.concat((e.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),e.scale&&o.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),ut.each(o,function(e){var o=e.options,i=o.id,a=qe(o.type,e.dtype);$e(o.position)!==$e(e.dposition)&&(o.position=e.dposition),r[i]=!0;var s=null;if(i in n&&n[i].type===a)(s=n[i]).options=o,s.ctx=t.ctx,s.chart=t;else{var l=We.getScaleConstructor(a);if(!l)return;s=new l({id:i,type:a,options:o,ctx:t.ctx,chart:t}),n[s.id]=s}s.mergeTicksOptions(),e.isDefault&&(t.scale=s)}),ut.each(r,function(t,e){t||delete n[e]}),t.scales=n,We.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,e=[];return ut.each(t.data.datasets,function(n,o){var r=t.getDatasetMeta(o),i=n.type||t.config.type;if(r.type&&r.type!==i&&(t.destroyDatasetMeta(o),r=t.getDatasetMeta(o)),r.type=i,r.controller)r.controller.updateIndex(o),r.controller.linkScales();else{var a=le[r.type];if(void 0===a)throw new Error('"'+r.type+'" is not a chart type.');r.controller=new a(t,o),e.push(r.controller)}},t),e},resetElements:function(){var t=this;ut.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,n,o=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),n=(e=o).options,ut.each(e.scales,function(t){be.removeBox(e,t)}),n=Je(st.global,st[e.config.type],n),e.options=e.config.options=n,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=n.tooltips,e.tooltip.initialize(),Ie._invalidate(o),!1!==Ie.notify(o,"beforeUpdate")){o.tooltip._data=o.data;var r=o.buildOrUpdateControllers();ut.each(o.data.datasets,function(t,e){o.getDatasetMeta(e).controller.buildOrUpdateElements()},o),o.updateLayout(),o.options.animation&&o.options.animation.duration&&ut.each(r,function(t){t.reset()}),o.updateDatasets(),o.tooltip.initialize(),o.lastActive=[],Ie.notify(o,"afterUpdate"),o._bufferedRender?o._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:o.render(t)}},updateLayout:function(){!1!==Ie.notify(this,"beforeLayout")&&(be.update(this,this.width,this.height),Ie.notify(this,"afterScaleUpdate"),Ie.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==Ie.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);Ie.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),n={meta:e,index:t};!1!==Ie.notify(this,"beforeDatasetUpdate",[n])&&(e.controller.update(),Ie.notify(this,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var n=e.options.animation,o=qe(t.duration,n&&n.duration),r=t.lazy;if(!1!==Ie.notify(e,"beforeRender")){var i=function(t){Ie.notify(e,"afterRender"),ut.callback(n&&n.onComplete,[t],e)};if(n&&o){var a=new vt({numSteps:o/16.66,easing:t.easing||n.easing,render:function(t,e){var n=ut.easing.effects[e.easing],o=e.currentStep,r=o/e.numSteps;t.draw(n(r),r,o)},onAnimationProgress:n.onProgress,onAnimationComplete:i});mt.addAnimation(e,a,o,r)}else e.draw(),i(new vt({numSteps:0,chart:e}));return e}},draw:function(t){var e=this;e.clear(),ut.isNullOrUndef(t)&&(t=1),e.transition(t),e.width<=0||e.height<=0||!1!==Ie.notify(e,"beforeDraw",[t])&&(ut.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.drawDatasets(t),e._drawTooltip(t),Ie.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=0,n=(this.data.datasets||[]).length;e<n;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(!1!==Ie.notify(e,"beforeDatasetsDraw",[t])){for(var n=(e.data.datasets||[]).length-1;n>=0;--n)e.isDatasetVisible(n)&&e.drawDataset(n,t);Ie.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n=this.getDatasetMeta(t),o={meta:n,index:t,easingValue:e};!1!==Ie.notify(this,"beforeDatasetDraw",[o])&&(n.controller.draw(e),Ie.notify(this,"afterDatasetDraw",[o]))},_drawTooltip:function(t){var e=this.tooltip,n={tooltip:e,easingValue:t};!1!==Ie.notify(this,"beforeTooltipDraw",[n])&&(e.draw(),Ie.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return ge.modes.single(this,t)},getElementsAtEvent:function(t){return ge.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return ge.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var o=ge.modes[e];return"function"==typeof o?o(this,t,n):[]},getDatasetAtEvent:function(t){return ge.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],o=n._meta&&n._meta[e];o&&(o.controller.destroy(),delete n._meta[e])},destroy:function(){var t,e,n=this,o=n.canvas;for(n.stop(),t=0,e=n.data.datasets.length;t<e;++t)n.destroyDatasetMeta(t);o&&(n.unbindEvents(),ut.canvas.clear(n),Ne.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Ie.notify(n,"destroy"),delete Ze.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Xe({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};ut.each(t.options.events,function(o){Ne.addEventListener(t,o,n),e[o]=n}),t.options.responsive&&(n=function(){t.resize()},Ne.addEventListener(t,"resize",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,ut.each(e,function(e,n){Ne.removeEventListener(t,n,e)}))},updateHoverStyle:function(t,e,n){var o,r,i,a=n?"setHoverStyle":"removeHoverStyle";for(r=0,i=t.length;r<i;++r)(o=t[r])&&this.getDatasetMeta(o._datasetIndex).controller[a](o)},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==Ie.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var o=e.handleEvent(t);n&&(o=n._start?n.handleEvent(t):o|n.handleEvent(t)),Ie.notify(e,"afterEvent",[t]);var r=e._bufferedRequest;return r?e.render(r):o&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,n=this,o=n.options||{},r=o.hover;return n.lastActive=n.lastActive||[],"mouseout"===t.type?n.active=[]:n.active=n.getElementsAtEventForMode(t,r.mode,r),ut.callback(o.onHover||o.hover.onHover,[t.native,n.active],n),"mouseup"!==t.type&&"click"!==t.type||o.onClick&&o.onClick.call(n,t.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),e=!ut.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,e}}),Ze.instances={};var tn=Ze;function en(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function nn(t){this.options=t||{}}Ze.Controller=Ze,Ze.types={},ut.configMerge=Je,ut.scaleMerge=Qe,ut.extend(nn.prototype,{formats:en,parse:en,format:en,add:en,diff:en,startOf:en,endOf:en,_create:function(t){return t}}),nn.override=function(t){ut.extend(nn.prototype,t)};var on={_date:nn},rn={formatters:{values:function(t){return ut.isArray(t)?t:""+t},linear:function(t,e,n){var o=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(o)>1&&t!==Math.floor(t)&&(o=t-Math.floor(t));var r=ut.log10(Math.abs(o)),i="";if(0!==t)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var a=ut.log10(Math.abs(t));i=t.toExponential(Math.floor(a)-Math.floor(r))}else{var s=-1*Math.floor(r);s=Math.max(Math.min(s,20),0),i=t.toFixed(s)}else i="0";return i},logarithmic:function(t,e,n){var o=t/Math.pow(10,Math.floor(ut.log10(t)));return 0===t?"0":1===o||2===o||5===o||0===e||e===n.length-1?t.toExponential():""}}},an=ut.valueOrDefault,sn=ut.valueAtIndexOrDefault;function ln(t){var e,n,o=[];for(e=0,n=t.length;e<n;++e)o.push(t[e].label);return o}function un(t,e,n){return ut.isArray(e)?ut.longestText(t,n,e):t.measureText(e).width}st._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:rn.formatters.values,minor:{},major:{}}});var cn=pt.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;for(var e in!1===t.minor&&(t.minor={display:!1}),!1===t.major&&(t.major={display:!1}),t)"major"!==e&&"minor"!==e&&(void 0===t.minor[e]&&(t.minor[e]=t[e]),void 0===t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){ut.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var o,r,i,a,s,l,u=this;for(u.beforeUpdate(),u.maxWidth=t,u.maxHeight=e,u.margins=ut.extend({left:0,right:0,top:0,bottom:0},n),u._maxLabelLines=0,u.longestLabelWidth=0,u.longestTextCache=u.longestTextCache||{},u.beforeSetDimensions(),u.setDimensions(),u.afterSetDimensions(),u.beforeDataLimits(),u.determineDataLimits(),u.afterDataLimits(),u.beforeBuildTicks(),s=u.buildTicks()||[],s=u.afterBuildTicks(s)||s,u.beforeTickToLabelConversion(),i=u.convertTicksToLabels(s)||u.ticks,u.afterTickToLabelConversion(),u.ticks=i,o=0,r=i.length;o<r;++o)a=i[o],(l=s[o])?l.label=a:s.push(l={label:a,major:!1});return u._ticks=s,u.beforeCalculateTickRotation(),u.calculateTickRotation(),u.afterCalculateTickRotation(),u.beforeFit(),u.fit(),u.afterFit(),u.afterUpdate(),u.minSize},afterUpdate:function(){ut.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){ut.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){ut.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){ut.callback(this.options.beforeDataLimits,[this])},determineDataLimits:ut.noop,afterDataLimits:function(){ut.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){ut.callback(this.options.beforeBuildTicks,[this])},buildTicks:ut.noop,afterBuildTicks:function(t){var e=this;return ut.isArray(t)&&t.length?ut.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=ut.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){ut.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){ut.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){ut.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,n=t.options.ticks,o=ln(t._ticks),r=ut.options._parseFont(n);e.font=r.string;var i=n.minRotation||0;if(o.length&&t.options.display&&t.isHorizontal())for(var a,s=ut.longestText(e,r.string,o,t.longestTextCache),l=s,u=t.getPixelForTick(1)-t.getPixelForTick(0)-6;l>u&&i<n.maxRotation;){var c=ut.toRadians(i);if(a=Math.cos(c),Math.sin(c)*s>t.maxHeight){i--;break}i++,l=a*s}t.labelRotation=i},afterCalculateTickRotation:function(){ut.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){ut.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=ln(t._ticks),o=t.options,r=o.ticks,i=o.scaleLabel,a=o.gridLines,s=t._isVisible(),l=o.position,u=t.isHorizontal(),c=ut.options._parseFont,h=c(r),d=o.gridLines.tickMarkLength;if(e.width=u?t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:s&&a.drawTicks?d:0,e.height=u?s&&a.drawTicks?d:0:t.maxHeight,i.display&&s){var f=c(i),p=ut.options.toPadding(i.padding),g=f.lineHeight+p.height;u?e.height+=g:e.width+=g}if(r.display&&s){var v=ut.longestText(t.ctx,h.string,n,t.longestTextCache),m=ut.numberOfLabelLines(n),y=.5*h.size,w=t.options.ticks.padding;if(t._maxLabelLines=m,t.longestLabelWidth=v,u){var b=ut.toRadians(t.labelRotation),C=Math.cos(b),k=Math.sin(b)*v+h.lineHeight*m+y;e.height=Math.min(t.maxHeight,e.height+k+w),t.ctx.font=h.string;var S,x,T=un(t.ctx,n[0],h.string),O=un(t.ctx,n[n.length-1],h.string),R=t.getPixelForTick(0)-t.left,E=t.right-t.getPixelForTick(n.length-1);0!==t.labelRotation?(S="bottom"===l?C*T:C*y,x="bottom"===l?C*y:C*O):(S=T/2,x=O/2),t.paddingLeft=Math.max(S-R,0)+3,t.paddingRight=Math.max(x-E,0)+3}else r.mirror?v=0:v+=w+y,e.width=Math.min(t.maxWidth,e.width+v),t.paddingTop=h.size/2,t.paddingBottom=h.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){ut.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(ut.isNullOrUndef(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:ut.noop,getPixelForValue:ut.noop,getValueForPixel:ut.noop,getPixelForTick:function(t){var e=this,n=e.options.offset;if(e.isHorizontal()){var o=(e.width-(e.paddingLeft+e.paddingRight))/Math.max(e._ticks.length-(n?0:1),1),r=o*t+e.paddingLeft;return n&&(r+=o/2),e.left+r+(e.isFullWidth()?e.margins.left:0)}var i=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(i/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var n=(e.width-(e.paddingLeft+e.paddingRight))*t+e.paddingLeft;return e.left+n+(e.isFullWidth()?e.margins.left:0)}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0},_autoSkip:function(t){var e,n,o=this,r=o.isHorizontal(),i=o.options.ticks.minor,a=t.length,s=!1,l=i.maxTicksLimit,u=o._tickSize()*(a-1),c=r?o.width-(o.paddingLeft+o.paddingRight):o.height-(o.paddingTop+o.PaddingBottom),h=[];for(u>c&&(s=1+Math.floor(u/c)),a>l&&(s=Math.max(s,1+Math.floor(a/l))),e=0;e<a;e++)n=t[e],s>1&&e%s>0&&delete n.label,h.push(n);return h},_tickSize:function(){var t=this,e=t.isHorizontal(),n=t.options.ticks.minor,o=ut.toRadians(t.labelRotation),r=Math.abs(Math.cos(o)),i=Math.abs(Math.sin(o)),a=n.autoSkipPadding||0,s=t.longestLabelWidth+a||0,l=ut.options._parseFont(n),u=t._maxLabelLines*l.lineHeight+a||0;return e?u*r>s*i?s/r:u/i:u*i<s*r?u/r:s/i},_isVisible:function(){var t,e,n,o=this.chart,r=this.options.display;if("auto"!==r)return!!r;for(t=0,e=o.data.datasets.length;t<e;++t)if(o.isDatasetVisible(t)&&((n=o.getDatasetMeta(t)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},draw:function(t){var e=this,n=e.options;if(e._isVisible()){var o,r,i,a=e.chart,s=e.ctx,l=st.global.defaultFontColor,u=n.ticks.minor,c=n.ticks.major||u,h=n.gridLines,d=n.scaleLabel,f=n.position,p=0!==e.labelRotation,g=u.mirror,v=e.isHorizontal(),m=ut.options._parseFont,y=u.display&&u.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),w=an(u.fontColor,l),b=m(u),C=b.lineHeight,k=an(c.fontColor,l),S=m(c),x=u.padding,T=u.labelOffset,O=h.drawTicks?h.tickMarkLength:0,R=an(d.fontColor,l),E=m(d),M=ut.options.toPadding(d.padding),_=ut.toRadians(e.labelRotation),A=[],P=h.drawBorder?sn(h.lineWidth,0,0):0,H=ut._alignPixel;if("top"===f?(o=H(a,e.bottom,P),r=e.bottom-O,i=o-P/2):"bottom"===f?(o=H(a,e.top,P),r=o+P/2,i=e.top+O):"left"===f?(o=H(a,e.right,P),r=e.right-O,i=o-P/2):(o=H(a,e.left,P),r=o+P/2,i=e.left+O),ut.each(y,function(o,s){if(!ut.isNullOrUndef(o.label)){var l,u,c,d,m,y,w,b,k,S,R,E,M,L,D,N,I=o.label;s===e.zeroLineIndex&&n.offset===h.offsetGridLines?(l=h.zeroLineWidth,u=h.zeroLineColor,c=h.zeroLineBorderDash||[],d=h.zeroLineBorderDashOffset||0):(l=sn(h.lineWidth,s),u=sn(h.color,s),c=h.borderDash||[],d=h.borderDashOffset||0);var W=ut.isArray(I)?I.length:1,F=function(t,e,n){var o=t.getPixelForTick(e);return n&&(1===t.getTicks().length?o-=t.isHorizontal()?Math.max(o-t.left,t.right-o):Math.max(o-t.top,t.bottom-o):o-=0===e?(t.getPixelForTick(1)-o)/2:(o-t.getPixelForTick(e-1))/2),o}(e,s,h.offsetGridLines);if(v){var B=O+x;F<e.left-1e-7&&(u="rgba(0,0,0,0)"),m=w=k=R=H(a,F,l),y=r,b=i,M=e.getPixelForTick(s)+T,"top"===f?(S=H(a,t.top,P)+P/2,E=t.bottom,D=((p?1:.5)-W)*C,N=p?"left":"center",L=e.bottom-B):(S=t.top,E=H(a,t.bottom,P)-P/2,D=(p?0:.5)*C,N=p?"right":"center",L=e.top+B)}else{var z=(g?0:O)+x;F<e.top-1e-7&&(u="rgba(0,0,0,0)"),m=r,w=i,y=b=S=E=H(a,F,l),L=e.getPixelForTick(s)+T,D=(1-W)*C/2,"left"===f?(k=H(a,t.left,P)+P/2,R=t.right,N=g?"left":"right",M=e.right-z):(k=t.left,R=H(a,t.right,P)-P/2,N=g?"right":"left",M=e.left+z)}A.push({tx1:m,ty1:y,tx2:w,ty2:b,x1:k,y1:S,x2:R,y2:E,labelX:M,labelY:L,glWidth:l,glColor:u,glBorderDash:c,glBorderDashOffset:d,rotation:-1*_,label:I,major:o.major,textOffset:D,textAlign:N})}}),ut.each(A,function(t){var e=t.glWidth,n=t.glColor;if(h.display&&e&&n&&(s.save(),s.lineWidth=e,s.strokeStyle=n,s.setLineDash&&(s.setLineDash(t.glBorderDash),s.lineDashOffset=t.glBorderDashOffset),s.beginPath(),h.drawTicks&&(s.moveTo(t.tx1,t.ty1),s.lineTo(t.tx2,t.ty2)),h.drawOnChartArea&&(s.moveTo(t.x1,t.y1),s.lineTo(t.x2,t.y2)),s.stroke(),s.restore()),u.display){s.save(),s.translate(t.labelX,t.labelY),s.rotate(t.rotation),s.font=t.major?S.string:b.string,s.fillStyle=t.major?k:w,s.textBaseline="middle",s.textAlign=t.textAlign;var o=t.label,r=t.textOffset;if(ut.isArray(o))for(var i=0;i<o.length;++i)s.fillText(""+o[i],0,r),r+=C;else s.fillText(o,0,r);s.restore()}}),d.display){var L,D,N=0,I=E.lineHeight/2;if(v)L=e.left+(e.right-e.left)/2,D="bottom"===f?e.bottom-I-M.bottom:e.top+I+M.top;else{var W="left"===f;L=W?e.left+I+M.top:e.right-I-M.top,D=e.top+(e.bottom-e.top)/2,N=W?-.5*Math.PI:.5*Math.PI}s.save(),s.translate(L,D),s.rotate(N),s.textAlign="center",s.textBaseline="middle",s.fillStyle=R,s.font=E.string,s.fillText(d.labelString,0,0),s.restore()}if(P){var F,B,z,V,j=P,U=sn(h.lineWidth,y.length-1,0);v?(F=H(a,e.left,j)-j/2,B=H(a,e.right,U)+U/2,z=V=o):(z=H(a,e.top,j)-j/2,V=H(a,e.bottom,U)+U/2,F=B=o),s.lineWidth=P,s.strokeStyle=sn(h.color,0),s.beginPath(),s.moveTo(F,z),s.lineTo(B,V),s.stroke()}}}}),hn=cn.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t,e=this,n=e.getLabels();e.minIndex=0,e.maxIndex=n.length-1,void 0!==e.options.ticks.min&&(t=n.indexOf(e.options.ticks.min),e.minIndex=-1!==t?t:e.minIndex),void 0!==e.options.ticks.max&&(t=n.indexOf(e.options.ticks.max),e.maxIndex=-1!==t?t:e.maxIndex),e.min=n[e.minIndex],e.max=n[e.maxIndex]},buildTicks:function(){var t=this,e=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===e.length-1?e:e.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,e){var n=this,o=n.chart;return o.getDatasetMeta(e).controller._getValueScaleId()===n.id?n.getRightValue(o.data.datasets[e].data[t]):n.ticks[t-n.minIndex]},getPixelForValue:function(t,e){var n,o=this,r=o.options.offset,i=Math.max(o.maxIndex+1-o.minIndex-(r?0:1),1);if(null!=t&&(n=o.isHorizontal()?t.x:t.y),void 0!==n||void 0!==t&&isNaN(e)){t=n||t;var a=o.getLabels().indexOf(t);e=-1!==a?a:e}if(o.isHorizontal()){var s=o.width/i,l=s*(e-o.minIndex);return r&&(l+=s/2),o.left+l}var u=o.height/i,c=u*(e-o.minIndex);return r&&(c+=u/2),o.top+c},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var e=this,n=e.options.offset,o=Math.max(e._ticks.length-(n?0:1),1),r=e.isHorizontal(),i=(r?e.width:e.height)/o;return t-=r?e.left:e.top,n&&(t-=i/2),(t<=0?0:Math.round(t/i))+e.minIndex},getBasePixel:function(){return this.bottom}});hn._defaults={position:"bottom"};var dn=ut.noop,fn=ut.isNullOrUndef,pn=cn.extend({getRightValue:function(t){return"string"==typeof t?+t:cn.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=ut.sign(t.min),o=ut.sign(t.max);n<0&&o<0?t.max=0:n>0&&o>0&&(t.min=0)}var r=void 0!==e.min||void 0!==e.suggestedMin,i=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(null===t.min?t.min=e.suggestedMin:t.min=Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(null===t.max?t.max=e.suggestedMax:t.max=Math.max(t.max,e.suggestedMax)),r!==i&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this.options.ticks,n=e.stepSize,o=e.maxTicksLimit;return n?t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(t=this._computeTickLimit(),o=o||11),o&&(t=Math.min(o,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:dn,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),o={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,precision:e.precision,stepSize:ut.valueOrDefault(e.fixedStepSize,e.stepSize)},r=t.ticks=function(t,e){var n,o,r,i,a=[],s=t.stepSize,l=s||1,u=t.maxTicks-1,c=t.min,h=t.max,d=t.precision,f=e.min,p=e.max,g=ut.niceNum((p-f)/u/l)*l;if(g<1e-14&&fn(c)&&fn(h))return[f,p];(i=Math.ceil(p/g)-Math.floor(f/g))>u&&(g=ut.niceNum(i*g/u/l)*l),s||fn(d)?n=Math.pow(10,ut._decimalPlaces(g)):(n=Math.pow(10,d),g=Math.ceil(g*n)/n),o=Math.floor(f/g)*g,r=Math.ceil(p/g)*g,s&&(!fn(c)&&ut.almostWhole(c/g,g/1e3)&&(o=c),!fn(h)&&ut.almostWhole(h/g,g/1e3)&&(r=h)),i=(r-o)/g,i=ut.almostEquals(i,Math.round(i),g/1e3)?Math.round(i):Math.ceil(i),o=Math.round(o*n)/n,r=Math.round(r*n)/n,a.push(fn(c)?o:c);for(var v=1;v<i;++v)a.push(Math.round((o+v*g)*n)/n);return a.push(fn(h)?r:h),a}(o,t);t.handleDirectionalChanges(),t.max=ut.max(r),t.min=ut.min(r),e.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),cn.prototype.convertTicksToLabels.call(t)}}),gn={position:"left",ticks:{callback:rn.formatters.linear}},vn=pn.extend({determineDataLimits:function(){var t=this,e=t.options,n=t.chart,o=n.data.datasets,r=t.isHorizontal();function i(e){return r?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null;var a=e.stacked;if(void 0===a&&ut.each(o,function(t,e){if(!a){var o=n.getDatasetMeta(e);n.isDatasetVisible(e)&&i(o)&&void 0!==o.stack&&(a=!0)}}),e.stacked||a){var s={};ut.each(o,function(o,r){var a=n.getDatasetMeta(r),l=[a.type,void 0===e.stacked&&void 0===a.stack?r:"",a.stack].join(".");void 0===s[l]&&(s[l]={positiveValues:[],negativeValues:[]});var u=s[l].positiveValues,c=s[l].negativeValues;n.isDatasetVisible(r)&&i(a)&&ut.each(o.data,function(n,o){var r=+t.getRightValue(n);isNaN(r)||a.data[o].hidden||(u[o]=u[o]||0,c[o]=c[o]||0,e.relativePoints?u[o]=100:r<0?c[o]+=r:u[o]+=r)})}),ut.each(s,function(e){var n=e.positiveValues.concat(e.negativeValues),o=ut.min(n),r=ut.max(n);t.min=null===t.min?o:Math.min(t.min,o),t.max=null===t.max?r:Math.max(t.max,r)})}else ut.each(o,function(e,o){var r=n.getDatasetMeta(o);n.isDatasetVisible(o)&&i(r)&&ut.each(e.data,function(e,n){var o=+t.getRightValue(e);isNaN(o)||r.data[n].hidden||(null===t.min?t.min=o:o<t.min&&(t.min=o),null===t.max?t.max=o:o>t.max&&(t.max=o))})});t.min=isFinite(t.min)&&!isNaN(t.min)?t.min:0,t.max=isFinite(t.max)&&!isNaN(t.max)?t.max:1,this.handleTickRangeOptions()},_computeTickLimit:function(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=ut.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this,n=e.start,o=+e.getRightValue(t),r=e.end-n;return e.isHorizontal()?e.left+e.width/r*(o-n):e.bottom-e.height/r*(o-n)},getValueForPixel:function(t){var e=this,n=e.isHorizontal(),o=n?e.width:e.height,r=(n?t-e.left:e.bottom-t)/o;return e.start+(e.end-e.start)*r},getPixelForTick:function(t){return this.getPixelForValue(this.ticksAsNumbers[t])}}),mn=gn;vn._defaults=mn;var yn=ut.valueOrDefault,wn={position:"left",ticks:{callback:rn.formatters.logarithmic}};function bn(t,e){return ut.isFinite(t)&&t>=0?t:e}var Cn=cn.extend({determineDataLimits:function(){var t=this,e=t.options,n=t.chart,o=n.data.datasets,r=t.isHorizontal();function i(e){return r?e.xAxisID===t.id:e.yAxisID===t.id}t.min=null,t.max=null,t.minNotZero=null;var a=e.stacked;if(void 0===a&&ut.each(o,function(t,e){if(!a){var o=n.getDatasetMeta(e);n.isDatasetVisible(e)&&i(o)&&void 0!==o.stack&&(a=!0)}}),e.stacked||a){var s={};ut.each(o,function(o,r){var a=n.getDatasetMeta(r),l=[a.type,void 0===e.stacked&&void 0===a.stack?r:"",a.stack].join(".");n.isDatasetVisible(r)&&i(a)&&(void 0===s[l]&&(s[l]=[]),ut.each(o.data,function(e,n){var o=s[l],r=+t.getRightValue(e);isNaN(r)||a.data[n].hidden||r<0||(o[n]=o[n]||0,o[n]+=r)}))}),ut.each(s,function(e){if(e.length>0){var n=ut.min(e),o=ut.max(e);t.min=null===t.min?n:Math.min(t.min,n),t.max=null===t.max?o:Math.max(t.max,o)}})}else ut.each(o,function(e,o){var r=n.getDatasetMeta(o);n.isDatasetVisible(o)&&i(r)&&ut.each(e.data,function(e,n){var o=+t.getRightValue(e);isNaN(o)||r.data[n].hidden||o<0||(null===t.min?t.min=o:o<t.min&&(t.min=o),null===t.max?t.max=o:o>t.max&&(t.max=o),0!==o&&(null===t.minNotZero||o<t.minNotZero)&&(t.minNotZero=o))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;t.min=bn(e.min,t.min),t.max=bn(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(ut.log10(t.min))-1),t.max=Math.pow(10,Math.floor(ut.log10(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(ut.log10(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(ut.log10(t.min))+1):10),null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(ut.log10(t.max))):t.minNotZero=1)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),o={min:bn(e.min),max:bn(e.max)},r=t.ticks=function(t,e){var n,o,r=[],i=yn(t.min,Math.pow(10,Math.floor(ut.log10(e.min)))),a=Math.floor(ut.log10(e.max)),s=Math.ceil(e.max/Math.pow(10,a));0===i?(n=Math.floor(ut.log10(e.minNotZero)),o=Math.floor(e.minNotZero/Math.pow(10,n)),r.push(i),i=o*Math.pow(10,n)):(n=Math.floor(ut.log10(i)),o=Math.floor(i/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do{r.push(i),10==++o&&(o=1,l=++n>=0?1:l),i=Math.round(o*Math.pow(10,n)*l)/l}while(n<a||n===a&&o<s);var u=yn(t.max,i);return r.push(u),r}(o,t);t.max=ut.max(r),t.min=ut.min(r),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),cn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){return this.getPixelForValue(this.tickValues[t])},_getFirstTickValue:function(t){var e=Math.floor(ut.log10(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},getPixelForValue:function(t){var e,n,o,r,i,a=this,s=a.options.ticks,l=s.reverse,u=ut.log10,c=a._getFirstTickValue(a.minNotZero),h=0;return t=+a.getRightValue(t),l?(o=a.end,r=a.start,i=-1):(o=a.start,r=a.end,i=1),a.isHorizontal()?(e=a.width,n=l?a.right:a.left):(e=a.height,i*=-1,n=l?a.top:a.bottom),t!==o&&(0===o&&(e-=h=yn(s.fontSize,st.global.defaultFontSize),o=c),0!==t&&(h+=e/(u(r)-u(o))*(u(t)-u(o))),n+=i*h),n},getValueForPixel:function(t){var e,n,o,r,i=this,a=i.options.ticks,s=a.reverse,l=ut.log10,u=i._getFirstTickValue(i.minNotZero);if(s?(n=i.end,o=i.start):(n=i.start,o=i.end),i.isHorizontal()?(e=i.width,r=s?i.right-t:t-i.left):(e=i.height,r=s?t-i.top:i.bottom-t),r!==n){if(0===n){var c=yn(a.fontSize,st.global.defaultFontSize);r-=c,e-=c,n=u}r*=l(o)-l(n),r/=e,r=Math.pow(10,l(n)+r)}return r}}),kn=wn;Cn._defaults=kn;var Sn=ut.valueOrDefault,xn=ut.valueAtIndexOrDefault,Tn=ut.options.resolve,On={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:rn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function Rn(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function En(t){var e=t.ticks;return e.display&&t.display?Sn(e.fontSize,st.global.defaultFontSize)+2*e.backdropPaddingY:0}function Mn(t,e,n,o,r){return t===o||t===r?{start:e-n/2,end:e+n/2}:t<o||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function _n(t){return 0===t||180===t?"center":t<180?"left":"right"}function An(t,e,n,o){var r,i,a=n.y+o/2;if(ut.isArray(e))for(r=0,i=e.length;r<i;++r)t.fillText(e[r],n.x,a),a+=o;else t.fillText(e,n.x,a)}function Pn(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function Hn(t){return ut.isNumber(t)?t:0}var Ln=pn.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=En(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY;ut.each(e.data.datasets,function(r,i){if(e.isDatasetVisible(i)){var a=e.getDatasetMeta(i);ut.each(r.data,function(e,r){var i=+t.getRightValue(e);isNaN(i)||a.data[r].hidden||(n=Math.min(i,n),o=Math.max(i,o))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=o===Number.NEGATIVE_INFINITY?0:o,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/En(this.options))},convertTicksToLabels:function(){var t=this;pn.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this.options;t.display&&t.pointLabels.display?function(t){var e,n,o,r=ut.options._parseFont(t.options.pointLabels),i={l:0,r:t.width,t:0,b:t.height-t.paddingTop},a={};t.ctx.font=r.string,t._pointLabelSizes=[];var s,l,u,c=Rn(t);for(e=0;e<c;e++){o=t.getPointPosition(e,t.drawingArea+5),s=t.ctx,l=r.lineHeight,u=t.pointLabels[e]||"",n=ut.isArray(u)?{w:ut.longestText(s,s.font,u),h:u.length*l}:{w:s.measureText(u).width,h:l},t._pointLabelSizes[e]=n;var h=t.getIndexAngle(e),d=ut.toDegrees(h)%360,f=Mn(d,o.x,n.w,0,180),p=Mn(d,o.y,n.h,90,270);f.start<i.l&&(i.l=f.start,a.l=h),f.end>i.r&&(i.r=f.end,a.r=h),p.start<i.t&&(i.t=p.start,a.t=h),p.end>i.b&&(i.b=p.end,a.b=h)}t.setReductions(t.drawingArea,i,a)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(t,e,n){var o=this,r=e.l/Math.sin(n.l),i=Math.max(e.r-o.width,0)/Math.sin(n.r),a=-e.t/Math.cos(n.t),s=-Math.max(e.b-(o.height-o.paddingTop),0)/Math.cos(n.b);r=Hn(r),i=Hn(i),a=Hn(a),s=Hn(s),o.drawingArea=Math.min(Math.floor(t-(r+i)/2),Math.floor(t-(a+s)/2)),o.setCenterPoint(r,i,a,s)},setCenterPoint:function(t,e,n,o){var r=this,i=r.width-e-r.drawingArea,a=t+r.drawingArea,s=n+r.drawingArea,l=r.height-r.paddingTop-o-r.drawingArea;r.xCenter=Math.floor((a+i)/2+r.left),r.yCenter=Math.floor((s+l)/2+r.top+r.paddingTop)},getIndexAngle:function(t){return t*(2*Math.PI/Rn(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this.min,e=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0)},draw:function(){var t=this,e=t.options,n=e.gridLines,o=e.ticks;if(e.display){var r=t.ctx,i=this.getIndexAngle(0),a=ut.options._parseFont(o);(e.angleLines.display||e.pointLabels.display)&&function(t){var e=t.ctx,n=t.options,o=n.angleLines,r=n.gridLines,i=n.pointLabels,a=Sn(o.lineWidth,r.lineWidth),s=Sn(o.color,r.color),l=En(n);e.save(),e.lineWidth=a,e.strokeStyle=s,e.setLineDash&&(e.setLineDash(Tn([o.borderDash,r.borderDash,[]])),e.lineDashOffset=Tn([o.borderDashOffset,r.borderDashOffset,0]));var u=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),c=ut.options._parseFont(i);e.font=c.string,e.textBaseline="middle";for(var h=Rn(t)-1;h>=0;h--){if(o.display&&a&&s){var d=t.getPointPosition(h,u);e.beginPath(),e.moveTo(t.xCenter,t.yCenter),e.lineTo(d.x,d.y),e.stroke()}if(i.display){var f=0===h?l/2:0,p=t.getPointPosition(h,u+f+5),g=xn(i.fontColor,h,st.global.defaultFontColor);e.fillStyle=g;var v=t.getIndexAngle(h),m=ut.toDegrees(v);e.textAlign=_n(m),Pn(m,t._pointLabelSizes[h],p),An(e,t.pointLabels[h]||"",p,c.lineHeight)}}e.restore()}(t),ut.each(t.ticks,function(e,s){if(s>0||o.reverse){var l=t.getDistanceFromCenterForValue(t.ticksAsNumbers[s]);if(n.display&&0!==s&&function(t,e,n,o){var r,i=t.ctx,a=e.circular,s=Rn(t),l=xn(e.color,o-1),u=xn(e.lineWidth,o-1);if((a||s)&&l&&u){if(i.save(),i.strokeStyle=l,i.lineWidth=u,i.setLineDash&&(i.setLineDash(e.borderDash||[]),i.lineDashOffset=e.borderDashOffset||0),i.beginPath(),a)i.arc(t.xCenter,t.yCenter,n,0,2*Math.PI);else{r=t.getPointPosition(0,n),i.moveTo(r.x,r.y);for(var c=1;c<s;c++)r=t.getPointPosition(c,n),i.lineTo(r.x,r.y)}i.closePath(),i.stroke(),i.restore()}}(t,n,l,s),o.display){var u=Sn(o.fontColor,st.global.defaultFontColor);if(r.font=a.string,r.save(),r.translate(t.xCenter,t.yCenter),r.rotate(i),o.showLabelBackdrop){var c=r.measureText(e).width;r.fillStyle=o.backdropColor,r.fillRect(-c/2-o.backdropPaddingX,-l-a.size/2-o.backdropPaddingY,c+2*o.backdropPaddingX,a.size+2*o.backdropPaddingY)}r.textAlign="center",r.textBaseline="middle",r.fillStyle=u,r.fillText(e,0,-l),r.restore()}}})}}}),Dn=On;Ln._defaults=Dn;var Nn=ut.valueOrDefault,In=Number.MIN_SAFE_INTEGER||-9007199254740991,Wn=Number.MAX_SAFE_INTEGER||9007199254740991,Fn={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},Bn=Object.keys(Fn);function zn(t,e){return t-e}function Vn(t){var e,n,o,r={},i=[];for(e=0,n=t.length;e<n;++e)r[o=t[e]]||(r[o]=!0,i.push(o));return i}function jn(t,e,n,o){var r=function(t,e,n){for(var o,r,i,a=0,s=t.length-1;a>=0&&a<=s;){if(r=t[(o=a+s>>1)-1]||null,i=t[o],!r)return{lo:null,hi:i};if(i[e]<n)a=o+1;else{if(!(r[e]>n))return{lo:r,hi:i};s=o-1}}return{lo:i,hi:null}}(t,e,n),i=r.lo?r.hi?r.lo:t[t.length-2]:t[0],a=r.lo?r.hi?r.hi:t[t.length-1]:t[1],s=a[e]-i[e],l=s?(n-i[e])/s:0,u=(a[o]-i[o])*l;return i[o]+u}function Un(t,e){var n=t._adapter,o=t.options.time,r=o.parser,i=r||o.format,a=e;return"function"==typeof r&&(a=r(a)),ut.isFinite(a)||(a="string"==typeof i?n.parse(a,i):n.parse(a)),null!==a?+a:(r||"function"!=typeof i||(a=i(e),ut.isFinite(a)||(a=n.parse(a))),a)}function Yn(t,e){if(ut.isNullOrUndef(e))return null;var n=t.options.time,o=Un(t,t.getRightValue(e));return null===o?o:(n.round&&(o=+t._adapter.startOf(o,n.round)),o)}function Kn(t){for(var e=Bn.indexOf(t)+1,n=Bn.length;e<n;++e)if(Fn[Bn[e]].common)return Bn[e]}var Gn=cn.extend({initialize:function(){this.mergeTicksOptions(),cn.prototype.initialize.call(this)},update:function(){var t=this.options,e=t.time||(t.time={}),n=this._adapter=new on._date(t.adapters.date);return e.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),ut.mergeIf(e.displayFormats,n.formats()),cn.prototype.update.apply(this,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),cn.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,o,r,i,a=this,s=a.chart,l=a._adapter,u=a.options.time,c=u.unit||"day",h=Wn,d=In,f=[],p=[],g=[],v=s.data.labels||[];for(t=0,n=v.length;t<n;++t)g.push(Yn(a,v[t]));for(t=0,n=(s.data.datasets||[]).length;t<n;++t)if(s.isDatasetVisible(t))if(r=s.data.datasets[t].data,ut.isObject(r[0]))for(p[t]=[],e=0,o=r.length;e<o;++e)i=Yn(a,r[e]),f.push(i),p[t][e]=i;else{for(e=0,o=g.length;e<o;++e)f.push(g[e]);p[t]=g.slice(0)}else p[t]=[];g.length&&(g=Vn(g).sort(zn),h=Math.min(h,g[0]),d=Math.max(d,g[g.length-1])),f.length&&(f=Vn(f).sort(zn),h=Math.min(h,f[0]),d=Math.max(d,f[f.length-1])),h=Yn(a,u.min)||h,d=Yn(a,u.max)||d,h=h===Wn?+l.startOf(Date.now(),c):h,d=d===In?+l.endOf(Date.now(),c)+1:d,a.min=Math.min(h,d),a.max=Math.max(h+1,d),a._horizontal=a.isHorizontal(),a._table=[],a._timestamps={data:f,datasets:p,labels:g}},buildTicks:function(){var t,e,n,o=this,r=o.min,i=o.max,a=o.options,s=a.time,l=[],u=[];switch(a.ticks.source){case"data":l=o._timestamps.data;break;case"labels":l=o._timestamps.labels;break;case"auto":default:l=function(t,e,n,o){var r,i=t._adapter,a=t.options,s=a.time,l=s.unit||function(t,e,n,o){var r,i,a,s=Bn.length;for(r=Bn.indexOf(t);r<s-1;++r)if(a=(i=Fn[Bn[r]]).steps?i.steps[i.steps.length-1]:Wn,i.common&&Math.ceil((n-e)/(a*i.size))<=o)return Bn[r];return Bn[s-1]}(s.minUnit,e,n,o),u=Kn(l),c=Nn(s.stepSize,s.unitStepSize),h="week"===l&&s.isoWeekday,d=a.ticks.major.enabled,f=Fn[l],p=e,g=n,v=[];for(c||(c=function(t,e,n,o){var r,i,a,s=e-t,l=Fn[n],u=l.size,c=l.steps;if(!c)return Math.ceil(s/(o*u));for(r=0,i=c.length;r<i&&(a=c[r],!(Math.ceil(s/(u*a))<=o));++r);return a}(e,n,l,o)),h&&(p=+i.startOf(p,"isoWeek",h),g=+i.startOf(g,"isoWeek",h)),p=+i.startOf(p,h?"day":l),(g=+i.startOf(g,h?"day":l))<n&&(g=+i.add(g,1,l)),r=p,d&&u&&!h&&!s.round&&(r=+i.startOf(r,u),r=+i.add(r,~~((p-r)/(f.size*c))*c,l));r<g;r=+i.add(r,c,l))v.push(+r);return v.push(+r),v}(o,r,i,o.getLabelCapacity(r))}for("ticks"===a.bounds&&l.length&&(r=l[0],i=l[l.length-1]),r=Yn(o,s.min)||r,i=Yn(o,s.max)||i,t=0,e=l.length;t<e;++t)(n=l[t])>=r&&n<=i&&u.push(n);return o.min=r,o.max=i,o._unit=s.unit||function(t,e,n,o,r){var i,a;for(i=Bn.length-1;i>=Bn.indexOf(n);i--)if(a=Bn[i],Fn[a].common&&t._adapter.diff(r,o,a)>=e.length)return a;return Bn[n?Bn.indexOf(n):0]}(o,u,s.minUnit,o.min,o.max),o._majorUnit=Kn(o._unit),o._table=function(t,e,n,o){if("linear"===o||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var r,i,a,s,l,u=[],c=[e];for(r=0,i=t.length;r<i;++r)(s=t[r])>e&&s<n&&c.push(s);for(c.push(n),r=0,i=c.length;r<i;++r)l=c[r+1],a=c[r-1],s=c[r],void 0!==a&&void 0!==l&&Math.round((l+a)/2)===s||u.push({time:s,pos:r/(i-1)});return u}(o._timestamps.data,r,i,a.distribution),o._offsets=function(t,e,n,o,r){var i,a,s=0,l=0;return r.offset&&e.length&&(r.time.min||(i=jn(t,"time",e[0],"pos"),s=1===e.length?1-i:(jn(t,"time",e[1],"pos")-i)/2),r.time.max||(a=jn(t,"time",e[e.length-1],"pos"),l=1===e.length?a:(a-jn(t,"time",e[e.length-2],"pos"))/2)),{start:s,end:l}}(o._table,u,0,0,a),a.ticks.reverse&&u.reverse(),function(t,e,n){var o,r,i,a,s=[];for(o=0,r=e.length;o<r;++o)i=e[o],a=!!n&&i===+t._adapter.startOf(i,n),s.push({value:i,major:a});return s}(o,u,o._majorUnit)},getLabelForIndex:function(t,e){var n=this,o=n._adapter,r=n.chart.data,i=n.options.time,a=r.labels&&t<r.labels.length?r.labels[t]:"",s=r.datasets[e].data[t];return ut.isObject(s)&&(a=n.getRightValue(s)),i.tooltipFormat?o.format(Un(n,a),i.tooltipFormat):"string"==typeof a?a:o.format(Un(n,a),i.displayFormats.datetime)},tickFormatFunction:function(t,e,n,o){var r=this._adapter,i=this.options,a=i.time.displayFormats,s=a[this._unit],l=this._majorUnit,u=a[l],c=+r.startOf(t,l),h=i.ticks.major,d=h.enabled&&l&&u&&t===c,f=r.format(t,o||(d?u:s)),p=d?h:i.ticks.minor,g=Nn(p.callback,p.userCallback);return g?g(f,e,n):f},convertTicksToLabels:function(t){var e,n,o=[];for(e=0,n=t.length;e<n;++e)o.push(this.tickFormatFunction(t[e].value,e,t));return o},getPixelForOffset:function(t){var e=this,n=e.options.ticks.reverse,o=e._horizontal?e.width:e.height,r=e._horizontal?n?e.right:e.left:n?e.bottom:e.top,i=jn(e._table,"time",t,"pos"),a=o*(e._offsets.start+i)/(e._offsets.start+1+e._offsets.end);return n?r-a:r+a},getPixelForValue:function(t,e,n){var o=null;if(void 0!==e&&void 0!==n&&(o=this._timestamps.datasets[n][e]),null===o&&(o=Yn(this,t)),null!==o)return this.getPixelForOffset(o)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._horizontal?e.width:e.height,o=e._horizontal?e.left:e.top,r=(n?(t-o)/n:0)*(e._offsets.start+1+e._offsets.start)-e._offsets.end,i=jn(e._table,"pos",r,"time");return e._adapter._create(i)},getLabelWidth:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,o=ut.toRadians(e.maxRotation),r=Math.cos(o),i=Math.sin(o);return n*r+Nn(e.fontSize,st.global.defaultFontSize)*i},getLabelCapacity:function(t){var e=this,n=e.options.time.displayFormats.millisecond,o=e.tickFormatFunction(t,0,[],n),r=e.getLabelWidth(o),i=e.isHorizontal()?e.width:e.height,a=Math.floor(i/r);return a>0?a:1}});Gn._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var Xn={category:hn,linear:vn,logarithmic:Cn,radialLinear:Ln,time:Gn},qn={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};on._date.override("function"==typeof t?{_id:"moment",formats:function(){return qn},parse:function(e,n){return"string"==typeof e&&"string"==typeof n?e=t(e,n):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,n){return t(e).format(n)},add:function(e,n,o){return t(e).add(n,o).valueOf()},diff:function(e,n,o){return t.duration(t(e).diff(t(n))).as(o)},startOf:function(e,n,o){return e=t(e),"isoWeek"===n?e.isoWeekday(o).valueOf():e.startOf(n).valueOf()},endOf:function(e,n){return t(e).endOf(n).valueOf()},_create:function(e){return t(e)}}:{}),st._set("global",{plugins:{filler:{propagate:!0}}});var Qn={dataset:function(t){var e=t.fill,n=t.chart,o=n.getDatasetMeta(e),r=o&&n.isDatasetVisible(e)&&o.dataset._children||[],i=r.length||0;return i?function(t,e){return e<i&&r[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,o=e?e.y:null;return function(t){return{x:null===n?t.x:n,y:null===o?t.y:o}}}};function Jn(t,e,n){var o,r=t._model||{},i=r.fill;if(void 0===i&&(i=!!r.backgroundColor),!1===i||null===i)return!1;if(!0===i)return"origin";if(o=parseFloat(i,10),isFinite(o)&&Math.floor(o)===o)return"-"!==i[0]&&"+"!==i[0]||(o=e+o),!(o===e||o<0||o>=n)&&o;switch(i){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return i;default:return!1}}function $n(t){var e,n=t.el._model||{},o=t.el._scale||{},r=t.fill,i=null;if(isFinite(r))return null;if("start"===r?i=void 0===n.scaleBottom?o.bottom:n.scaleBottom:"end"===r?i=void 0===n.scaleTop?o.top:n.scaleTop:void 0!==n.scaleZero?i=n.scaleZero:o.getBasePosition?i=o.getBasePosition():o.getBasePixel&&(i=o.getBasePixel()),null!=i){if(void 0!==i.x&&void 0!==i.y)return i;if(ut.isFinite(i))return{x:(e=o.isHorizontal())?i:null,y:e?null:i}}return null}function Zn(t,e,n){var o,r=t[e].fill,i=[e];if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!isFinite(r))return r;if(!(o=t[r]))return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function to(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),Qn[n](t))}function eo(t){return t&&!t.skip}function no(t,e,n,o,r){var i;if(o&&r){for(t.moveTo(e[0].x,e[0].y),i=1;i<o;++i)ut.canvas.lineTo(t,e[i-1],e[i]);for(t.lineTo(n[r-1].x,n[r-1].y),i=r-1;i>0;--i)ut.canvas.lineTo(t,n[i],n[i-1],!0)}}var oo={id:"filler",afterDatasetsUpdate:function(t,e){var n,o,r,i,a=(t.data.datasets||[]).length,s=e.propagate,l=[];for(o=0;o<a;++o)i=null,(r=(n=t.getDatasetMeta(o)).dataset)&&r._model&&r instanceof It.Line&&(i={visible:t.isDatasetVisible(o),fill:Jn(r,o,a),chart:t,el:r}),n.$filler=i,l.push(i);for(o=0;o<a;++o)(i=l[o])&&(i.fill=Zn(l,o,s),i.boundary=$n(i),i.mapper=to(i))},beforeDatasetDraw:function(t,e){var n=e.meta.$filler;if(n){var o=t.ctx,r=n.el,i=r._view,a=r._children||[],s=n.mapper,l=i.backgroundColor||st.global.defaultColor;s&&l&&a.length&&(ut.canvas.clipArea(o,t.chartArea),function(t,e,n,o,r,i){var a,s,l,u,c,h,d,f=e.length,p=o.spanGaps,g=[],v=[],m=0,y=0;for(t.beginPath(),a=0,s=f+!!i;a<s;++a)c=n(u=e[l=a%f]._view,l,o),h=eo(u),d=eo(c),h&&d?(m=g.push(u),y=v.push(c)):m&&y&&(p?(h&&g.push(u),d&&v.push(c)):(no(t,g,v,m,y),m=y=0,g=[],v=[]));no(t,g,v,m,y),t.closePath(),t.fillStyle=r,t.fill()}(o,a,s,i,l,r._loop),ut.canvas.unclipArea(o))}}},ro=ut.noop,io=ut.valueOrDefault;function ao(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}st._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,o=this.chart,r=o.getDatasetMeta(n);r.hidden=null===r.hidden?!o.data.datasets[n].hidden:null,o.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data;return ut.isArray(e.datasets)?e.datasets.map(function(e,n){return{text:e.label,fillStyle:ut.isArray(e.backgroundColor)?e.backgroundColor[0]:e.backgroundColor,hidden:!t.isDatasetVisible(n),lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:e.borderWidth,strokeStyle:e.borderColor,pointStyle:e.pointStyle,datasetIndex:n}},this):[]}}},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');for(var n=0;n<t.data.datasets.length;n++)e.push('<li><span style="background-color:'+t.data.datasets[n].backgroundColor+'"></span>'),t.data.datasets[n].label&&e.push(t.data.datasets[n].label),e.push("</li>");return e.push("</ul>"),e.join("")}});var so=pt.extend({initialize:function(t){ut.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:ro,update:function(t,e,n){var o=this;return o.beforeUpdate(),o.maxWidth=t,o.maxHeight=e,o.margins=n,o.beforeSetDimensions(),o.setDimensions(),o.afterSetDimensions(),o.beforeBuildLabels(),o.buildLabels(),o.afterBuildLabels(),o.beforeFit(),o.fit(),o.afterFit(),o.afterUpdate(),o.minSize},afterUpdate:ro,beforeSetDimensions:ro,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:ro,beforeBuildLabels:ro,buildLabels:function(){var t=this,e=t.options.labels||{},n=ut.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:ro,beforeFit:ro,fit:function(){var t=this,e=t.options,n=e.labels,o=e.display,r=t.ctx,i=ut.options._parseFont(n),a=i.size,s=t.legendHitBoxes=[],l=t.minSize,u=t.isHorizontal();if(u?(l.width=t.maxWidth,l.height=o?10:0):(l.width=o?10:0,l.height=t.maxHeight),o)if(r.font=i.string,u){var c=t.lineWidths=[0],h=0;r.textAlign="left",r.textBaseline="top",ut.each(t.legendItems,function(t,e){var o=ao(n,a)+a/2+r.measureText(t.text).width;(0===e||c[c.length-1]+o+n.padding>l.width)&&(h+=a+n.padding,c[c.length-(e>0?0:1)]=n.padding),s[e]={left:0,top:0,width:o,height:a},c[c.length-1]+=o+n.padding}),l.height+=h}else{var d=n.padding,f=t.columnWidths=[],p=n.padding,g=0,v=0,m=a+d;ut.each(t.legendItems,function(t,e){var o=ao(n,a)+a/2+r.measureText(t.text).width;e>0&&v+m>l.height-d&&(p+=g+n.padding,f.push(g),g=0,v=0),g=Math.max(g,o),v+=m,s[e]={left:0,top:0,width:o,height:a}}),p+=g,f.push(g),l.width+=p}t.width=l.width,t.height=l.height},afterFit:ro,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,n=e.labels,o=st.global,r=o.defaultColor,i=o.elements.line,a=t.width,s=t.lineWidths;if(e.display){var l,u=t.ctx,c=io(n.fontColor,o.defaultFontColor),h=ut.options._parseFont(n),d=h.size;u.textAlign="left",u.textBaseline="middle",u.lineWidth=.5,u.strokeStyle=c,u.fillStyle=c,u.font=h.string;var f=ao(n,d),p=t.legendHitBoxes,g=t.isHorizontal();l=g?{x:t.left+(a-s[0])/2+n.padding,y:t.top+n.padding,line:0}:{x:t.left+n.padding,y:t.top+n.padding,line:0};var v=d+n.padding;ut.each(t.legendItems,function(o,c){var h=u.measureText(o.text).width,m=f+d/2+h,y=l.x,w=l.y;g?c>0&&y+m+n.padding>t.left+t.minSize.width&&(w=l.y+=v,l.line++,y=l.x=t.left+(a-s[l.line])/2+n.padding):c>0&&w+v>t.top+t.minSize.height&&(y=l.x=y+t.columnWidths[l.line]+n.padding,w=l.y=t.top+n.padding,l.line++),function(t,n,o){if(!(isNaN(f)||f<=0)){u.save();var a=io(o.lineWidth,i.borderWidth);if(u.fillStyle=io(o.fillStyle,r),u.lineCap=io(o.lineCap,i.borderCapStyle),u.lineDashOffset=io(o.lineDashOffset,i.borderDashOffset),u.lineJoin=io(o.lineJoin,i.borderJoinStyle),u.lineWidth=a,u.strokeStyle=io(o.strokeStyle,r),u.setLineDash&&u.setLineDash(io(o.lineDash,i.borderDash)),e.labels&&e.labels.usePointStyle){var s=f*Math.SQRT2/2,l=t+f/2,c=n+d/2;ut.canvas.drawPoint(u,o.pointStyle,s,l,c)}else 0!==a&&u.strokeRect(t,n,f,d),u.fillRect(t,n,f,d);u.restore()}}(y,w,o),p[c].left=y,p[c].top=w,function(t,e,n,o){var r=d/2,i=f+r+y,a=w+r;u.fillText(n.text,i,a),n.hidden&&(u.beginPath(),u.lineWidth=2,u.moveTo(i,a),u.lineTo(i+o,a),u.stroke())}(0,0,o,h),g?l.x+=m+n.padding:l.y+=v})}},_getLegendItemAt:function(t,e){var n,o,r,i=this;if(t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom)for(r=i.legendHitBoxes,n=0;n<r.length;++n)if(t>=(o=r[n]).left&&t<=o.left+o.width&&e>=o.top&&e<=o.top+o.height)return i.legendItems[n];return null},handleEvent:function(t){var e,n=this,o=n.options,r="mouseup"===t.type?"click":t.type;if("mousemove"===r){if(!o.onHover&&!o.onLeave)return}else{if("click"!==r)return;if(!o.onClick)return}e=n._getLegendItemAt(t.x,t.y),"click"===r?e&&o.onClick&&o.onClick.call(n,t.native,e):(o.onLeave&&e!==n._hoveredItem&&(n._hoveredItem&&o.onLeave.call(n,t.native,n._hoveredItem),n._hoveredItem=e),o.onHover&&e&&o.onHover.call(n,t.native,e))}});function lo(t,e){var n=new so({ctx:t.ctx,options:e,chart:t});be.configure(t,n,e),be.addBox(t,n),t.legend=n}var uo={id:"legend",_element:so,beforeInit:function(t){var e=t.options.legend;e&&lo(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(ut.mergeIf(e,st.global.legend),n?(be.configure(t,n,e),n.options=e):lo(t,e)):n&&(be.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}},co=ut.noop;st._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var ho=pt.extend({initialize:function(t){ut.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:co,update:function(t,e,n){var o=this;return o.beforeUpdate(),o.maxWidth=t,o.maxHeight=e,o.margins=n,o.beforeSetDimensions(),o.setDimensions(),o.afterSetDimensions(),o.beforeBuildLabels(),o.buildLabels(),o.afterBuildLabels(),o.beforeFit(),o.fit(),o.afterFit(),o.afterUpdate(),o.minSize},afterUpdate:co,beforeSetDimensions:co,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:co,beforeBuildLabels:co,buildLabels:co,afterBuildLabels:co,beforeFit:co,fit:function(){var t=this,e=t.options,n=e.display,o=t.minSize,r=ut.isArray(e.text)?e.text.length:1,i=ut.options._parseFont(e),a=n?r*i.lineHeight+2*e.padding:0;t.isHorizontal()?(o.width=t.maxWidth,o.height=a):(o.width=a,o.height=t.maxHeight),t.width=o.width,t.height=o.height},afterFit:co,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=t.options;if(n.display){var o,r,i,a=ut.options._parseFont(n),s=a.lineHeight,l=s/2+n.padding,u=0,c=t.top,h=t.left,d=t.bottom,f=t.right;e.fillStyle=ut.valueOrDefault(n.fontColor,st.global.defaultFontColor),e.font=a.string,t.isHorizontal()?(r=h+(f-h)/2,i=c+l,o=f-h):(r="left"===n.position?h+l:f-l,i=c+(d-c)/2,o=d-c,u=Math.PI*("left"===n.position?-.5:.5)),e.save(),e.translate(r,i),e.rotate(u),e.textAlign="center",e.textBaseline="middle";var p=n.text;if(ut.isArray(p))for(var g=0,v=0;v<p.length;++v)e.fillText(p[v],0,g,o),g+=s;else e.fillText(p,0,0,o);e.restore()}}});function fo(t,e){var n=new ho({ctx:t.ctx,options:e,chart:t});be.configure(t,n,e),be.addBox(t,n),t.titleBlock=n}var po={},go=oo,vo=uo,mo={id:"title",_element:ho,beforeInit:function(t){var e=t.options.title;e&&fo(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(ut.mergeIf(e,st.global.title),n?(be.configure(t,n,e),n.options=e):fo(t,e)):n&&(be.removeBox(t,n),delete t.titleBlock)}};for(var yo in po.filler=go,po.legend=vo,po.title=mo,tn.helpers=ut,function(){function t(t,e,n){var o;return"string"==typeof t?(o=parseInt(t,10),-1!==t.indexOf("%")&&(o=o/100*e.parentNode[n])):o=t,o}function e(t){return null!=t&&"none"!==t}function n(n,o,r){var i=document.defaultView,a=ut._getParentNode(n),s=i.getComputedStyle(n)[o],l=i.getComputedStyle(a)[o],u=e(s),c=e(l),h=Number.POSITIVE_INFINITY;return u||c?Math.min(u?t(s,n,r):h,c?t(l,a,r):h):"none"}ut.where=function(t,e){if(ut.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return ut.each(t,function(t){e(t)&&n.push(t)}),n},ut.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var o=0,r=t.length;o<r;++o)if(e.call(n,t[o],o,t))return o;return-1},ut.findNextWhere=function(t,e,n){ut.isNullOrUndef(n)&&(n=-1);for(var o=n+1;o<t.length;o++){var r=t[o];if(e(r))return r}},ut.findPreviousWhere=function(t,e,n){ut.isNullOrUndef(n)&&(n=t.length);for(var o=n-1;o>=0;o--){var r=t[o];if(e(r))return r}},ut.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},ut.almostEquals=function(t,e,n){return Math.abs(t-e)<n},ut.almostWhole=function(t,e){var n=Math.round(t);return n-e<t&&n+e>t},ut.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},ut.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},ut.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},ut.log10=Math.log10?function(t){return Math.log10(t)}:function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e},ut.toRadians=function(t){return t*(Math.PI/180)},ut.toDegrees=function(t){return t*(180/Math.PI)},ut._decimalPlaces=function(t){if(ut.isFinite(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}},ut.getAngleFromPoint=function(t,e){var n=e.x-t.x,o=e.y-t.y,r=Math.sqrt(n*n+o*o),i=Math.atan2(o,n);return i<-.5*Math.PI&&(i+=2*Math.PI),{angle:i,distance:r}},ut.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},ut.aliasPixel=function(t){return t%2==0?0:.5},ut._alignPixel=function(t,e,n){var o=t.currentDevicePixelRatio,r=n/2;return Math.round((e-r)*o)/o+r},ut.splineCurve=function(t,e,n,o){var r=t.skip?e:t,i=e,a=n.skip?e:n,s=Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2)),u=s/(s+l),c=l/(s+l),h=o*(u=isNaN(u)?0:u),d=o*(c=isNaN(c)?0:c);return{previous:{x:i.x-h*(a.x-r.x),y:i.y-h*(a.y-r.y)},next:{x:i.x+d*(a.x-r.x),y:i.y+d*(a.y-r.y)}}},ut.EPSILON=Number.EPSILON||1e-14,ut.splineCurveMonotone=function(t){var e,n,o,r,i,a,s,l,u,c=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),h=c.length;for(e=0;e<h;++e)if(!(o=c[e]).model.skip){if(n=e>0?c[e-1]:null,(r=e<h-1?c[e+1]:null)&&!r.model.skip){var d=r.model.x-o.model.x;o.deltaK=0!==d?(r.model.y-o.model.y)/d:0}!n||n.model.skip?o.mK=o.deltaK:!r||r.model.skip?o.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(o.deltaK)?o.mK=0:o.mK=(n.deltaK+o.deltaK)/2}for(e=0;e<h-1;++e)o=c[e],r=c[e+1],o.model.skip||r.model.skip||(ut.almostEquals(o.deltaK,0,this.EPSILON)?o.mK=r.mK=0:(i=o.mK/o.deltaK,a=r.mK/o.deltaK,(l=Math.pow(i,2)+Math.pow(a,2))<=9||(s=3/Math.sqrt(l),o.mK=i*s*o.deltaK,r.mK=a*s*o.deltaK)));for(e=0;e<h;++e)(o=c[e]).model.skip||(n=e>0?c[e-1]:null,r=e<h-1?c[e+1]:null,n&&!n.model.skip&&(u=(o.model.x-n.model.x)/3,o.model.controlPointPreviousX=o.model.x-u,o.model.controlPointPreviousY=o.model.y-u*o.mK),r&&!r.model.skip&&(u=(r.model.x-o.model.x)/3,o.model.controlPointNextX=o.model.x+u,o.model.controlPointNextY=o.model.y+u*o.mK))},ut.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},ut.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},ut.niceNum=function(t,e){var n=Math.floor(ut.log10(t)),o=t/Math.pow(10,n);return(e?o<1.5?1:o<3?2:o<7?5:10:o<=1?1:o<=2?2:o<=5?5:10)*Math.pow(10,n)},ut.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},ut.getRelativePosition=function(t,e){var n,o,r=t.originalEvent||t,i=t.target||t.srcElement,a=i.getBoundingClientRect(),s=r.touches;s&&s.length>0?(n=s[0].clientX,o=s[0].clientY):(n=r.clientX,o=r.clientY);var l=parseFloat(ut.getStyle(i,"padding-left")),u=parseFloat(ut.getStyle(i,"padding-top")),c=parseFloat(ut.getStyle(i,"padding-right")),h=parseFloat(ut.getStyle(i,"padding-bottom")),d=a.right-a.left-l-c,f=a.bottom-a.top-u-h;return{x:n=Math.round((n-a.left-l)/d*i.width/e.currentDevicePixelRatio),y:o=Math.round((o-a.top-u)/f*i.height/e.currentDevicePixelRatio)}},ut.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},ut.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},ut._calculatePadding=function(t,e,n){return(e=ut.getStyle(t,e)).indexOf("%")>-1?n*parseInt(e,10)/100:parseInt(e,10)},ut._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},ut.getMaximumWidth=function(t){var e=ut._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,o=n-ut._calculatePadding(e,"padding-left",n)-ut._calculatePadding(e,"padding-right",n),r=ut.getConstraintWidth(t);return isNaN(r)?o:Math.min(o,r)},ut.getMaximumHeight=function(t){var e=ut._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,o=n-ut._calculatePadding(e,"padding-top",n)-ut._calculatePadding(e,"padding-bottom",n),r=ut.getConstraintHeight(t);return isNaN(r)?o:Math.min(o,r)},ut.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},ut.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var o=t.canvas,r=t.height,i=t.width;o.height=r*n,o.width=i*n,t.ctx.scale(n,n),o.style.height||o.style.width||(o.style.height=r+"px",o.style.width=i+"px")}},ut.fontString=function(t,e,n){return e+" "+t+"px "+n},ut.longestText=function(t,e,n,o){var r=(o=o||{}).data=o.data||{},i=o.garbageCollect=o.garbageCollect||[];o.font!==e&&(r=o.data={},i=o.garbageCollect=[],o.font=e),t.font=e;var a=0;ut.each(n,function(e){null!=e&&!0!==ut.isArray(e)?a=ut.measureText(t,r,i,a,e):ut.isArray(e)&&ut.each(e,function(e){null==e||ut.isArray(e)||(a=ut.measureText(t,r,i,a,e))})});var s=i.length/2;if(s>n.length){for(var l=0;l<s;l++)delete r[i[l]];i.splice(0,s)}return a},ut.measureText=function(t,e,n,o,r){var i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>o&&(o=i),o},ut.numberOfLabelLines=function(t){var e=1;return ut.each(t,function(t){ut.isArray(t)&&t.length>e&&(e=t.length)}),e},ut.color=G?function(t){return t instanceof CanvasGradient&&(t=st.global.defaultColor),G(t)}:function(t){return console.error("Color.js not found!"),t},ut.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:ut.color(t).saturate(.5).darken(.1).rgbString()}}(),tn._adapters=on,tn.Animation=vt,tn.animationService=mt,tn.controllers=le,tn.DatasetController=kt,tn.defaults=st,tn.Element=pt,tn.elements=It,tn.Interaction=ge,tn.layouts=be,tn.platform=Ne,tn.plugins=Ie,tn.Scale=cn,tn.scaleService=We,tn.Ticks=rn,tn.Tooltip=Xe,tn.helpers.each(Xn,function(t,e){tn.scaleService.registerScaleType(e,t,t._defaults)}),po)po.hasOwnProperty(yo)&&tn.plugins.register(po[yo]);tn.platform.initialize();var wo=tn;return"undefined"!=typeof window&&(window.Chart=tn),tn.Chart=tn,tn.Legend=po.legend._element,tn.Title=po.title._element,tn.pluginService=tn.plugins,tn.PluginBase=tn.Element.extend({}),tn.canvasHelpers=tn.helpers.canvas,tn.layoutService=tn.layouts,tn.LinearScaleBase=pn,tn.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(t){tn[t]=function(e,n){return new tn(e,tn.helpers.merge(n||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}}),wo}(function(){try{return n(2)}catch(t){}}())},6:function(t,e,n){var o;o=function(t,e,n,o){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=209)}([function(t,e,n){"use strict";e.__esModule=!0,e.HTML_CHARACTERS=void 0,e.getParent=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1,o=null;null!=t;){if(n===e){o=t;break}t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t=t.host:(n++,t=t.parentNode)}return o},e.closest=u,e.closestDown=function(t,e,n){for(var o=[];t&&(t=u(t,e,n))&&(!n||n.contains(t));)o.push(t),t=t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.host:t.parentNode;var r=o.length;return r?o[r-1]:null},e.isChildOf=function(t,e){var n=t.parentNode,o=[];for("string"==typeof e?o=Array.prototype.slice.call(document.querySelectorAll(e),0):o.push(e);null!=n;){if(o.indexOf(n)>-1)return!0;n=n.parentNode}return!1},e.isChildOfWebComponentTable=function(t){var e,n="hot-table",o=!1;function r(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName===n.toUpperCase()}for(e=c(t);null!=e;){if(r(e)){o=!0;break}if(e.host&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(o=r(e.host))break;e=e.host}e=e.parentNode}return o},e.polymerWrap=c,e.polymerUnwrap=h,e.index=function(t){var e=0;if(t.previousSibling)for(;t=t.previousSibling;)++e;return e},e.overlayContainsElement=function(t,e){var n=document.querySelector(".ht_clone_"+t);return n?n.contains(e):null},e.hasClass=function(t,e){return o(t,e)},e.addClass=function(t,e){return r(t,e)},e.removeClass=function(t,e){return i(t,e)},e.removeTextNodes=function t(e,n){if(3===e.nodeType)n.removeChild(e);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(e.nodeName)>-1)for(var o=e.childNodes,r=o.length-1;r>=0;r--)t(o[r],e)},e.empty=g,e.fastInnerHTML=function(t,e){m.test(e)?t.innerHTML=e:w(t,e)},e.fastInnerText=w,e.isVisible=function t(e){for(var n=e;h(n)!==document.documentElement;){if(null===n)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(n.host){if(n.host.impl)return t(n.host.impl);if(n.host)return t(n.host);throw new Error("Lost in Web Components world")}return!1}if("none"===n.style.display)return!1;n=n.parentNode}return!0},e.offset=function(t){var e,n,o,r,i;if(r=document.documentElement,(0,l.hasCaptionProblem)()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName)return{top:(i=t.getBoundingClientRect()).top+(window.pageYOffset||r.scrollTop)-(r.clientTop||0),left:i.left+(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0)};for(e=t.offsetLeft,n=t.offsetTop,o=t;(t=t.offsetParent)&&t!==document.body;)e+=t.offsetLeft,n+=t.offsetTop,o=t;return o&&"fixed"===o.style.position&&(e+=window.pageXOffset||r.scrollLeft,n+=window.pageYOffset||r.scrollTop),{left:e,top:n}},e.getWindowScrollTop=b,e.getWindowScrollLeft=C,e.getScrollTop=function(t){return t===window?b():t.scrollTop},e.getScrollLeft=function(t){return t===window?C():t.scrollLeft},e.getScrollableElement=function(t){for(var e,n,o,r=t.parentNode,i=["auto","scroll"],a="",s="",l="",u="";r&&r.style&&document.body!==r;){if(e=r.style.overflow,n=r.style.overflowX,o=r.style.overflowY,"scroll"==e||"scroll"==n||"scroll"==o)return r;if(window.getComputedStyle&&(s=(a=window.getComputedStyle(r)).getPropertyValue("overflow"),l=a.getPropertyValue("overflow-y"),u=a.getPropertyValue("overflow-x"),"scroll"===s||"scroll"===u||"scroll"===l))return r;if(r.clientHeight<=r.scrollHeight&&(-1!==i.indexOf(o)||-1!==i.indexOf(e)||-1!==i.indexOf(s)||-1!==i.indexOf(l)))return r;if(r.clientWidth<=r.scrollWidth&&(-1!==i.indexOf(n)||-1!==i.indexOf(e)||-1!==i.indexOf(s)||-1!==i.indexOf(u)))return r;r=r.parentNode}return window},e.getTrimmingContainer=function(t){for(var e=t.parentNode;e&&e.style&&document.body!==e;){if("visible"!==e.style.overflow&&""!==e.style.overflow)return e;if(window.getComputedStyle){var n=window.getComputedStyle(e);if("visible"!==n.getPropertyValue("overflow")&&""!==n.getPropertyValue("overflow"))return e}e=e.parentNode}return window},e.getStyle=function(t,e){if(t){if(t===window)return"width"===e?window.innerWidth+"px":"height"===e?window.innerHeight+"px":void 0;var n,o=t.style[e];return""!==o&&void 0!==o?o:""!==(n=k(t))[e]&&void 0!==n[e]?n[e]:void 0}},e.getComputedStyle=k,e.outerWidth=function(t){return t.offsetWidth},e.outerHeight=function(t){return(0,l.hasCaptionProblem)()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName?t.offsetHeight+t.firstChild.offsetHeight:t.offsetHeight},e.innerHeight=function(t){return t.clientHeight||t.innerHeight},e.innerWidth=function(t){return t.clientWidth||t.innerWidth},e.addEvent=function(t,e,n){window.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},e.removeEvent=function(t,e,n){window.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},e.getCaretPosition=function(t){if(t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange();if(null==e)return 0;var n=t.createTextRange(),o=n.duplicate();return n.moveToBookmark(e.getBookmark()),o.setEndPoint("EndToStart",n),o.text.length}return 0},e.getSelectionEndPosition=function(t){if(t.selectionEnd)return t.selectionEnd;if(document.selection){var e=document.selection.createRange();return null==e?0:t.createTextRange().text.indexOf(e.text)+e.text.length}return 0},e.getSelectionText=function(){var t="";return window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(t=document.selection.createRange().text),t},e.setCaretPosition=function(t,e,n){if(void 0===n&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch(i){var o=t.parentNode,r=o.style.display;o.style.display="block",t.setSelectionRange(e,n),o.style.display=r}}else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",e),i.select()}},e.getScrollbarWidth=function(){return void 0===v&&(v=function(){var t=document.createElement("div");t.style.height="200px",t.style.width="100%";var e=document.createElement("div");e.style.boxSizing="content-box",e.style.height="150px",e.style.left="0px",e.style.overflow="hidden",e.style.position="absolute",e.style.top="0px",e.style.width="200px",e.style.visibility="hidden",e.appendChild(t),(document.body||document.documentElement).appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var o=t.offsetWidth;return n==o&&(o=e.clientWidth),(document.body||document.documentElement).removeChild(e),n-o}()),v},e.hasVerticalScrollbar=function(t){return t.offsetWidth!==t.clientWidth},e.hasHorizontalScrollbar=function(t){return t.offsetHeight!==t.clientHeight},e.setOverlayPosition=function(t,e,n){(0,s.isIE8)()||(0,s.isIE9)()?(t.style.top=n,t.style.left=e):(0,s.isSafari)()?t.style["-webkit-transform"]="translate3d("+e+","+n+",0)":t.style.transform="translate3d("+e+","+n+",0)"},e.getCssTransform=function(t){var e;return t.style.transform&&""!==(e=t.style.transform)?["transform",e]:t.style["-webkit-transform"]&&""!==(e=t.style["-webkit-transform"])?["-webkit-transform",e]:-1},e.resetCssTransform=function(t){t.style.transform&&""!==t.style.transform?t.style.transform="":t.style["-webkit-transform"]&&""!==t.style["-webkit-transform"]&&(t.style["-webkit-transform"]="")},e.isInput=S,e.isOutsideInput=function(t){return S(t)&&-1==t.className.indexOf("handsontableInput")&&-1==t.className.indexOf("copyPaste")};var o,r,i,a,s=n(25),l=n(34);function u(t,e,n){for(;null!=t&&t!==n;){if(t.nodeType===Node.ELEMENT_NODE&&(e.indexOf(t.nodeName)>-1||e.indexOf(t)>-1))return t;t=t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.host:t.parentNode}return null}function c(t){return"undefined"!=typeof Polymer&&"function"==typeof wrap?wrap(t):t}function h(t){return"undefined"!=typeof Polymer&&"function"==typeof unwrap?unwrap(t):t}function d(t){var e=0,n=[];if(!t||!t.length)return n;for(;t[e];)n.push(t[e]),e++;return n}if(document.documentElement.classList){var f=((a=document.createElement("div")).classList.add("test","test2"),a.classList.contains("test2"));o=function(t,e){return""!==e&&t.classList.contains(e)},r=function(t,e){var n=0;if("string"==typeof e&&(e=e.split(" ")),e=d(e),f)t.classList.add.apply(t.classList,e);else for(;e&&e[n];)t.classList.add(e[n]),n++},i=function(t,e){var n=0;if("string"==typeof e&&(e=e.split(" ")),e=d(e),f)t.classList.remove.apply(t.classList,e);else for(;e&&e[n];)t.classList.remove(e[n]),n++}}else{var p=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")};o=function(t,e){return!!t.className.match(p(e))},r=function(t,e){var n=0,o=t.className;if("string"==typeof e&&(e=e.split(" ")),""===o)o=e.join(" ");else for(;e&&e[n];)p(e[n]).test(o)||(o+=" "+e[n]),n++;t.className=o},i=function(t,e){var n=0,o=t.className;for("string"==typeof e&&(e=e.split(" "));e&&e[n];)o=o.replace(p(e[n])," ").trim(),n++;t.className!==o&&(t.className=o)}}function g(t){for(var e;e=t.lastChild;)t.removeChild(e)}var v,m=e.HTML_CHARACTERS=/(<(.*)>|&(.*);)/,y=!!document.createTextNode("test").textContent;function w(t,e){var n=t.firstChild;n&&3===n.nodeType&&null===n.nextSibling?y?n.textContent=e:n.data=e:(g(t),t.appendChild(document.createTextNode(e)))}function b(){var t=window.scrollY;return void 0===t&&(t=document.documentElement.scrollTop),t}function C(){var t=window.scrollX;return void 0===t&&(t=document.documentElement.scrollLeft),t}function k(t){return t.currentStyle||document.defaultView.getComputedStyle(t)}function S(t){return t&&(["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||"true"===t.contentEditable)}},function(t,e,n){"use strict";function o(t,e,n,o){var r=-1,i=t.length;for(o&&i&&(n=t[++r]);++r<i;)n=e(n,t[r],r,t);return n}function r(t,e){for(var n=-1,o=t.length;++n<o&&!1!==e(t[n],n,t););return t}function i(t){return o(t,function(t,e){return t+e},0)}e.__esModule=!0,e.to2dArray=function(t){for(var e=0,n=t.length;e<n;)t[e]=[t[e]],e++},e.extendArray=function(t,e){for(var n=0,o=e.length;n<o;)t.push(e[n]),n++},e.pivot=function(t){var e=[];if(!t||0===t.length||!t[0]||0===t[0].length)return e;for(var n=t.length,o=t[0].length,r=0;r<n;r++)for(var i=0;i<o;i++)e[i]||(e[i]=[]),e[i][r]=t[r][i];return e},e.arrayReduce=o,e.arrayFilter=function(t,e){for(var n=-1,o=t.length,r=-1,i=[];++n<o;){var a=t[n];e(a,n,t)&&(i[++r]=a)}return i},e.arrayMap=function(t,e){for(var n=-1,o=t.length,r=-1,i=[];++n<o;){var a=t[n];i[++r]=e(a,n,t)}return i},e.arrayEach=r,e.arraySum=i,e.arrayMax=function(t){return o(t,function(t,e){return t>e?t:e},Array.isArray(t)?t[0]:void 0)},e.arrayMin=function(t){return o(t,function(t,e){return t<e?t:e},Array.isArray(t)?t[0]:void 0)},e.arrayAvg=function(t){return t.length?i(t)/t.length:0},e.arrayFlatten=function t(e){return o(e,function(e,n){return e.concat(Array.isArray(n)?t(n):n)},[])},e.arrayUnique=function(t){var e=[];return r(t,function(t){-1===e.indexOf(t)&&e.push(t)}),e}},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.duckSchema=function t(e){var n;return Array.isArray(e)?n=[]:(n={},l(e,function(e,r){"__children"!==r&&(e&&"object"===(void 0===e?"undefined":o(e))&&!Array.isArray(e)?n[r]=t(e):Array.isArray(e)?e.length&&"object"===o(e[0])&&!Array.isArray(e[0])?n[r]=[t(e[0])]:n[r]=[]:n[r]=null)})),n},e.inherit=function(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t},e.extend=function(t,e){return l(e,function(e,n){t[n]=e}),t},e.deepExtend=function t(e,n){l(n,function(r,i){n[i]&&"object"===o(n[i])?(e[i]||(Array.isArray(n[i])?e[i]=[]:"[object Date]"===Object.prototype.toString.call(n[i])?e[i]=n[i]:e[i]={}),t(e[i],n[i])):e[i]=n[i]})},e.deepClone=a,e.clone=function(t){var e={};return l(t,function(t,n){e[n]=t}),e},e.mixin=function(t){t.MIXINS||(t.MIXINS=[]);for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return(0,r.arrayEach)(n,function(e){t.MIXINS.push(e.MIXIN_NAME),l(e,function(e,n){if(void 0!==t.prototype[n])throw new Error("Mixin conflict. Property '"+n+"' already exist and cannot be overwritten.");var o;"function"==typeof e?t.prototype[n]=e:Object.defineProperty(t.prototype,n,{get:function(t,e){return t="_"+t,function(){var n;return void 0===this[t]&&(this[t]=(n=e,(Array.isArray(n)||s(n))&&(n=a(n)),n)),this[t]}}(n,e),set:(o=n,o="_"+o,function(t){this[o]=t}),configurable:!0})})}),t},e.isObjectEquals=function(t,e){return JSON.stringify(t)===JSON.stringify(e)},e.isObject=s,e.defineGetter=function(t,e,n,o){o.value=n,o.writable=!1!==o.writable,o.enumerable=!1!==o.enumerable,o.configurable=!1!==o.configurable,Object.defineProperty(t,e,o)},e.objectEach=l,e.getProperty=function(t,e){var n=e.split("."),o=t;return l(n,function(t){if(void 0===(o=o[t]))return o=void 0,!1}),o},e.deepObjectSize=function(t){return s(t)?function t(e){var n=0;return s(e)?l(e,function(e){n+=t(e)}):n++,n}(t):0},e.createObjectPropListener=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",o="_"+n,r=(i(e={_touched:!1},o,t),i(e,"isTouched",function(){return this._touched}),e);return Object.defineProperty(r,n,{get:function(){return this[o]},set:function(t){this._touched=!0,this[o]=t},enumerable:!0,configurable:!0}),r},e.hasOwnProperty=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var r=n(1);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t){return"object"===(void 0===t?"undefined":o(t))?JSON.parse(JSON.stringify(t)):t}function s(t){return"[object Object]"==Object.prototype.toString.call(t)}function l(t,e){for(var n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t,n))&&!1===e(t[n],n,t))break;return t}},function(t,e,n){var o=n(13),r=n(44),i=n(32),a=n(33),s=n(29),l=function(t,e,n){var u,c,h,d,f=t&l.F,p=t&l.G,g=t&l.S,v=t&l.P,m=t&l.B,y=p?o:g?o[e]||(o[e]={}):(o[e]||{}).prototype,w=p?r:r[e]||(r[e]={}),b=w.prototype||(w.prototype={});for(u in p&&(n=e),n)h=((c=!f&&y&&void 0!==y[u])?y:n)[u],d=m&&c?s(h,o):v&&"function"==typeof h?s(Function.call,h):h,y&&a(y,u,h,t&l.U),w[u]!=h&&i(w,u,d),v&&b[u]!=h&&(b[u]=h)};o.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();e.getListenersCounter=function(){return s};var r=n(0),i=n(34),a=n(7),s=0,l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.context=e||this,this.context.eventListeners||(this.context.eventListeners=[])}return o(t,[{key:"addEventListener",value:function(t,e,n){var o=this,r=this.context;function i(t){t=u(r,t),n.call(this,t)}return this.context.eventListeners.push({element:t,event:e,callback:n,callbackProxy:i}),window.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i),s++,function(){o.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){for(var o=this.context.eventListeners.length,r=void 0;o--;)if((r=this.context.eventListeners[o]).event==e&&r.element==t){if(n&&n!=r.callback)continue;this.context.eventListeners.splice(o,1),r.element.removeEventListener?r.element.removeEventListener(r.event,r.callbackProxy,!1):r.element.detachEvent("on"+r.event,r.callbackProxy),s--}}},{key:"clearEvents",value:function(){if(this.context)for(var t=this.context.eventListeners.length;t--;){var e=this.context.eventListeners[t];e&&this.removeEventListener(e.element,e.event,e.callback)}}},{key:"clear",value:function(){this.clearEvents()}},{key:"destroy",value:function(){this.clearEvents(),this.context=null}},{key:"fireEvent",value:function(t,e){var n,o={bubbles:!0,cancelable:"mousemove"!==e,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};document.createEvent?(n=document.createEvent("MouseEvents")).initMouseEvent(e,o.bubbles,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget||document.body.parentNode):n=document.createEventObject(),t.dispatchEvent?t.dispatchEvent(n):t.fireEvent("on"+e,n)}}]),t}();function u(t,e){var n=void 0,o=void 0,s=void 0,u=void 0,c=void 0,h=void 0;if(e.isTargetWebComponent=!1,e.realTarget=e.target,h=e.stopImmediatePropagation,e.stopImmediatePropagation=function(){h.apply(this),(0,a.stopImmediatePropagation)(this)},!l.isHotTableEnv)return e;for(c=(e=(0,r.polymerWrap)(e)).path?e.path.length:0;c--;){if("HOT-TABLE"===e.path[c].nodeName)n=!0;else if(n&&e.path[c].shadowRoot){u=e.path[c];break}0!==c||u||(u=e.path[c])}return u||(u=e.target),e.isTargetWebComponent=!0,(0,i.isWebComponentSupportedNatively)()?e.realTarget=e.srcElement||e.toElement:(t instanceof Core||t instanceof Walkontable)&&(t instanceof Core?o=t.view?t.view.wt.wtTable.TABLE:null:t instanceof Walkontable&&(o=t.wtTable.TABLE.parentNode.parentNode),s=(0,r.closest)(e.target,["HOT-TABLE"],o),e.realTarget=s&&o.querySelector("HOT-TABLE")||e.target),Object.defineProperty(e,"target",{get:function(){return(0,r.polymerWrap)(u)},enumerable:!0,configurable:!0}),e}e.default=l},function(t,e,n){"use strict";e.__esModule=!0,e.getPluginName=e.getRegistredPluginNames=e.getPlugin=e.registerPlugin=void 0;var o,r=(o=n(8))&&o.__esModule?o:{default:o},i=n(2),a=n(27),s=new WeakMap;e.registerPlugin=function(t,e){t=(0,a.toUpperCaseFirst)(t),r.default.getSingleton().add("construct",function(){var n=void 0;s.has(this)||s.set(this,{}),(n=s.get(this))[t]||(n[t]=new e(this))}),r.default.getSingleton().add("afterDestroy",function(){if(s.has(this)){var t=s.get(this);(0,i.objectEach)(t,function(t){return t.destroy()}),s.delete(this)}})},e.getPlugin=function(t,e){if("string"!=typeof e)throw Error('Only strings can be passed as "plugin" parameter');var n=(0,a.toUpperCaseFirst)(e);if(s.has(t)&&s.get(t)[n])return s.get(t)[n]},e.getRegistredPluginNames=function(t){return s.has(t)?Object.keys(s.get(t)):[]},e.getPluginName=function(t,e){var n=null;return s.has(t)&&(0,i.objectEach)(s.get(t),function(t,o){t===e&&(n=o)}),n}},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.isNumeric=function(t){var e=void 0===t?"undefined":o(t);return"number"==e?!isNaN(t)&&isFinite(t):"string"==e?!!t.length&&(1==t.length?/\d/.test(t):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(t)):"object"==e&&!(!t||"number"!=typeof t.valueOf()||t instanceof Date)},e.rangeEach=function(t,e,n){var o=-1;for("function"==typeof e?(n=e,e=t):o=t-1;++o<=e&&!1!==n(o););},e.rangeEachReverse=function(t,e,n){var o=t+1;for("function"==typeof e&&(n=e,e=0);--o>=e&&!1!==n(o););},e.valueAccordingPercent=function(t,e){return e=parseInt(e.toString().replace("%",""),10),parseInt(t*e/100,10)}},function(t,e,n){"use strict";e.__esModule=!0,e.stopImmediatePropagation=function(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0},e.isImmediatePropagationStopped=function(t){return!1===t.isImmediatePropagationEnabled},e.stopPropagation=function(t){"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.pageX=function(t){return t.pageX?t.pageX:t.clientX+(0,o.getWindowScrollLeft)()},e.pageY=function(t){return t.pageY?t.pageY:t.clientY+(0,o.getWindowScrollTop)()},e.isRightClick=function(t){return 2===t.button},e.isLeftClick=function(t){return 0===t.button};var o=n(0)},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=n(2),a=["afterCellMetaReset","afterChange","afterChangesObserved","afterContextMenuDefaultOptions","beforeContextMenuSetItems","afterDropdownMenuDefaultOptions","beforeDropdownMenuSetItems","afterContextMenuHide","afterContextMenuShow","afterCopyLimit","beforeCreateCol","afterCreateCol","beforeCreateRow","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellCornerDblClick","afterOnCellMouseDown","afterOnCellMouseOver","afterOnCellMouseOut","afterRemoveCol","afterRemoveRow","afterRender","beforeRenderer","afterRenderer","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterSetDataAtCell","afterSetDataAtRowProp","afterUpdateSettings","afterValidate","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeOnCellMouseOver","beforeOnCellMouseOut","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeStart","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","beforeValueRender","construct","init","modifyCol","unmodifyCol","unmodifyRow","modifyColHeader","modifyColWidth","modifyRow","modifyRowHeader","modifyRowHeight","modifyData","modifyRowData","persistentStateLoad","persistentStateReset","persistentStateSave","beforeColumnSort","afterColumnSort","modifyAutofillRange","modifyCopyableRange","beforeCut","afterCut","beforeCopy","afterCopy","beforePaste","afterPaste","beforeColumnMove","afterColumnMove","beforeRowMove","afterRowMove","beforeColumnResize","afterColumnResize","beforeRowResize","afterRowResize","afterGetColumnHeaderRenderers","afterGetRowHeaderRenderers","beforeStretchingColumnWidth","beforeFilter","afterFilter","modifyColumnHeaderHeight","beforeUndo","afterUndo","beforeRedo","afterRedo","modifyRowHeaderWidth","beforeAutofillInsidePopulate","modifyTransformStart","modifyTransformEnd","afterModifyTransformStart","afterModifyTransformEnd","beforeValueRender","afterViewportRowCalculatorOverride","afterViewportColumnCalculatorOverride","afterPluginsInitialized","manualRowHeights","skipLengthCache","afterTrimRow","afterUntrimRow","afterDropdownMenuShow","afterDropdownMenuHide","hiddenRow","hiddenColumn","beforeAddChild","afterAddChild","beforeDetachChild","afterDetachChild","afterBeginEditing"],s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.globalBucket=this.createEmptyBucket()}return o(t,null,[{key:"getSingleton",value:function(){return l}}]),o(t,[{key:"createEmptyBucket",value:function(){var t=Object.create(null);return(0,r.arrayEach)(a,function(e){return t[e]=[]}),t}},{key:"getBucket",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket}},{key:"add",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(Array.isArray(e))(0,r.arrayEach)(e,function(e){return n.add(t,e,o)});else{var i=this.getBucket(o);if(void 0===i[t]&&(this.register(t),i[t]=[]),e.skip=!1,-1===i[t].indexOf(e)){var a=!1;e.initialHook&&(0,r.arrayEach)(i[t],function(n,o){if(n.initialHook)return i[t][o]=e,a=!0,!1}),a||i[t].push(e)}}return this}},{key:"once",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Array.isArray(e)?(0,r.arrayEach)(e,function(e){return n.once(t,e,o)}):(e.runOnce=!0,this.add(t,e,o))}},{key:"remove",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.getBucket(n);return void 0!==o[t]&&o[t].indexOf(e)>=0&&(e.skip=!0,!0)}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.getBucket(e);return!(void 0===n[t]||!n[t].length)}},{key:"run",value:function(t,e,n,o,r,i,a,s){var l=this.globalBucket[e],u=-1,c=l?l.length:0;if(c)for(;++u<c;)if(l[u]&&!l[u].skip){var h=l[u].call(t,n,o,r,i,a,s);void 0!==h&&(n=h),l[u]&&l[u].runOnce&&this.remove(e,l[u])}var d=this.getBucket(t)[e],f=-1,p=d?d.length:0;if(p)for(;++f<p;)if(d[f]&&!d[f].skip){var g=d[f].call(t,n,o,r,i,a,s);void 0!==g&&(n=g),d[f]&&d[f].runOnce&&this.remove(e,d[f],t)}return n}},{key:"destroy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(0,i.objectEach)(this.getBucket(t),function(t,e,n){return n[e].length=0})}},{key:"register",value:function(t){this.isRegistered(t)||a.push(t)}},{key:"deregister",value:function(t){this.isRegistered(t)&&a.splice(a.indexOf(t),1)}},{key:"isRegistered",value:function(t){return a.indexOf(t)>=0}},{key:"getRegistered",value:function(){return a}}]),t}(),l=new s;e.default=s},function(t,e,n){"use strict";e.__esModule=!0,e.getRegisteredRenderers=e.getRegisteredRendererNames=e.hasRenderer=e.getRenderer=e.registerRenderer=void 0;var o=h(n(51)),r=h(n(260)),i=h(n(261)),a=h(n(262)),s=h(n(263)),l=h(n(264)),u=h(n(265)),c=h(n(266));function h(t){return t&&t.__esModule?t:{default:t}}var d=(0,o.default)("renderers"),f=d.register,p=d.getItem,g=d.hasItem,v=d.getNames,m=d.getValues;f("base",r.default),f("autocomplete",i.default),f("checkbox",a.default),f("html",s.default),f("numeric",l.default),f("password",u.default),f("text",c.default),e.registerRenderer=f,e.getRenderer=function(t){if("function"==typeof t)return t;if(!g(t))throw Error('No registered renderer found under "'+t+'" name');return p(t)},e.hasRenderer=g,e.getRegisteredRendererNames=v,e.getRegisteredRenderers=m},function(t,e,n){var o=n(82)("wks"),r=n(49),i=n(13).Symbol,a="function"==typeof i;(t.exports=function(t){return o[t]||(o[t]=a&&i[t]||(a?i:r)("Symbol."+t))}).store=o},function(t,e,n){"use strict";e.__esModule=!0,e.Viewport=e.TableRenderer=e.Table=e.Settings=e.Selection=e.Scroll=e.Overlays=e.Event=e.Core=e.default=e.Border=e.TopLeftCornerOverlay=e.TopOverlay=e.LeftOverlay=e.DebugOverlay=e.RowFilter=e.ColumnFilter=e.CellRange=e.CellCoords=e.ViewportRowsCalculator=e.ViewportColumnsCalculator=void 0,n(96),n(113),n(122),n(123),n(107),n(121),n(104),n(105),n(106),n(95),n(118),n(116),n(114),n(119),n(120),n(115),n(117),n(108),n(109),n(110),n(112),n(111),n(93),n(94),n(89),n(92),n(91),n(90),n(68),n(98),n(99),n(101),n(100),n(97),n(103),n(102),n(124),n(127),n(125),n(126),n(129),n(128),n(131),n(130);var o=S(n(135)),r=S(n(136)),i=S(n(42)),a=S(n(69)),s=S(n(139)),l=S(n(140)),u=S(n(185)),c=S(n(186)),h=S(n(187)),d=S(n(188)),f=S(n(134)),p=S(n(137)),g=S(n(138)),v=S(n(141)),m=S(n(142)),y=S(n(189)),w=S(n(143)),b=S(n(144)),C=S(n(145)),k=S(n(146));function S(t){return t&&t.__esModule?t:{default:t}}e.ViewportColumnsCalculator=o.default,e.ViewportRowsCalculator=r.default,e.CellCoords=i.default,e.CellRange=a.default,e.ColumnFilter=s.default,e.RowFilter=l.default,e.DebugOverlay=u.default,e.LeftOverlay=c.default,e.TopOverlay=h.default,e.TopLeftCornerOverlay=d.default,e.Border=f.default,e.default=p.default,e.Core=p.default,e.Event=g.default,e.Overlays=v.default,e.Scroll=m.default,e.Selection=y.default,e.Settings=w.default,e.Table=b.default,e.TableRenderer=C.default,e.Viewport=k.default},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(2),i=n(1),a=n(153),s=n(5),l=new WeakMap,u=null,c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,r.defineGetter)(this,"hot",e,{writable:!1}),(0,r.defineGetter)(this,"t",(0,a.getTranslator)(e),{writable:!1}),l.set(this,{hooks:{}}),u=null,this.pluginName=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return n.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(){return n.onUpdateSettings()}),this.hot.addHook("beforeInit",function(){return n.init()})}return o(t,[{key:"init",value:function(){this.pluginName=(0,s.getPluginName)(this.hot,this),this.isEnabled&&this.isEnabled()&&this.enablePlugin(),u||(u=(0,s.getRegistredPluginNames)(this.hot)),u.indexOf(this.pluginName)>=0&&u.splice(u.indexOf(this.pluginName),1),u.length||this.hot.runHooks("afterPluginsInitialized"),this.initialized=!0}},{key:"enablePlugin",value:function(){this.enabled=!0}},{key:"disablePlugin",value:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1}},{key:"addHook",value:function(t,e){l.get(this).hooks[t]=l.get(this).hooks[t]||[];var n=l.get(this).hooks[t];this.hot.addHook(t,e),n.push(e),l.get(this).hooks[t]=n}},{key:"removeHooks",value:function(t){var e=this;(0,i.arrayEach)(l.get(this).hooks[t]||[],function(n){e.hot.removeHook(t,n)})}},{key:"clearHooks",value:function(){var t=this,e=l.get(this).hooks;(0,r.objectEach)(e,function(e,n){return t.removeHooks(n)}),e.length=0}},{key:"callOnPluginsReady",value:function(t){this.isPluginsReady?t():this.pluginsInitializedCallbacks.push(t)}},{key:"onAfterPluginsInitialized",value:function(){(0,i.arrayEach)(this.pluginsInitializedCallbacks,function(t){return t()}),this.pluginsInitializedCallbacks.length=0,this.isPluginsReady=!0}},{key:"onUpdateSettings",value:function(){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&this.updatePlugin())}},{key:"updatePlugin",value:function(){}},{key:"destroy",value:function(){var t=this;this.eventManager&&this.eventManager.destroy(),this.clearHooks(),(0,r.objectEach)(this,function(e,n){"hot"!==n&&"t"!==n&&(t[n]=null)}),delete this.t,delete this.hot}}]),t}();e.default=c},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";e.__esModule=!0,e.getRegisteredEditors=e.getRegisteredEditorNames=e.hasEditor=e.getEditorInstance=e.getEditor=e.registerEditor=void 0,e.RegisteredEditor=x,e._getEditorInstance=T;var o=v(n(51)),r=v(n(8)),i=v(n(36)),a=v(n(147)),s=v(n(202)),l=v(n(203)),u=v(n(204)),c=v(n(148)),h=v(n(205)),d=v(n(206)),f=v(n(207)),p=v(n(208)),g=v(n(43));function v(t){return t&&t.__esModule?t:{default:t}}var m=new WeakMap,y=(0,o.default)("editors"),w=y.register,b=y.getItem,C=y.hasItem,k=y.getNames,S=y.getValues;function x(t){var e={},n=t;this.getConstructor=function(){return t},this.getInstance=function(t){return t.guid in e||(e[t.guid]=new n(t)),e[t.guid]},r.default.getSingleton().add("afterDestroy",function(){e={}})}function T(t,e){var n=void 0;if("function"==typeof t)m.get(t)||O(null,t),n=m.get(t);else{if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter');n=b(t)}if(!n)throw Error('No editor registered under name "'+t+'"');return n.getInstance(e)}function O(t,e){var n=new x(e);"string"==typeof t&&w(t,n),m.set(e,n)}O("base",i.default),O("autocomplete",a.default),O("checkbox",s.default),O("date",l.default),O("dropdown",u.default),O("handsontable",c.default),O("mobile",h.default),O("numeric",d.default),O("password",f.default),O("select",p.default),O("text",g.default),e.registerEditor=O,e.getEditor=function(t){if(!C(t))throw Error('No registered editor found under "'+t+'" name');return b(t).getConstructor()},e.getEditorInstance=T,e.hasEditor=C,e.getRegisteredEditorNames=k,e.getRegisteredEditors=S},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";e.__esModule=!0,e.KEY_CODES=void 0,e.isPrintableChar=function(t){return 32==t||t>=48&&t<=57||t>=96&&t<=111||t>=186&&t<=192||t>=219&&t<=222||t>=226||t>=65&&t<=90},e.isMetaKey=function(t){return-1!==[r.ARROW_DOWN,r.ARROW_UP,r.ARROW_LEFT,r.ARROW_RIGHT,r.HOME,r.END,r.DELETE,r.BACKSPACE,r.F1,r.F2,r.F3,r.F4,r.F5,r.F6,r.F7,r.F8,r.F9,r.F10,r.F11,r.F12,r.TAB,r.PAGE_DOWN,r.PAGE_UP,r.ENTER,r.ESCAPE,r.SHIFT,r.CAPS_LOCK,r.ALT].indexOf(t)},e.isCtrlKey=function(t){return-1!==[r.CONTROL_LEFT,224,r.COMMAND_LEFT,r.COMMAND_RIGHT].indexOf(t)},e.isKey=function(t,e){var n=e.split("|"),i=!1;return(0,o.arrayEach)(n,function(e){if(t===r[e])return i=!0,!1}),i};var o=n(1),r=e.KEY_CODES={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86}},function(t,e,n){"use strict";e.__esModule=!0,e.normalizeSelection=function(t){return{start:t.getTopLeftCorner(),end:t.getBottomRightCorner()}},e.isSeparator=function(t){return(0,r.hasClass)(t,"htSeparator")},e.hasSubMenu=function(t){return(0,r.hasClass)(t,"htSubmenu")},e.isDisabled=function(t){return(0,r.hasClass)(t,"htDisabled")},e.isSelectionDisabled=function(t){return(0,r.hasClass)(t,"htSelectionDisabled")},e.getValidSelection=function(t){var e=t.getSelected();return e?e[0]<0?null:e:null},e.prepareVerticalAlignClass=a,e.prepareHorizontalAlignClass=s,e.getAlignmentClasses=function(t,e){for(var n={},o=t.from.row;o<=t.to.row;o++)for(var r=t.from.col;r<=t.to.col;r++)n[o]||(n[o]=[]),n[o][r]=e(o,r);return n},e.align=function(t,e,n,o,r){if(t.from.row==t.to.row&&t.from.col==t.to.col)l(t.from.row,t.from.col,e,n,o,r);else for(var i=t.from.row;i<=t.to.row;i++)for(var a=t.from.col;a<=t.to.col;a++)l(i,a,e,n,o,r)},e.checkSelectionConsistency=function(t,e){var n=!1;return t&&t.forAll(function(t,o){if(e(t,o))return n=!0,!1}),n},e.markLabelAsSelected=function(t){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+t},e.isItemHidden=function(t,e){return!t.hidden||!("function"==typeof t.hidden&&t.hidden.call(e))},e.filterSeparators=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.KEY,n=t.slice(0);return function(t){var e=[];return(0,o.arrayEach)(t,function(t,n){n>0?e[e.length-1].name!==t.name&&e.push(t):e.push(t)}),e}(n=function(t,e){var n=t.slice(0);return n.reverse(),(n=u(n,e)).reverse(),n}(n=u(n,e),e))};var o=n(1),r=n(0),i=n(70);function a(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),t+=" "+e)}function s(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),t+=" "+e)}function l(t,e,n,o,r,i){var l=r(t,e),u=o;l.className&&(u="vertical"===n?a(l.className,o):s(l.className,o)),i(t,e,"className",u)}function u(t,e){for(var n=t.slice(0);0<n.length&&n[0].name===e;)n.shift();return n}},function(t,e,n){var o=n(15);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var o=n(18),r=n(160),i=n(85),a=Object.defineProperty;e.f=n(21)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function r(t){return void 0===t}e.stringify=function(t){var e=void 0;switch(void 0===t?"undefined":o(t)){case"string":case"number":e=""+t;break;case"object":e=null===t?"":t.toString();break;case"undefined":e="";break;default:e=t.toString()}return e},e.isDefined=function(t){return void 0!==t},e.isUndefined=r,e.isEmpty=function(t){return null===t||""===t||r(t)},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},function(t,e,n){t.exports=!n(31)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var o=n(76),r=n(30);t.exports=function(t){return o(r(t))}},function(t,e,n){var o=n(61),r=Math.min;t.exports=function(t){return t>0?r(o(t),9007199254740991):0}},function(t,e,n){"use strict";e.__esModule=!0,e.isIE8=function(){return o},e.isIE9=function(){return r},e.isSafari=function(){return i},e.isChrome=function(){return a},e.isMobileBrowser=function(t){return t||(t=navigator.userAgent),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)};var o=!document.createTextNode("test").textContent,r=!!document.documentMode,i=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),a=/Chrome/.test(navigator.userAgent)&&/Google/.test(navigator.vendor)},function(t,e,n){"use strict";e.__esModule=!0,e.getRegisteredValidators=e.getRegisteredValidatorNames=e.hasValidator=e.getValidator=e.registerValidator=void 0;var o=l(n(51)),r=l(n(271)),i=l(n(272)),a=l(n(273)),s=l(n(274));function l(t){return t&&t.__esModule?t:{default:t}}var u=(0,o.default)("validators"),c=u.register,h=u.getItem,d=u.hasItem,f=u.getNames,p=u.getValues;c("autocomplete",r.default),c("date",i.default),c("numeric",a.default),c("time",s.default),e.registerValidator=c,e.getValidator=function(t){if("function"==typeof t)return t;if(!d(t))throw Error('No registered validator found under "'+t+'" name');return h(t)},e.hasValidator=d,e.getRegisteredValidatorNames=f,e.getRegisteredValidators=p},function(t,e,n){"use strict";e.__esModule=!0,e.toUpperCaseFirst=function(t){return t[0].toUpperCase()+t.substr(1)},e.equalsIgnoreCase=function(){for(var t=[],e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=n.length;i--;){var a=(0,o.stringify)(n[i]).toLowerCase();-1===t.indexOf(a)&&t.push(a)}return 1===t.length},e.randomString=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()},e.isPercentValue=function(t){return/^([0-9][0-9]?%$)|(^100%$)/.test(t)},e.substitute=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(""+t).replace(/(?:\\)?\[([^[\]]+)]/g,function(t,n){return"\\"===t.charAt(0)?t.substr(1,t.length-1):void 0===e[n]?"":e[n]})},e.stripTags=function(t){return(t+="").replace(r,"")};var o=n(20);n(6);var r=/<\/?\w+\/?>|<\w+[\s|\/][^>]*>/gi},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),i=n(2),a=n(1),s=u(n(4)),l=u(n(137));function u(t){return t&&t.__esModule?t:{default:t}}var c={},h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(0,i.defineGetter)(this,"wot",e,{writable:!1}),this.instance=this.wot,this.type="",this.mainTableScrollableElement=null,this.TABLE=this.wot.wtTable.TABLE,this.hider=this.wot.wtTable.hider,this.spreader=this.wot.wtTable.spreader,this.holder=this.wot.wtTable.holder,this.wtRootElement=this.wot.wtTable.wtRootElement,this.trimmingContainer=(0,r.getTrimmingContainer)(this.hider.parentNode.parentNode),this.areElementSizesAdjusted=!1,this.updateStateOfRendering()}return o(t,null,[{key:"registerOverlay",value:function(e,n){if(-1===t.CLONE_TYPES.indexOf(e))throw new Error("Unsupported overlay ("+e+").");c[e]=n}},{key:"createOverlay",value:function(t,e){return new c[t](e)}},{key:"hasOverlay",value:function(t){return void 0!==c[t]}},{key:"isOverlayTypeOf",value:function(t,e){return!(!t||!c[e])&&t instanceof c[e]}},{key:"CLONE_TOP",get:function(){return"top"}},{key:"CLONE_BOTTOM",get:function(){return"bottom"}},{key:"CLONE_LEFT",get:function(){return"left"}},{key:"CLONE_TOP_LEFT_CORNER",get:function(){return"top_left_corner"}},{key:"CLONE_BOTTOM_LEFT_CORNER",get:function(){return"bottom_left_corner"}},{key:"CLONE_DEBUG",get:function(){return"debug"}},{key:"CLONE_TYPES",get:function(){return[t.CLONE_TOP,t.CLONE_BOTTOM,t.CLONE_LEFT,t.CLONE_TOP_LEFT_CORNER,t.CLONE_BOTTOM_LEFT_CORNER,t.CLONE_DEBUG]}}]),o(t,[{key:"updateStateOfRendering",value:function(){var t=this.needFullRender;this.needFullRender=this.shouldBeRendered();var e=t!==this.needFullRender;return e&&!this.needFullRender&&this.reset(),e}},{key:"shouldBeRendered",value:function(){return!0}},{key:"updateTrimmingContainer",value:function(){this.trimmingContainer=(0,r.getTrimmingContainer)(this.hider.parentNode.parentNode)}},{key:"updateMainScrollableElement",value:function(){this.mainTableScrollableElement=(0,r.getScrollableElement)(this.wot.wtTable.TABLE)}},{key:"makeClone",value:function(e){if(-1===t.CLONE_TYPES.indexOf(e))throw new Error('Clone type "'+e+'" is not supported.');var n=document.createElement("DIV"),o=document.createElement("TABLE");n.className="ht_clone_"+e+" handsontable",n.style.position="absolute",n.style.top=0,n.style.left=0,n.style.overflow="hidden",o.className=this.wot.wtTable.TABLE.className,n.appendChild(o),this.type=e,this.wot.wtTable.wtRootElement.parentNode.appendChild(n);var i=this.wot.getSetting("preventOverflow");return!0===i||"horizontal"===i&&this.type===t.CLONE_TOP||"vertical"===i&&this.type===t.CLONE_LEFT?this.mainTableScrollableElement=window:this.mainTableScrollableElement=(0,r.getScrollableElement)(this.wot.wtTable.TABLE),new l.default({cloneSource:this.wot,cloneOverlay:this,table:o})}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.shouldBeRendered();this.clone&&(this.needFullRender||e)&&this.clone.draw(t),this.needFullRender=e}},{key:"reset",value:function(){if(this.clone){var t=this.clone.wtTable.holder,e=this.clone.wtTable.hider,n=t.style,o=e.style,r=t.parentNode.style;(0,a.arrayEach)([n,o,r],function(t){t.width="",t.height=""})}}},{key:"destroy",value:function(){new s.default(this.clone).destroy()}}]),t}();e.default=h},function(t,e,n){var o=n(71);t.exports=function(t,e,n){if(o(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,o){return t.call(e,n,o)};case 3:return function(n,o,r){return t.call(e,n,o,r)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var o=n(19),r=n(40);t.exports=n(21)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var o=n(13),r=n(32),i=n(22),a=n(49)("src"),s=Function.toString,l=(""+s).split("toString");n(44).inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(i(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(i(n,a)||r(n,a,t[e]?""+t[e]:l.join(String(e)))),t===o?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.requestAnimationFrame=function(t){return s.call(window,t)},e.cancelAnimationFrame=function(t){l.call(window,t)},e.isTouchSupported=function(){return"ontouchstart"in window},e.isWebComponentSupportedNatively=function(){var t=document.createElement("div");return!(!t.createShadowRoot||!t.createShadowRoot.toString().match(/\[native code\]/))},e.hasCaptionProblem=function(){return void 0===r&&function(){var t=document.createElement("TABLE");t.style.borderSpacing=0,t.style.borderWidth=0,t.style.padding=0;var e=document.createElement("TBODY");t.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var n=document.createElement("CAPTION");n.innerHTML="c<br>c<br>c<br>c",n.style.padding=0,n.style.margin=0,t.insertBefore(n,e),document.body.appendChild(t),r=t.offsetHeight<2*t.lastChild.offsetHeight,document.body.removeChild(t)}(),r},e.getComparisonFunction=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c||(c="object"===("undefined"==typeof Intl?"undefined":o(Intl))?new Intl.Collator(t,e).compare:"function"==typeof String.prototype.localeCompare?function(t,e){return(""+t).localeCompare(e)}:function(t,e){return t===e?0:t>e?-1:1})};for(var r,i=0,a=["ms","moz","webkit","o"],s=window.requestAnimationFrame,l=window.cancelAnimationFrame,u=0;u<a.length&&!s;++u)s=window[a[u]+"RequestAnimationFrame"],l=window[a[u]+"CancelAnimationFrame"]||window[a[u]+"CancelRequestAnimationFrame"];s||(s=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-i)),o=window.setTimeout(function(){t(e+n)},n);return i=e+n,o}),l||(l=function(t){clearTimeout(t)});var c=void 0},function(t,e,n){"use strict";e.__esModule=!0,e.isFunction=function(t){return"function"==typeof t},e.throttle=r,e.throttleAfterHits=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=r(t,e),i=n;function a(){return i?(i--,t.apply(this,arguments)):o.apply(this,arguments)}return a.clearHits=function(){i=n},a},e.debounce=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=null,o=void 0;return function(){var r=this,i=arguments;return n&&clearTimeout(n),n=setTimeout(function(){o=t.apply(r,i)},e),o}},e.pipe=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[0],i=e.slice(1);return function(){return(0,o.arrayReduce)(i,function(t,e){return e(t)},r.apply(this,arguments))}},e.partial=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];return function(){for(var e=arguments.length,o=Array(e),r=0;r<e;r++)o[r]=arguments[r];return t.apply(this,n.concat(o))}},e.curry=function(t){var e=t.length;return function n(o){return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=o.concat(i);return s.length>=e?t.apply(this,s):n(s)}}([])},e.curryRight=function(t){var e=t.length;return function n(o){return function(){for(var r=arguments.length,i=Array(r),a=0;a<r;a++)i[a]=arguments[a];var s=o.concat(i.reverse());return s.length>=e?t.apply(this,s):n(s)}}([])};var o=n(1);function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=0,o={lastCallThrottled:!0},r=null;return function(){var i=this,a=arguments,s=Date.now(),l=!1;o.lastCallThrottled=!0,n||(n=s,l=!0);var u=e-(s-n);return l?(o.lastCallThrottled=!1,t.apply(this,a)):(r&&clearTimeout(r),r=setTimeout(function(){o.lastCallThrottled=!1,t.apply(i,a),n=0,r=void 0},u)),o}}},function(t,e,n){"use strict";e.__esModule=!0,e.EditorState=void 0;var o=n(11),r=n(20),i=e.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"};function a(t){this.instance=t,this.state=i.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.init()}a.prototype._fireCallbacks=function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)},a.prototype.init=function(){},a.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},a.prototype.setValue=function(t){throw Error("Editor setValue() method unimplemented")},a.prototype.open=function(){throw Error("Editor open() method unimplemented")},a.prototype.close=function(){throw Error("Editor close() method unimplemented")},a.prototype.prepare=function(t,e,n,o,r,a){this.TD=o,this.row=t,this.col=e,this.prop=n,this.originalValue=r,this.cellProperties=a;var s=!document.activeElement||document.activeElement&&void 0===document.activeElement.nodeName;this.instance.view.isMouseDown()&&document.activeElement&&document.activeElement!==document.body&&!s?document.activeElement.blur():s&&document.body.focus(),this.state=i.VIRGIN},a.prototype.extend=function(){var t=this.constructor;return function(t,e){function n(){}return n.prototype=e.prototype,(t.prototype=new n).constructor=t,t}(function(){t.apply(this,arguments)},t)},a.prototype.saveValue=function(t,e){var n=void 0,o=void 0;e?((n=this.instance.getSelected())[0]>n[2]&&(o=n[0],n[0]=n[2],n[2]=o),n[1]>n[3]&&(o=n[1],n[1]=n[3],n[3]=o)):n=[this.row,this.col,null,null],this.instance.populateFromArray(n[0],n[1],t,n[2],n[3],"edit")},a.prototype.beginEditing=function(t,e){this.state==i.VIRGIN&&(this.instance.view.scrollViewport(new o.CellCoords(this.row,this.col)),this.instance.view.render(),this.state=i.EDITING,t="string"==typeof t?t:this.originalValue,this.setValue((0,r.stringify)(t)),this.open(e),this._opened=!0,this.focus(),this.instance.view.render(),this.instance.runHooks("afterBeginEditing",this.row,this.col))},a.prototype.finishEditing=function(t,e,n){var o,r=this;if(n){var a=this._closeCallback;this._closeCallback=function(t){a&&a(t),n(t),r.instance.view.render()}}if(!this.isWaiting())if(this.state!=i.VIRGIN){if(this.state==i.EDITING){if(t)return this.cancelChanges(),void this.instance.view.render();var s=this.getValue();o=this.instance.getSettings().trimWhitespace?[["string"==typeof s?String.prototype.trim.call(s||""):s]]:[[s]],this.state=i.WAITING,this.saveValue(o,e),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(t){r.state=i.FINISHED,r.discardEditor(t)}):(this.state=i.FINISHED,this.discardEditor(!0))}}else this.instance._registerTimeout(setTimeout(function(){r._fireCallbacks(!0)},0))},a.prototype.cancelChanges=function(){this.state=i.FINISHED,this.discardEditor()},a.prototype.discardEditor=function(t){this.state===i.FINISHED&&(!1===t&&!0!==this.cellProperties.allowInvalid?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=i.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=i.VIRGIN,this._fireCallbacks(!0)))},a.prototype.enableFullEditMode=function(){this._fullEditMode=!0},a.prototype.isInFullEditMode=function(){return this._fullEditMode},a.prototype.isOpened=function(){return this._opened},a.prototype.isWaiting=function(){return this.state===i.WAITING},a.prototype.checkEditorSection=function(){var t=this.instance.countRows(),e="";return this.row<this.instance.getSettings().fixedRowsTop?e=this.col<this.instance.getSettings().fixedColumnsLeft?"top-left-corner":"top":this.instance.getSettings().fixedRowsBottom&&this.row>=t-this.instance.getSettings().fixedRowsBottom?e=this.col<this.instance.getSettings().fixedColumnsLeft?"bottom-left-corner":"bottom":this.col<this.instance.getSettings().fixedColumnsLeft&&(e="left"),e},e.default=a},function(t,e,n){var o=n(10)("unscopables"),r=Array.prototype;null==r[o]&&n(32)(r,o,{}),t.exports=function(t){r[o][t]=!0}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var o=n(169),r=n(74);t.exports=Object.keys||function(t){return o(t,r)}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var o=n(30);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),void 0!==e&&void 0!==n?(this.row=e,this.col=n):(this.row=null,this.col=null)}return o(t,[{key:"isValid",value:function(t){return!(this.row<0||this.col<0||this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns"))}},{key:"isEqual",value:function(t){return t===this||this.row===t.row&&this.col===t.col}},{key:"isSouthEastOf",value:function(t){return this.row>=t.row&&this.col>=t.col}},{key:"isNorthWestOf",value:function(t){return this.row<=t.row&&this.col<=t.col}},{key:"isSouthWestOf",value:function(t){return this.row>=t.row&&this.col<=t.col}},{key:"isNorthEastOf",value:function(t){return this.row<=t.row&&this.col>=t.col}}]),t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var o=n(0),r=c(n(183)),i=n(36),a=c(i),s=c(n(4)),l=n(16),u=n(7);function c(t){return t&&t.__esModule?t:{default:t}}var h=a.default.prototype.extend();h.prototype.init=function(){var t=this;this.createElements(),this.eventManager=new s.default(this),this.bindEvents(),this.autoResize=(0,r.default)(),this.instance.addHook("afterDestroy",function(){t.destroy()})},h.prototype.getValue=function(){return this.TEXTAREA.value},h.prototype.setValue=function(t){this.TEXTAREA.value=t};var d=function(t){var e,n=this.getActiveEditor();if(e=(t.ctrlKey||t.metaKey)&&!t.altKey,t.target===n.TEXTAREA&&!(0,u.isImmediatePropagationStopped)(t))if(17!==t.keyCode&&224!==t.keyCode&&91!==t.keyCode&&93!==t.keyCode){switch(t.keyCode){case l.KEY_CODES.ARROW_RIGHT:case l.KEY_CODES.ARROW_LEFT:n.isInFullEditMode()&&(!n.isWaiting()&&!n.allowKeyEventPropagation||!n.isWaiting()&&n.allowKeyEventPropagation&&!n.allowKeyEventPropagation(t.keyCode))&&(0,u.stopImmediatePropagation)(t);break;case l.KEY_CODES.ARROW_UP:case l.KEY_CODES.ARROW_DOWN:n.isInFullEditMode()&&(!n.isWaiting()&&!n.allowKeyEventPropagation||!n.isWaiting()&&n.allowKeyEventPropagation&&!n.allowKeyEventPropagation(t.keyCode))&&(0,u.stopImmediatePropagation)(t);break;case l.KEY_CODES.ENTER:var r=n.instance.getSelected(),i=!(r[0]===r[2]&&r[1]===r[3]);if(e&&!i||t.altKey){if(n.isOpened()){var a=(0,o.getCaretPosition)(n.TEXTAREA),s=n.getValue(),c=s.slice(0,a)+"\n"+s.slice(a);n.setValue(c),(0,o.setCaretPosition)(n.TEXTAREA,a+1)}else n.beginEditing(n.originalValue+"\n");(0,u.stopImmediatePropagation)(t)}t.preventDefault();break;case l.KEY_CODES.A:case l.KEY_CODES.X:case l.KEY_CODES.C:case l.KEY_CODES.V:e&&(0,u.stopImmediatePropagation)(t);break;case l.KEY_CODES.BACKSPACE:case l.KEY_CODES.DELETE:case l.KEY_CODES.HOME:case l.KEY_CODES.END:(0,u.stopImmediatePropagation)(t)}-1===[l.KEY_CODES.ARROW_UP,l.KEY_CODES.ARROW_RIGHT,l.KEY_CODES.ARROW_DOWN,l.KEY_CODES.ARROW_LEFT].indexOf(t.keyCode)&&n.autoResize.resize(String.fromCharCode(t.keyCode))}else(0,u.stopImmediatePropagation)(t)};h.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",d)},h.prototype.close=function(t){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",d)},h.prototype.focus=function(){this.TEXTAREA.focus(),(0,o.setCaretPosition)(this.TEXTAREA,this.TEXTAREA.value.length)},h.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),(0,o.addClass)(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),(0,o.addClass)(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var t=this;this.instance._registerTimeout(setTimeout(function(){t.refreshDimensions()},0))},h.prototype.getEditedCell=function(){var t;switch(this.checkEditorSection()){case"top":t=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"top-left-corner":t=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"bottom-left-corner":t=this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":t=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;case"bottom":t=this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=t&&-2!=t?t:void 0},h.prototype.refreshValue=function(){var t=this.instance.getSourceDataAtCell(this.row,this.prop);this.originalValue=t,this.setValue(t),this.refreshDimensions()},h.prototype.refreshDimensions=function(){if(this.state===i.EditorState.EDITING)if(this.TD=this.getEditedCell(),this.TD){var t,e=(0,o.offset)(this.TD),n=(0,o.offset)(this.instance.rootElement),r=(0,o.getScrollableElement)(this.TD),a=this.instance.countRows(),s=e.top===n.top?0:1,l=e.top-n.top-s-(r.scrollTop||0),u=e.left-n.left-1-(r.scrollLeft||0),c=this.instance.getSettings(),h=(this.instance.hasRowHeaders(),this.instance.hasColHeaders()),d=this.checkEditorSection(),f=this.TD.style.backgroundColor;switch(d){case"top":t=(0,o.getCssTransform)(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":t=(0,o.getCssTransform)(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":t=(0,o.getCssTransform)(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":t=(0,o.getCssTransform)(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":t=(0,o.getCssTransform)(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}(h&&0===this.instance.getSelected()[0]||c.fixedRowsBottom&&this.instance.getSelected()[0]===a-c.fixedRowsBottom)&&(l+=1),0===this.instance.getSelected()[1]&&(u+=1),t&&-1!=t?this.textareaParentStyle[t[0]]=t[1]:(0,o.resetCssTransform)(this.TEXTAREA_PARENT),this.textareaParentStyle.top=l+"px",this.textareaParentStyle.left=u+"px";var p=this.instance.view.wt.wtViewport.rowsRenderCalculator.startPosition,g=this.instance.view.wt.wtViewport.columnsRenderCalculator.startPosition,v=this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(),m=this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(),y=(0,o.getScrollbarWidth)(),w=this.TD.offsetTop+p-m,b=this.TD.offsetLeft+g-v,C=(0,o.innerWidth)(this.TD)-8,k=(0,o.hasVerticalScrollbar)(r)?y:0,S=(0,o.hasHorizontalScrollbar)(r)?y:0,x=this.instance.view.maximumVisibleElementWidth(b)-9-k,T=this.TD.scrollHeight+1,O=Math.max(this.instance.view.maximumVisibleElementHeight(w)-S,23),R=(0,o.getComputedStyle)(this.TD);this.TEXTAREA.style.fontSize=R.fontSize,this.TEXTAREA.style.fontFamily=R.fontFamily,this.TEXTAREA.style.backgroundColor="",this.TEXTAREA.style.backgroundColor=f||(0,o.getComputedStyle)(this.TEXTAREA).backgroundColor,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(T,O),maxHeight:O,minWidth:Math.min(C,x),maxWidth:x},!0),this.textareaParentStyle.display="block"}else this.close(!0)},h.prototype.bindEvents=function(){var t=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(t){(0,u.stopPropagation)(t)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(t){(0,u.stopPropagation)(t)}),this.instance.addHook("afterScrollHorizontally",function(){t.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){t.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){t.refreshDimensions(),t.focus()}),this.instance.addHook("afterRowResize",function(){t.refreshDimensions(),t.focus()}),this.instance.addHook("afterDestroy",function(){t.eventManager.destroy()})},h.prototype.destroy=function(){this.eventManager.destroy()},e.default=h},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports={}},function(t,e,n){var o=n(49)("meta"),r=n(15),i=n(22),a=n(19).f,s=0,l=Object.isExtensible||function(){return!0},u=!n(31)(function(){return l(Object.preventExtensions({}))}),c=function(t){a(t,o,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:o,NEED:!1,fastKey:function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,o)){if(!l(t))return"F";if(!e)return"E";c(t)}return t[o].i},getWeak:function(t,e){if(!i(t,o)){if(!l(t))return!0;if(!e)return!1;c(t)}return t[o].w},onFreeze:function(t){return u&&h.NEED&&l(t)&&!i(t,o)&&c(t),t}}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(19).f,r=n(22),i=n(10)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},function(t,e){var n=0,o=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+o).toString(36))}},function(t,e,n){"use strict";var o;e.__esModule=!0,e.ITEMS=e.UNDO=e.SEPARATOR=e.ROW_BELOW=e.ROW_ABOVE=e.REMOVE_ROW=e.REMOVE_COLUMN=e.REDO=e.READ_ONLY=e.COLUMN_RIGHT=e.COLUMN_LEFT=e.CLEAR_COLUMN=e.ALIGNMENT=void 0;var r=n(223);Object.defineProperty(e,"ALIGNMENT",{enumerable:!0,get:function(){return r.KEY}});var i=n(224);Object.defineProperty(e,"CLEAR_COLUMN",{enumerable:!0,get:function(){return i.KEY}});var a=n(225);Object.defineProperty(e,"COLUMN_LEFT",{enumerable:!0,get:function(){return a.KEY}});var s=n(226);Object.defineProperty(e,"COLUMN_RIGHT",{enumerable:!0,get:function(){return s.KEY}});var l=n(227);Object.defineProperty(e,"READ_ONLY",{enumerable:!0,get:function(){return l.KEY}});var u=n(228);Object.defineProperty(e,"REDO",{enumerable:!0,get:function(){return u.KEY}});var c=n(229);Object.defineProperty(e,"REMOVE_COLUMN",{enumerable:!0,get:function(){return c.KEY}});var h=n(230);Object.defineProperty(e,"REMOVE_ROW",{enumerable:!0,get:function(){return h.KEY}});var d=n(231);Object.defineProperty(e,"ROW_ABOVE",{enumerable:!0,get:function(){return d.KEY}});var f=n(232);Object.defineProperty(e,"ROW_BELOW",{enumerable:!0,get:function(){return f.KEY}});var p=n(70);Object.defineProperty(e,"SEPARATOR",{enumerable:!0,get:function(){return p.KEY}});var g=n(233);Object.defineProperty(e,"UNDO",{enumerable:!0,get:function(){return g.KEY}}),e.predefinedItems=function(){var t={};return(0,v.objectEach)(P,function(e,n){t[n]=e()}),t},e.addItem=function(t,e){-1===A.indexOf(t)&&(P[t]=e)};var v=n(2),m=M(r),y=M(i),w=M(a),b=M(s),C=M(l),k=M(u),S=M(c),x=M(h),T=M(d),O=M(f),R=M(p),E=M(g);function M(t){return t&&t.__esModule?t:{default:t}}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=e.ITEMS=[d.KEY,f.KEY,a.KEY,s.KEY,i.KEY,h.KEY,c.KEY,g.KEY,u.KEY,l.KEY,r.KEY,p.KEY],P=(_(o={},p.KEY,R.default),_(o,d.KEY,T.default),_(o,f.KEY,O.default),_(o,a.KEY,w.default),_(o,s.KEY,b.default),_(o,i.KEY,y.default),_(o,h.KEY,x.default),_(o,c.KEY,S.default),_(o,g.KEY,E.default),_(o,u.KEY,k.default),_(o,l.KEY,C.default),_(o,r.KEY,m.default),o)},function(t,e,n){"use strict";function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}e.__esModule=!0,e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common";r.has(t)||r.set(t,new Map);var e=r.get(t);return{register:function(t,n){e.set(t,n)},getItem:function(t){return e.get(t)},hasItem:function(t){return e.has(t)},getNames:function(){return[].concat(o(e.keys()))},getValues:function(){return[].concat(o(e.values()))}}};var r=e.collection=new Map},function(t,e){t.exports=function(t,e,n,o){if(!(t instanceof e)||void 0!==o&&o in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var o=n(29),r=n(76),i=n(41),a=n(24),s=n(278);t.exports=function(t,e){var n=1==t,l=2==t,u=3==t,c=4==t,h=6==t,d=5==t||h,f=e||s;return function(e,s,p){for(var g,v,m=i(e),y=r(m),w=o(s,p,3),b=a(y.length),C=0,k=n?f(e,b):l?f(e,0):void 0;b>C;C++)if((d||C in y)&&(v=w(g=y[C],C,m),t))if(n)k[C]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return C;case 2:k.push(g)}else if(c)return!1;return h?-1:u||c?c:k}}},function(t,e,n){"use strict";var o=n(13),r=n(3),i=n(33),a=n(59),s=n(46),l=n(56),u=n(52),c=n(15),h=n(31),d=n(77),f=n(48),p=n(281);t.exports=function(t,e,n,g,v,m){var y=o[t],w=y,b=v?"set":"add",C=w&&w.prototype,k={},S=function(t){var e=C[t];i(C,t,"delete"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!c(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!c(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof w&&(m||C.forEach&&!h(function(){(new w).entries().next()}))){var x=new w,T=x[b](m?{}:-0,1)!=x,O=h(function(){x.has(1)}),R=d(function(t){new w(t)}),E=!m&&h(function(){for(var t=new w,e=5;e--;)t[b](e,e);return!t.has(-0)});R||((w=e(function(e,n){u(e,w,t);var o=p(new y,e,w);return null!=n&&l(n,v,o[b],o),o})).prototype=C,C.constructor=w),(O||E)&&(S("delete"),S("has"),v&&S("get")),(E||T)&&S(b),m&&C.clear&&delete C.clear}else w=g.getConstructor(e,t,v,b),a(w.prototype,n),s.NEED=!0;return f(w,t),k[t]=w,r(r.G+r.W+r.F*(w!=y),k),m||g.setStrong(w,t,v),w}},function(t,e,n){"use strict";var o=n(32),r=n(33),i=n(31),a=n(30),s=n(10);t.exports=function(t,e,n){var l=s(t),u=n(a,l,""[t]),c=u[0],h=u[1];i(function(){var e={};return e[l]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,c),o(RegExp.prototype,l,2==e?function(t,e){return h.call(t,this,e)}:function(t){return h.call(t,this)}))}},function(t,e,n){var o=n(29),r=n(165),i=n(161),a=n(18),s=n(24),l=n(176),u={},c={};(e=t.exports=function(t,e,n,h,d){var f,p,g,v,m=d?function(){return t}:l(t),y=o(n,h,e?2:1),w=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(i(m)){for(f=s(t.length);f>w;w++)if((v=e?y(a(p=t[w])[0],p[1]):y(t[w]))===u||v===c)return v}else for(g=m.call(t);!(p=g.next()).done;)if((v=r(g,y,p.value,e))===u||v===c)return v}).BREAK=u,e.RETURN=c},function(t,e){t.exports=!1},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var o=n(33);t.exports=function(t,e,n){for(var r in e)o(t,r,e[r],n);return t}},function(t,e,n){var o=n(61),r=Math.max,i=Math.min;t.exports=function(t,e){return(t=o(t))<0?r(t+e,0):i(t,e)}},function(t,e){var n=Math.ceil,o=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?o:n)(t)}},function(e,n){e.exports=t},function(t,e,n){"use strict";e.__esModule=!0,e.getRegisteredCellTypes=e.getRegisteredCellTypeNames=e.hasCellType=e.getCellType=e.registerCellType=void 0;var o=v(n(51)),r=n(14),i=n(9),a=n(26),s=v(n(190)),l=v(n(191)),u=v(n(192)),c=v(n(193)),h=v(n(194)),d=v(n(195)),f=v(n(196)),p=v(n(197)),g=v(n(198));function v(t){return t&&t.__esModule?t:{default:t}}var m=(0,o.default)("cellTypes"),y=m.register,w=m.getItem,b=m.hasItem,C=m.getNames,k=m.getValues;function S(t,e){var n=e.editor,o=e.renderer,s=e.validator;n&&(0,r.registerEditor)(t,n),o&&(0,i.registerRenderer)(t,o),s&&(0,a.registerValidator)(t,s),y(t,e)}S("autocomplete",s.default),S("checkbox",l.default),S("date",u.default),S("dropdown",c.default),S("handsontable",h.default),S("numeric",d.default),S("password",f.default),S("text",p.default),S("time",g.default),e.registerCellType=S,e.getCellType=function(t){if(!b(t))throw Error('You declared cell type "'+t+'" as a string that is not mapped to a known object.\n                 Cell type must be an object or a string mapped to an object registered by "Handsontable.cellTypes.registerCellType" method');return w(t)},e.hasCellType=b,e.getRegisteredCellTypeNames=C,e.getRegisteredCellTypes=k},function(t,e,n){"use strict";e.__esModule=!0;var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t,e){var n,M,P,H,L,D,N=this,I=function(){},W=new f.default(N);(0,p.extend)(I.prototype,R.default.prototype),(0,p.extend)(I.prototype,e),(0,p.extend)(I.prototype,U(e)),this.rootElement=t,this.isHotTableEnv=(0,a.isChildOfWebComponentTable)(this.rootElement),f.default.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("DIV"),this.renderCall=!1,t.insertBefore(this.container,t.firstChild),this.guid="ht_"+(0,w.randomString)();var F=(0,x.getTranslator)(N);function B(){var t=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue++,t=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(t){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==t&&(t=!0,this.onQueueEmpty(this.valid))}}}function z(t,e,n){var o=new B;o.onQueueEmpty=function(){var o;t.length&&(o=N.runHooks("beforeChange",t,e),(0,l.isFunction)(o)?console.warn("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):!1===o&&t.splice(0,t.length)),n()};for(var r=t.length-1;r>=0;r--)if(null===t[r])t.splice(r,1);else{var s=t[r][0],c=M.propToCol(t[r][1]),h=N.getCellMeta(s,c);if("numeric"===h.type&&"string"==typeof t[r][3]&&t[r][3].length>0&&(/^-?[\d\s]*(\.|,)?\d*$/.test(t[r][3])||h.format)){var d=t[r][3].length;(0,u.isUndefined)(h.language)?i.default.culture("en-US"):t[r][3].indexOf(".")===d-3&&-1===t[r][3].indexOf(",")?i.default.culture("en-US"):i.default.culture(h.language),i.default.cultureData(i.default.culture()).delimiters,i.default.validate(t[r][3])&&!isNaN(t[r][3])?t[r][3]=parseFloat(t[r][3]):t[r][3]=(0,i.default)().unformat(t[r][3])||t[r][3]}N.getCellValidator(h)&&(o.addValidatorToQueue(),N.validateCell(t[r][3],h,function(e,n){return function(r){if("boolean"!=typeof r)throw new Error("Validation error: result is not boolean");if(!1===r&&!1===n.allowInvalid){t.splice(e,1),n.valid=!0;var i=N.getCell(n.row,n.col);(0,a.removeClass)(i,N.getSettings().invalidCellClassName),--e}o.removeValidatorFormQueue()}}(r,h),e))}o.checkIfQueueIsEmpty()}function V(t,e){var o=t.length-1;if(!(o<0)){for(;o>=0;o--){var r=!1;if(null!==t[o]){if(null!=t[o][2]||null!=t[o][3]){if(n.settings.allowInsertRow)for(;t[o][0]>N.countRows()-1;){if(0===M.createRow(void 0,void 0,e)){r=!0;break}}if(!r){if("array"===N.dataType&&(!n.settings.columns||0===n.settings.columns.length)&&n.settings.allowInsertColumn)for(;M.propToCol(t[o][1])>N.countCols()-1;)M.createCol(void 0,void 0,e);M.set(t[o][0],t[o][1],t[o][3])}}}else t.splice(o,1)}N.forceFullRender=!0,H.adjustRowsAndCols(),N.runHooks("beforeChangeRender",t,e),L.refreshBorders(null,!0),N.view.wt.wtOverlays.adjustElementsSize(),N.runHooks("afterChange",t,e||"edit");var i=N.getActiveEditor();i&&(0,u.isDefined)(i.refreshValue)&&i.refreshValue()}}function j(t,e,n){return"object"===(void 0===t?"undefined":r(t))?t:[[t,e,n]]}function U(t){if((0,p.hasOwnProperty)(t,"type")){var e,n={};for(var o in"object"===r(t.type)?e=t.type:"string"==typeof t.type&&(e=(0,E.getCellType)(t.type)),e)(0,p.hasOwnProperty)(e,o)&&!(0,p.hasOwnProperty)(t,o)&&(n[o]=e[o]);return n}}P=new k.default(N),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid),n={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new I,selRange:null,isPopulated:null,scrollable:null,firstRun:!0},H={alter:function(t,e,o,r,i){var a;function s(t,e,n,o){var r=(0,g.arrayMap)(new Array(n),function(){return function(){var t=void 0;return"array"===o?t=[]:"object"===o&&(t={}),t}()});r.unshift(e,0),t.splice.apply(t,_(r))}switch(o=o||1,t){case"insert_row":var l=N.countSourceRows();if(N.getSettings().maxRows===l)return;e=(0,u.isDefined)(e)?e:l,a=M.createRow(e,o,r),s(n.cellSettings,e,o,"array"),a&&(L.isSelected()&&n.selRange.from.row>=e?(n.selRange.from.row+=a,L.transformEnd(a,0)):L.refreshBorders());break;case"insert_col":a=M.createCol(e,o,r);for(var c=0,h=N.countSourceRows();c<h;c++)n.cellSettings[c]&&s(n.cellSettings[c],e,o);if(a){if(Array.isArray(N.getSettings().colHeaders)){var d=[e,0];d.length+=a,Array.prototype.splice.apply(N.getSettings().colHeaders,d)}L.isSelected()&&n.selRange.from.col>=e?(n.selRange.from.col+=a,L.transformEnd(0,a)):L.refreshBorders()}break;case"remove_row":M.removeRow(e,o,r),n.cellSettings.splice(e,o);var f=N.countRows(),p=N.getSettings().fixedRowsTop;p>=e+1&&(N.getSettings().fixedRowsTop-=Math.min(o,p-e));var v=N.getSettings().fixedRowsBottom;v&&e>=f-v&&(N.getSettings().fixedRowsBottom-=Math.min(o,v)),H.adjustRowsAndCols(),L.refreshBorders();break;case"remove_col":var m=F.toPhysicalColumn(e);M.removeCol(e,o,r);for(var y=0,w=N.countSourceRows();y<w;y++)n.cellSettings[y]&&n.cellSettings[y].splice(m,o);var b=N.getSettings().fixedColumnsLeft;b>=e+1&&(N.getSettings().fixedColumnsLeft-=Math.min(o,b-e)),Array.isArray(N.getSettings().colHeaders)&&(void 0===m&&(m=-1),N.getSettings().colHeaders.splice(m,o)),H.adjustRowsAndCols(),L.refreshBorders();break;default:throw new Error('There is no such action "'+t+'"')}i||H.adjustRowsAndCols()},adjustRowsAndCols:function(){if(n.settings.minRows){var t=N.countRows();if(t<n.settings.minRows)for(var e=0,o=n.settings.minRows;e<o-t;e++)M.createRow(N.countRows(),1,"auto")}if(n.settings.minSpareRows){var r=N.countEmptyRows(!0);if(r<n.settings.minSpareRows)for(;r<n.settings.minSpareRows&&N.countSourceRows()<n.settings.maxRows;r++)M.createRow(N.countRows(),1,"auto")}var i=void 0;if((n.settings.minCols||n.settings.minSpareCols)&&(i=N.countEmptyCols(!0)),n.settings.minCols&&!n.settings.columns&&N.countCols()<n.settings.minCols)for(;N.countCols()<n.settings.minCols;i++)M.createCol(N.countCols(),1,"auto");if(n.settings.minSpareCols&&!n.settings.columns&&"array"===N.dataType&&i<n.settings.minSpareCols)for(;i<n.settings.minSpareCols&&N.countCols()<n.settings.maxCols;i++)M.createCol(N.countCols(),1,"auto");var a=N.countRows(),s=N.countCols();if(0!==a&&0!==s||L.deselect(),L.isSelected()){var l=!1,u=n.selRange.from.row,c=n.selRange.from.col,h=n.selRange.to.row,d=n.selRange.to.col;u>a-1?(l=!0,h>(u=a-1)&&(h=u)):h>a-1&&(l=!0,u>(h=a-1)&&(u=h)),c>s-1?(l=!0,d>(c=s-1)&&(d=c)):d>s-1&&(l=!0,c>(d=s-1)&&(c=d)),l&&N.selectCell(u,c,h,d)}N.view&&N.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(t,e,o,i,a,s,l){var c,h,d,f,g,v,m,y,w=[],b={};if(0===(h=e.length))return!1;switch(null===o||o.row,null===o||o.col,a){case"shift_down":for(g=o?o.col-t.col+1:0,v=o?o.row-t.row+1:0,d=0,f=(e=(0,S.translateRowsToColumns)(e)).length,m=Math.max(f,g);d<m;d++)if(d<f){var C;for(c=0,h=e[d].length;c<v-h;c++)e[d].push(e[d][c%h]);e[d].unshift(t.col+d,t.row,0),(C=N).spliceCol.apply(C,_(e[d]))}else{var k;e[d%f][0]=t.col+d,(k=N).spliceCol.apply(k,_(e[d%f]))}break;case"shift_right":for(g=o?o.col-t.col+1:0,v=o?o.row-t.row+1:0,c=0,h=e.length,y=Math.max(h,v);c<y;c++)if(c<h){var x;for(d=0,f=e[c].length;d<g-f;d++)e[c].push(e[c][d%f]);e[c].unshift(t.row+c,t.col,0),(x=N).spliceRow.apply(x,_(e[c]))}else{var T;e[c%h][0]=t.row+c,(T=N).spliceRow.apply(T,_(e[c%h]))}break;case"overwrite":default:b.row=t.row,b.col=t.col;var O={row:o&&t?o.row-t.row+1:1,col:o&&t?o.col-t.col+1:1},R=0,E=0,M=!0,A=void 0,P=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=e[t%e.length];return null!==n?o[n%o.length]:o},H=e.length,L=o?o.row-t.row+1:0;for(h=o?L:Math.max(H,L),c=0;c<h&&!(o&&b.row>o.row&&L>H||!n.settings.allowInsertRow&&b.row>N.countRows()-1||b.row>=n.settings.maxRows);c++){var D=c-R,I=P(D).length,W=o?o.col-t.col+1:0;if(f=o?W:Math.max(I,W),b.col=t.col,A=N.getCellMeta(b.row,b.col),"CopyPaste.paste"!==i&&"Autofill.autofill"!==i||!A.skipRowOnPaste){for(E=0,d=0;d<f&&!(o&&b.col>o.col&&W>I||!n.settings.allowInsertColumn&&b.col>N.countCols()-1||b.col>=n.settings.maxCols);d++)if(A=N.getCellMeta(b.row,b.col),"CopyPaste.paste"!==i&&"Autofill.fill"!==i||!A.skipColumnOnPaste)if(A.readOnly)b.col++;else{var F=d-E,B=P(D,F),z=N.getDataAtCell(b.row,b.col),V={row:D,col:F};if("Autofill.fill"===i){var j=N.runHooks("beforeAutofillInsidePopulate",V,s,e,l,{},O);j&&(B=(0,u.isUndefined)(j.value)?B:j.value)}if(null!==B&&"object"===(void 0===B?"undefined":r(B)))if(null===z||"object"!==(void 0===z?"undefined":r(z)))M=!1;else{var U=(0,p.duckSchema)(z[0]||z),Y=(0,p.duckSchema)(B[0]||B);(0,p.isObjectEquals)(U,Y)?B=(0,p.deepClone)(B):M=!1}else null!==z&&"object"===(void 0===z?"undefined":r(z))&&(M=!1);M&&w.push([b.row,b.col,B]),M=!0,b.col++}else E++,b.col++,f++;b.row++}else R++,b.row++,h++}N.setDataAtCell(w,null,null,i||"populateFromArray")}}},this.selection=L={inProgress:!1,selectedHeader:{cols:!1,rows:!1},setSelectedHeaders:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];N.selection.selectedHeader.rows=t,N.selection.selectedHeader.cols=e,N.selection.selectedHeader.corner=n},begin:function(){N.selection.inProgress=!0},finish:function(){var t=N.getSelected();N.runHooks("afterSelectionEnd",t[0],t[1],t[2],t[3]),N.runHooks("afterSelectionEndByProp",t[0],N.colToProp(t[1]),t[2],N.colToProp(t[3])),N.selection.inProgress=!1},isInProgress:function(){return N.selection.inProgress},setRangeStart:function(t,e){N.runHooks("beforeSetRangeStart",t),n.selRange=new T.CellRange(t,t,t),L.setRangeEnd(t,null,e)},setRangeStartOnly:function(t){N.runHooks("beforeSetRangeStartOnly",t),n.selRange=new T.CellRange(t,t,t)},setRangeEnd:function(t,e,o){if(null!==n.selRange){var r,i=!1,s=!0,l=N.view.wt.wtTable.getFirstVisibleRow(),u=N.view.wt.wtTable.getFirstVisibleColumn(),c={row:null,col:null};N.runHooks("beforeSetRangeEnd",t),N.selection.begin(),c.row=t.row<0?l:t.row,c.col=t.col<0?u:t.col,n.selRange.to=new T.CellCoords(c.row,c.col),n.settings.multiSelect||(n.selRange.from=t),N.view.wt.selections.current.clear(),"string"==typeof(r=N.getCellMeta(n.selRange.highlight.row,n.selRange.highlight.col).disableVisualSelection)&&(r=[r]),(!1===r||Array.isArray(r)&&-1===r.indexOf("current"))&&N.view.wt.selections.current.add(n.selRange.highlight),N.view.wt.selections.area.clear(),(!1===r||Array.isArray(r)&&-1===r.indexOf("area"))&&L.isMultiple()&&(N.view.wt.selections.area.add(n.selRange.from),N.view.wt.selections.area.add(n.selRange.to)),(n.settings.currentHeaderClassName||n.settings.currentRowClassName||n.settings.currentColClassName)&&(N.view.wt.selections.highlight.clear(),N.view.wt.selections.highlight.add(n.selRange.from),N.view.wt.selections.highlight.add(n.selRange.to));var h=(0,p.createObjectPropListener)("value");N.runHooks("afterSelection",n.selRange.from.row,n.selRange.from.col,n.selRange.to.row,n.selRange.to.col,h),N.runHooks("afterSelectionByProp",n.selRange.from.row,M.colToProp(n.selRange.from.col),n.selRange.to.row,M.colToProp(n.selRange.to.col),h),(0===n.selRange.from.row&&n.selRange.to.row===N.countRows()-1&&N.countRows()>1||0===n.selRange.from.col&&n.selRange.to.col===N.countCols()-1&&N.countCols()>1)&&(i=!0),(t.row<0||t.col<0)&&(s=!1),h.isTouched()&&(e=!h.value),!1!==e&&!i&&s&&(n.selRange.from&&!L.isMultiple()?N.view.scrollViewport(n.selRange.from):N.view.scrollViewport(t)),L.selectedHeader.rows&&L.selectedHeader.cols?(0,a.addClass)(N.rootElement,["ht__selection--rows","ht__selection--columns"]):L.selectedHeader.rows?((0,a.removeClass)(N.rootElement,"ht__selection--columns"),(0,a.addClass)(N.rootElement,"ht__selection--rows")):L.selectedHeader.cols?((0,a.removeClass)(N.rootElement,"ht__selection--rows"),(0,a.addClass)(N.rootElement,"ht__selection--columns")):(0,a.removeClass)(N.rootElement,["ht__selection--rows","ht__selection--columns"]),L.refreshBorders(null,o)}},refreshBorders:function(t,e){e||D.destroyEditor(t),N.view.render(),L.isSelected()&&!e&&D.prepareEditor()},isMultiple:function(){var t=!(n.selRange.to.col===n.selRange.from.col&&n.selRange.to.row===n.selRange.from.row),e=N.runHooks("afterIsMultipleSelection",t);if(t)return e},transformStart:function(t,e,o,r){var i,a,s,l,u=new T.CellCoords(t,e),c=0,h=0;N.runHooks("modifyTransformStart",u),i=N.countRows(),a=N.countCols(),l=N.getSettings().fixedRowsBottom,n.selRange.highlight.row+t>i-1?o&&n.settings.minSpareRows>0&&!(l&&n.selRange.highlight.row>=i-l-1)?(N.alter("insert_row",i),i=N.countRows()):n.settings.autoWrapCol&&(u.row=1-i,u.col=n.selRange.highlight.col+u.col==a-1?1-a:1):n.settings.autoWrapCol&&n.selRange.highlight.row+u.row<0&&n.selRange.highlight.col+u.col>=0&&(u.row=i-1,u.col=n.selRange.highlight.col+u.col==0?a-1:-1),n.selRange.highlight.col+u.col>a-1?o&&n.settings.minSpareCols>0?(N.alter("insert_col",a),a=N.countCols()):n.settings.autoWrapRow&&(u.row=n.selRange.highlight.row+u.row==i-1?1-i:1,u.col=1-a):n.settings.autoWrapRow&&n.selRange.highlight.col+u.col<0&&n.selRange.highlight.row+u.row>=0&&(u.row=n.selRange.highlight.row+u.row==0?i-1:-1,u.col=a-1),(s=new T.CellCoords(n.selRange.highlight.row+u.row,n.selRange.highlight.col+u.col)).row<0?(c=-1,s.row=0):s.row>0&&s.row>=i&&(c=1,s.row=i-1),s.col<0?(h=-1,s.col=0):s.col>0&&s.col>=a&&(h=1,s.col=a-1),N.runHooks("afterModifyTransformStart",s,c,h),L.setRangeStart(s,r)},transformEnd:function(t,e){var o,r,i,a=new T.CellCoords(t,e),s=0,l=0;N.runHooks("modifyTransformEnd",a),o=N.countRows(),r=N.countCols(),(i=new T.CellCoords(n.selRange.to.row+a.row,n.selRange.to.col+a.col)).row<0?(s=-1,i.row=0):i.row>0&&i.row>=o&&(s=1,i.row=o-1),i.col<0?(l=-1,i.col=0):i.col>0&&i.col>=r&&(l=1,i.col=r-1),N.runHooks("afterModifyTransformEnd",i,s,l),L.setRangeEnd(i,!0)},isSelected:function(){return null!==n.selRange},inInSelection:function(t){return!!L.isSelected()&&n.selRange.includes(t)},deselect:function(){L.isSelected()&&(N.selection.inProgress=!1,n.selRange=null,N.view.wt.selections.current.clear(),N.view.wt.selections.area.clear(),(n.settings.currentHeaderClassName||n.settings.currentRowClassName||n.settings.currentColClassName)&&N.view.wt.selections.highlight.clear(),D.destroyEditor(),L.refreshBorders(),(0,a.removeClass)(N.rootElement,["ht__selection--rows","ht__selection--columns"]),N.runHooks("afterDeselect"))},selectAll:function(){n.settings.multiSelect&&(L.setSelectedHeaders(!0,!0,!0),L.setRangeStart(new T.CellCoords(0,0)),L.setRangeEnd(new T.CellCoords(N.countRows()-1,N.countCols()-1),!1))},empty:function(){if(L.isSelected()){var t,e,o=n.selRange.getTopLeftCorner(),r=n.selRange.getBottomRightCorner(),i=[];for(t=o.row;t<=r.row;t++)for(e=o.col;e<=r.col;e++)N.getCellMeta(t,e).readOnly||i.push([t,e,""]);N.setDataAtCell(i)}}},this.init=function(){P.setData(n.settings.data),N.runHooks("beforeInit"),(0,c.isMobileBrowser)()&&(0,a.addClass)(N.rootElement,"mobile"),this.updateSettings(n.settings,!0),this.view=new C.default(this),D=new d.default(N,n,L,M),this.forceFullRender=!0,N.runHooks("init"),this.view.render(),"object"===r(n.firstRun)&&(N.runHooks("afterChange",n.firstRun[0],n.firstRun[1]),n.firstRun=!1),N.runHooks("afterInit")},this.validateCell=function(t,e,n,o){var r=N.getCellValidator(e);function i(t){var o=e.visualCol,r=e.visualRow,i=N.getCell(r,o,!0);i&&"TH"!=i.nodeName&&N.view.wt.wtSettings.settings.cellRenderer(r,o,i),n(t)}(0,u.isRegExp)(r)&&(r=function(t){return function(e,n){n(t.test(e))}}(r)),(0,l.isFunction)(r)?(t=N.runHooks("beforeValidate",t,e.visualRow,e.prop,o),N._registerTimeout(setTimeout(function(){r.call(e,t,function(n){n=N.runHooks("afterValidate",n,t,e.visualRow,e.prop,o),e.valid=n,i(n),N.runHooks("postAfterValidate",n,t,e.visualRow,e.prop,o)})},0))):N._registerTimeout(setTimeout(function(){e.valid=!0,i(e.valid)},0))},this.setDataAtCell=function(t,e,n,o){var i,a,s,l=j(t,e,n),u=[];for(i=0,a=l.length;i<a;i++){if("object"!==r(l[i]))throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof l[i][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");s=M.colToProp(l[i][1]),u.push([l[i][0],s,P.getAtCell(F.toPhysicalRow(l[i][0]),l[i][1]),l[i][2]])}o||"object"!==(void 0===t?"undefined":r(t))||(o=e),N.runHooks("afterSetDataAtCell",u,o),z(u,o,function(){V(u,o)})},this.setDataAtRowProp=function(t,e,n,o){var i,a,s=j(t,e,n),l=[];for(i=0,a=s.length;i<a;i++)l.push([s[i][0],s[i][1],P.getAtCell(F.toPhysicalRow(s[i][0]),s[i][1]),s[i][2]]);o||"object"!==(void 0===t?"undefined":r(t))||(o=e),N.runHooks("afterSetDataAtRowProp",l,o),z(l,o,function(){V(l,o)})},this.listen=function(){A=N.guid},this.unlisten=function(){A=null},this.isListening=function(){return A===N.guid},this.destroyEditor=function(t){L.refreshBorders(t)},this.populateFromArray=function(t,e,n,o,i,a,s,l,u){var c;if("object"!==(void 0===n?"undefined":r(n))||"object"!==r(n[0]))throw new Error("populateFromArray parameter `input` must be an array of arrays");return c="number"==typeof o?new T.CellCoords(o,i):null,H.populateFromArray(new T.CellCoords(t,e),n,c,a,s,l,u)},this.spliceCol=function(t,e,n){var o;return(o=M).spliceCol.apply(o,arguments)},this.spliceRow=function(t,e,n){var o;return(o=M).spliceRow.apply(o,arguments)},this.getSelected=function(){if(L.isSelected())return[n.selRange.from.row,n.selRange.from.col,n.selRange.to.row,n.selRange.to.col]},this.getSelectedRange=function(){if(L.isSelected())return n.selRange},this.render=function(){N.view&&(N.renderCall=!0,N.forceFullRender=!0,L.refreshBorders(null,!0))},this.loadData=function(t){if(Array.isArray(n.settings.dataSchema)?N.dataType="array":(0,l.isFunction)(n.settings.dataSchema)?N.dataType="function":N.dataType="object",M&&M.destroy(),M=new h.default(N,n,I),"object"===(void 0===t?"undefined":r(t))&&null!==t)t.push&&t.splice||(t=[t]);else{if(null!==t)throw new Error("loadData only accepts array of objects or array of arrays ("+(void 0===t?"undefined":r(t))+" given)");var e;t=[];var o,i=0,a=M.getSchema();for(i=0,o=n.settings.startRows;i<o;i++)if("object"!==N.dataType&&"function"!==N.dataType||!n.settings.dataSchema)if("array"===N.dataType)e=(0,p.deepClone)(a[0]),t.push(e);else{e=[];for(var s=0,u=n.settings.startCols;s<u;s++)e.push(null);t.push(e)}else e=(0,p.deepClone)(a),t.push(e)}n.isPopulated=!1,I.prototype.data=t,Array.isArray(t[0])&&(N.dataType="array"),M.dataSource=t,P.data=t,P.dataType=N.dataType,P.colToProp=M.colToProp.bind(M),P.propToCol=M.propToCol.bind(M),n.cellSettings.length=0,H.adjustRowsAndCols(),N.runHooks("afterLoadData",n.firstRun),n.firstRun?n.firstRun=[null,"loadData"]:(N.runHooks("afterChange",null,"loadData"),N.render()),n.isPopulated=!0},this.getData=function(t,e,n,o){return(0,u.isUndefined)(t)?M.getAll():M.getRange(new T.CellCoords(t,e),new T.CellCoords(n,o),M.DESTINATION_RENDERER)},this.getCopyableText=function(t,e,n,o){return M.getCopyableText(new T.CellCoords(t,e),new T.CellCoords(n,o))},this.getCopyableData=function(t,e){return M.getCopyable(t,M.colToProp(e))},this.getSchema=function(){return M.getSchema()},this.updateSettings=function(t,e){var o=!1,r=void 0,i=void 0,c=void 0;if((0,u.isDefined)(t.rows))throw new Error('"rows" setting is no longer supported. do you mean startRows, minRows or maxRows?');if((0,u.isDefined)(t.cols))throw new Error('"cols" setting is no longer supported. do you mean startCols, minCols or maxCols?');for(r in t)"data"!==r&&(O.default.getSingleton().getRegistered().indexOf(r)>-1?((0,l.isFunction)(t[r])||Array.isArray(t[r]))&&(t[r].initialHook=!0,N.addHook(r,t[r])):!e&&(0,p.hasOwnProperty)(t,r)&&(I.prototype[r]=t[r]));void 0===t.data&&void 0===n.settings.data?N.loadData(null):void 0!==t.data?N.loadData(t.data):void 0!==t.columns&&M.createMap(),c=N.countCols();var h=t.columns||I.prototype.columns;if(h&&(0,l.isFunction)(h)&&(c=N.countSourceCols(),o=!0),void 0===t.cell&&void 0===t.cells&&void 0===t.columns||(n.cellSettings.length=0),c>0){var d=void 0,f=void 0;for(r=0,i=0;r<c;r++)o&&!h(r)||(n.columnSettings[i]=(0,s.columnFactory)(I,n.columnsSettingConflicts),d=n.columnSettings[i].prototype,h&&(f=o?h(r):h[i])&&((0,p.extend)(d,f),(0,p.extend)(d,U(f))),i++)}if((0,u.isDefined)(t.cell))for(var g in t.cell)if((0,p.hasOwnProperty)(t.cell,g)){var v=t.cell[g];N.setCellMetaObject(v.row,v.col,v)}N.runHooks("afterCellMetaReset"),(0,u.isDefined)(t.className)&&(I.prototype.className&&(0,a.removeClass)(N.rootElement,I.prototype.className),t.className&&(0,a.addClass)(N.rootElement,t.className));var m=N.rootElement.style.height;""!==m&&(m=parseInt(N.rootElement.style.height,10));var y=t.height;((0,l.isFunction)(y)&&(y=y()),e)&&(N.rootElement.getAttribute("style")&&N.rootElement.setAttribute("data-initialstyle",N.rootElement.getAttribute("style")));if(null===y){var w=N.rootElement.getAttribute("data-initialstyle");w&&(w.indexOf("height")>-1||w.indexOf("overflow")>-1)?N.rootElement.setAttribute("style",w):(N.rootElement.style.height="",N.rootElement.style.overflow="")}else void 0!==y&&(N.rootElement.style.height=y+"px",N.rootElement.style.overflow="hidden");if(void 0!==t.width){var b=t.width;(0,l.isFunction)(b)&&(b=b()),N.rootElement.style.width=b+"px"}e||(M.clearLengthCache(),N.view&&N.view.wt.wtViewport.resetHasOversizedColumnHeadersMarked(),N.runHooks("afterUpdateSettings")),H.adjustRowsAndCols(),N.view&&!n.firstRun&&(N.forceFullRender=!0,L.refreshBorders(null,!0)),e||!N.view||""!==m&&""!==y&&void 0!==y||m===y||N.view.wt.wtOverlays.updateMainScrollableElements()},this.getValue=function(){var t=N.getSelected();if(I.prototype.getValue){if((0,l.isFunction)(I.prototype.getValue))return I.prototype.getValue.call(N);if(t)return N.getData()[t[0]][I.prototype.getValue]}else if(t)return N.getDataAtCell(t[0],t[1])},this.getSettings=function(){return n.settings},this.clear=function(){L.selectAll(),L.empty()},this.alter=function(t,e,n,o,r){H.alter(t,e,n,o,r)},this.getCell=function(t,e,n){return N.view.getCellAtCoords(new T.CellCoords(t,e),n)},this.getCoords=function(t){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,t)},this.colToProp=function(t){return M.colToProp(t)},this.propToCol=function(t){return M.propToCol(t)},this.toVisualRow=function(t){return F.toVisualRow(t)},this.toVisualColumn=function(t){return F.toVisualColumn(t)},this.toPhysicalRow=function(t){return F.toPhysicalRow(t)},this.toPhysicalColumn=function(t){return F.toPhysicalColumn(t)},this.getDataAtCell=function(t,e){return M.get(t,M.colToProp(e))},this.getDataAtRowProp=function(t,e){return M.get(t,e)},this.getDataAtCol=function(t){var e=[];return e.concat.apply(e,_(M.getRange(new T.CellCoords(0,t),new T.CellCoords(n.settings.data.length-1,t),M.DESTINATION_RENDERER)))},this.getDataAtProp=function(t){var e,o=[];return e=M.getRange(new T.CellCoords(0,M.propToCol(t)),new T.CellCoords(n.settings.data.length-1,M.propToCol(t)),M.DESTINATION_RENDERER),o.concat.apply(o,_(e))},this.getSourceData=function(t,e,n,o){return void 0===t?P.getData():P.getByRange(new T.CellCoords(t,e),new T.CellCoords(n,o))},this.getSourceDataArray=function(t,e,n,o){return void 0===t?P.getData(!0):P.getByRange(new T.CellCoords(t,e),new T.CellCoords(n,o),!0)},this.getSourceDataAtCol=function(t){return P.getAtColumn(t)},this.getSourceDataAtRow=function(t){return P.getAtRow(t)},this.getSourceDataAtCell=function(t,e){return P.getAtCell(t,e)},this.getDataAtRow=function(t){return M.getRange(new T.CellCoords(t,0),new T.CellCoords(t,this.countCols()-1),M.DESTINATION_RENDERER)[0]||[]},this.getDataType=function(t,e,n,o){var r=this,i=null,a=null;void 0===t&&(t=0,n=this.countRows(),e=0,o=this.countCols()),void 0===n&&(n=t),void 0===o&&(o=e);var s="mixed";return(0,b.rangeEach)(Math.min(t,n),Math.max(t,n),function(t){var n=!0;return(0,b.rangeEach)(Math.min(e,o),Math.max(e,o),function(e){var o=r.getCellMeta(t,e);return a=o.type,i?n=i===a:i=a,n}),s=n?a:"mixed",n}),s},this.removeCellMeta=function(t,e,o){null!=N.getCellMeta(t,e)[o]&&delete n.cellSettings[t][e][o]},this.spliceCellsMeta=function(t,e){for(var o,r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];(o=n.cellSettings).splice.apply(o,[t,e].concat(i))},this.setCellMetaObject=function(t,e,n){if("object"===(void 0===n?"undefined":r(n)))for(var o in n)if((0,p.hasOwnProperty)(n,o)){var i=n[o];this.setCellMeta(t,e,o,i)}},this.setCellMeta=function(t,e,r,i){var a=F.toPhysical(t,e),l=o(a,2);t=l[0],e=l[1],n.columnSettings[e]||(n.columnSettings[e]=(0,s.columnFactory)(I,n.columnsSettingConflicts)),n.cellSettings[t]||(n.cellSettings[t]=[]),n.cellSettings[t][e]||(n.cellSettings[t][e]=new n.columnSettings[e]),n.cellSettings[t][e][r]=i,N.runHooks("afterSetCellMeta",t,e,r,i)},this.getCellsMeta=function(){return(0,g.arrayFlatten)(n.cellSettings)},this.getCellMeta=function(t,e){var r,i=M.colToProp(e),a=t,l=e,u=F.toPhysical(t,e),c=o(u,2);if(t=c[0],e=c[1],n.columnSettings[e]||(n.columnSettings[e]=(0,s.columnFactory)(I,n.columnsSettingConflicts)),n.cellSettings[t]||(n.cellSettings[t]=[]),n.cellSettings[t][e]||(n.cellSettings[t][e]=new n.columnSettings[e]),(r=n.cellSettings[t][e]).row=t,r.col=e,r.visualRow=a,r.visualCol=l,r.prop=i,r.instance=N,N.runHooks("beforeGetCellMeta",t,e,r),(0,p.extend)(r,U(r)),r.cells){var h=r.cells.call(r,t,e,i);h&&((0,p.extend)(r,h),(0,p.extend)(r,U(h)))}return N.runHooks("afterGetCellMeta",t,e,r),r},this.getCellMetaAtRow=function(t){return n.cellSettings[t]},this.isColumnModificationAllowed=function(){return!("object"===N.dataType||N.getSettings().columns)};var Y=(0,S.cellMethodLookupFactory)("renderer");this.getCellRenderer=function(t,e){return(0,m.getRenderer)(Y.call(this,t,e))},this.getCellEditor=(0,S.cellMethodLookupFactory)("editor");var K=(0,S.cellMethodLookupFactory)("validator");function G(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}this.getCellValidator=function(t,e){var n=K.call(this,t,e);return"string"==typeof n&&(n=(0,y.getValidator)(n)),n},this.validateCells=function(t){var e=new B;t&&(e.onQueueEmpty=t);for(var n=N.countRows()-1;n>=0;){for(var o=N.countCols()-1;o>=0;)e.addValidatorToQueue(),N.validateCell(N.getDataAtCell(n,o),N.getCellMeta(n,o),function(t){if("boolean"!=typeof t)throw new Error("Validation error: result is not boolean");!1===t&&(e.valid=!1),e.removeValidatorFormQueue()},"validateCells"),o--;n--}e.checkIfQueueIsEmpty()},this.getRowHeader=function(t){var e=n.settings.rowHeaders;return void 0!==t&&(t=N.runHooks("modifyRowHeader",t)),void 0===t?(e=[],(0,b.rangeEach)(N.countRows()-1,function(t){e.push(N.getRowHeader(t))})):Array.isArray(e)&&void 0!==e[t]?e=e[t]:(0,l.isFunction)(e)?e=e(t):e&&"string"!=typeof e&&"number"!=typeof e&&(e=t+1),e},this.hasRowHeaders=function(){return!!n.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==n.settings.colHeaders&&null!==n.settings.colHeaders)return!!n.settings.colHeaders;for(var t=0,e=N.countCols();t<e;t++)if(N.getColHeader(t))return!0;return!1},this.getColHeader=function(t){var e=n.settings.columns&&(0,l.isFunction)(n.settings.columns),o=n.settings.colHeaders;if(void 0===(t=N.runHooks("modifyColHeader",t))){for(var r=[],i=e?N.countSourceCols():N.countCols(),a=0;a<i;a++)r.push(N.getColHeader(a));o=r}else{var s=t,u=function(t){for(var e=[],n=N.countSourceCols(),o=0;o<n;o++)(0,l.isFunction)(N.getSettings().columns)&&N.getSettings().columns(o)&&e.push(o);return e[t]}(t=N.runHooks("modifyCol",t));n.settings.columns&&(0,l.isFunction)(n.settings.columns)&&n.settings.columns(u)&&n.settings.columns(u).title?o=n.settings.columns(u).title:n.settings.columns&&n.settings.columns[t]&&n.settings.columns[t].title?o=n.settings.columns[t].title:Array.isArray(n.settings.colHeaders)&&void 0!==n.settings.colHeaders[t]?o=n.settings.colHeaders[t]:(0,l.isFunction)(n.settings.colHeaders)?o=n.settings.colHeaders(t):n.settings.colHeaders&&"string"!=typeof n.settings.colHeaders&&"number"!=typeof n.settings.colHeaders&&(o=(0,S.spreadsheetColumnLabel)(s))}return o},this._getColWidthFromSettings=function(t){var e=N.getCellMeta(0,t),o=e.width;if(void 0!==o&&o!==n.settings.width||(o=e.colWidths),null!=o){switch(void 0===o?"undefined":r(o)){case"object":o=o[t];break;case"function":o=o(t)}"string"==typeof o&&(o=parseInt(o,10))}return o},this.getColWidth=function(t){var e=N._getColWidthFromSettings(t);return void 0===(e=N.runHooks("modifyColWidth",e,t))&&(e=T.ViewportColumnsCalculator.DEFAULT_WIDTH),e},this._getRowHeightFromSettings=function(t){var e=n.settings.rowHeights;if(null!=e){switch(void 0===e?"undefined":r(e)){case"object":e=e[t];break;case"function":e=e(t)}"string"==typeof e&&(e=parseInt(e,10))}return e},this.getRowHeight=function(t){var e=N._getRowHeightFromSettings(t);return N.runHooks("modifyRowHeight",e,t)},this.countSourceRows=function(){return N.runHooks("modifySourceLength")||(N.getSourceData()?N.getSourceData().length:0)},this.countSourceCols=function(){var t=N.getSourceData()&&N.getSourceData()[0]?N.getSourceData()[0]:[];return(0,p.isObject)(t)?(0,p.deepObjectSize)(t):t.length||0},this.countRows=function(){return M.getLength()},this.countCols=function(){var t=this.getSettings().maxCols,e=!1,o=0;if("array"===N.dataType&&(e=n.settings.data&&n.settings.data[0]&&n.settings.data[0].length),e&&(o=n.settings.data[0].length),n.settings.columns)if((0,l.isFunction)(n.settings.columns))if("array"===N.dataType){for(var r=0,i=0;i<o;i++)n.settings.columns(i)&&r++;o=r}else"object"!==N.dataType&&"function"!==N.dataType||(o=M.colToPropCache.length);else o=n.settings.columns.length;else"object"!==N.dataType&&"function"!==N.dataType||(o=M.colToPropCache.length);return Math.min(t,o)},this.rowOffset=function(){return N.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return N.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return N.view.wt.drawn?N.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return N.view.wt.drawn?N.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return N.view.wt.drawn?N.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return N.view.wt.drawn?N.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(t){for(var e,n=N.countRows()-1,o=0;n>=0;){if(e=N.runHooks("modifyRow",n),N.isEmptyRow(e))o++;else if(t)break;n--}return o},this.countEmptyCols=function(t){if(N.countRows()<1)return 0;for(var e=N.countCols()-1,n=0;e>=0;){if(N.isEmptyCol(e))n++;else if(t)break;e--}return n},this.isEmptyRow=function(t){return n.settings.isEmptyRow.call(N,t)},this.isEmptyCol=function(t){return n.settings.isEmptyCol.call(N,t)},this.selectCell=function(t,e,o,r,i,a){var s;if(a=(0,u.isUndefined)(a)||!0===a,"number"!=typeof t||t<0||t>=N.countRows())return!1;if("number"!=typeof e||e<0||e>=N.countCols())return!1;if((0,u.isDefined)(o)){if("number"!=typeof o||o<0||o>=N.countRows())return!1;if("number"!=typeof r||r<0||r>=N.countCols())return!1}return s=new T.CellCoords(t,e),n.selRange=new T.CellRange(s,s,s),a&&N.listen(),(0,u.isUndefined)(o)?L.setRangeEnd(n.selRange.from,i):L.setRangeEnd(new T.CellCoords(o,r),i),N.selection.finish(),!0},this.selectCellByProp=function(t,e,n,o,r){var i;return arguments[1]=M.propToCol(arguments[1]),(0,u.isDefined)(arguments[3])&&(arguments[3]=M.propToCol(arguments[3])),(i=N).selectCell.apply(i,arguments)},this.deselectCell=function(){L.deselect()},this.scrollViewportTo=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==t&&(t<0||t>=N.countRows()))return!1;if(void 0!==e&&(e<0||e>=N.countCols()))return!1;var r=!1;return void 0!==t&&void 0!==e&&(N.view.wt.wtOverlays.topOverlay.scrollTo(t,n),N.view.wt.wtOverlays.leftOverlay.scrollTo(e,o),r=!0),"number"==typeof t&&"number"!=typeof e&&(N.view.wt.wtOverlays.topOverlay.scrollTo(t,n),r=!0),"number"==typeof e&&"number"!=typeof t&&(N.view.wt.wtOverlays.leftOverlay.scrollTo(e,o),r=!0),r},this.destroy=function(){for(var t in N._clearTimeouts(),N.view&&N.view.destroy(),P&&P.destroy(),P=null,(0,a.empty)(N.rootElement),W.destroy(),N.runHooks("afterDestroy"),O.default.getSingleton().destroy(N),N)(0,p.hasOwnProperty)(N,t)&&((0,l.isFunction)(N[t])?N[t]=G:"guid"!==t&&(N[t]=null));M&&M.destroy(),M=null,n=null,H=null,L=null,D=null,N=null,I=null},this.getActiveEditor=function(){return D.getActiveEditor()},this.getPlugin=function(t){return(0,v.getPlugin)(this,t)},this.getInstance=function(){return N},this.addHook=function(t,e){O.default.getSingleton().add(t,e,N)},this.hasHook=function(t){return O.default.getSingleton().has(t,N)},this.addHookOnce=function(t,e){O.default.getSingleton().once(t,e,N)},this.removeHook=function(t,e){O.default.getSingleton().remove(t,e,N)},this.runHooks=function(t,e,n,o,r,i,a){return O.default.getSingleton().run(N,t,e,n,o,r,i,a)},this.timeouts=[],this._registerTimeout=function(t){this.timeouts.push(t)},this._clearTimeouts=function(){for(var t=0,e=this.timeouts.length;t<e;t++)clearTimeout(this.timeouts[t])},O.default.getSingleton().run(N,"construct")};var i=M(n(86)),a=n(0),s=n(66),l=n(35),u=n(20),c=n(25),h=M(n(199)),d=M(n(201)),f=M(n(4)),p=n(2),g=n(1),v=n(5),m=n(9),y=n(26),w=n(27),b=n(6),C=M(n(267)),k=M(n(200)),S=n(65),x=n(153),T=n(11),O=M(n(8)),R=M(n(87)),E=n(63);function M(t){return t&&t.__esModule?t:{default:t}}function _(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}var A=null},function(t,e,n){"use strict";e.__esModule=!0,e.spreadsheetColumnLabel=s,e.spreadsheetColumnIndex=function(t){var e=0;if(t)for(var n=0,o=t.length-1;n<t.length;n+=1,o-=1)e+=Math.pow(a,o)*(i.indexOf(t[n])+1);return--e},e.createSpreadsheetData=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=[];for(t=0;t<n;t++){var i=[];for(e=0;e<o;e++)i.push(s(e)+(t+1));r.push(i)}return r},e.createSpreadsheetObjectData=function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,r=[];for(t=0;t<n;t++){var i={};for(e=0;e<o;e++)i["prop"+e]=s(e)+(t+1);r.push(i)}return r},e.createEmptySpreadsheetData=function(t,e){for(var n=[],o=void 0,r=0;r<t;r++){o=[];for(var i=0;i<e;i++)o.push("");n.push(o)}return n},e.translateRowsToColumns=function(t){var e,n,o,r,i=[],a=0;for(e=0,n=t.length;e<n;e++)for(o=0,r=t[e].length;o<r;o++)o==a&&(i.push([]),a++),i[o].push(t[e][o]);return i},e.cellMethodLookupFactory=function(t,e){return e=void 0===e||e,function(n,i){return function n(i){if(i){if((0,r.hasOwnProperty)(i,t)&&void 0!==i[t])return i[t];if((0,r.hasOwnProperty)(i,"type")&&i.type){var a;if("string"!=typeof i.type)throw new Error("Cell type must be a string ");if(a=(0,o.getCellType)(i.type),(0,r.hasOwnProperty)(a,t))return a[t];if(e)return}return n(Object.getPrototypeOf(i))}}("number"==typeof n?this.getCellMeta(n,i):n)}};var o=n(63),r=n(2),i="ABCDEFGHIJKLMNOPQRSTUVWXYZ",a=i.length;function s(t){for(var e=t+1,n="",o=void 0;e>0;)o=(e-1)%a,n=String.fromCharCode(65+o)+n,e=parseInt((e-o)/a,10);return n}},function(t,e,n){"use strict";e.__esModule=!0,e.columnFactory=function(t,e){function n(){}(0,o.inherit)(n,t);for(var r=0,i=e.length;r<i;r++)n.prototype[e[r]]=void 0;return n};var o=n(2)},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),i=n(1),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null,this.settings={useHeaders:!0}}return o(t,[{key:"addRow",value:function(t,e){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={row:t};this.rows.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}},{key:"addColumnHeadersRow",value:function(t){if(null!=this.hot.getColHeader(0)){var e={row:-1};this.rows.push(e),this.container=this.createContainer(this.hot.rootElement.className),this.samples=t,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tHead.appendChild(this.createColumnHeadersRow()),this.container.container.appendChild(this.table.fragment),e.table=this.table.table}}},{key:"addColumn",value:function(t,e){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={col:t};this.columns.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.getSetting("useHeaders")&&null!==this.hot.getColHeader(t)&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table}},{key:"getHeights",value:function(t){this.injected||this.injectTable(),(0,i.arrayEach)(this.rows,function(e){t(e.row,(0,r.outerHeight)(e.table)-1)})}},{key:"getWidths",value:function(t){this.injected||this.injectTable(),(0,i.arrayEach)(this.columns,function(e){t(e.col,(0,r.outerWidth)(e.table))})}},{key:"setSettings",value:function(t){this.settings=t}},{key:"setSetting",value:function(t,e){this.settings||(this.settings={}),this.settings[t]=e}},{key:"getSettings",value:function(){return this.settings}},{key:"getSetting",value:function(t){return this.settings?this.settings[t]:null}},{key:"createColGroupsCol",value:function(){var t=this,e=document.createDocumentFragment();return this.hot.hasRowHeaders()&&e.appendChild(this.createColElement(-1)),this.samples.forEach(function(n){(0,i.arrayEach)(n.strings,function(n){e.appendChild(t.createColElement(n.col))})}),e}},{key:"createRow",value:function(t){var e=this,n=document,o=n.createDocumentFragment(),r=n.createElement("th");return this.hot.hasRowHeaders()&&(this.hot.view.appendRowHeader(t,r),o.appendChild(r)),this.samples.forEach(function(r){(0,i.arrayEach)(r.strings,function(r){var i=r.col,a=e.hot.getCellMeta(t,i);a.col=i,a.row=t;var s=e.hot.getCellRenderer(a),l=n.createElement("td");s(e.hot,l,t,i,e.hot.colToProp(i),r.value,a),o.appendChild(l)})}),o}},{key:"createColumnHeadersRow",value:function(){var t=this,e=document,n=e.createDocumentFragment();if(this.hot.hasRowHeaders()){var o=e.createElement("th");this.hot.view.appendColHeader(-1,o),n.appendChild(o)}return this.samples.forEach(function(o){(0,i.arrayEach)(o.strings,function(o){var r=o.col,i=e.createElement("th");t.hot.view.appendColHeader(r,i),n.appendChild(i)})}),n}},{key:"createCol",value:function(t){var e=this,n=document,o=n.createDocumentFragment();return this.samples.forEach(function(r){(0,i.arrayEach)(r.strings,function(r){var i=r.row,a=e.hot.getCellMeta(i,t);a.col=t,a.row=i;var s=e.hot.getCellRenderer(a),l=n.createElement("td"),u=n.createElement("tr");s(e.hot,l,i,t,e.hot.colToProp(t),r.value,a),u.appendChild(l),o.appendChild(u)})}),o}},{key:"clean",value:function(){this.rows.length=0,this.rows[-1]=void 0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()}},{key:"injectTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)}},{key:"removeTable",value:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)}},{key:"createColElement",value:function(t){var e=document.createElement("col");return e.style.width=this.hot.view.wt.wtTable.getStretchedColumnWidth(t)+"px",e}},{key:"createTable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document,n=e.createDocumentFragment(),o=e.createElement("table"),i=e.createElement("thead"),a=e.createElement("tbody"),s=e.createElement("colgroup"),l=e.createElement("tr"),u=e.createElement("th");return this.isVertical()&&o.appendChild(s),this.isHorizontal()&&(l.appendChild(u),i.appendChild(l),o.style.tableLayout="auto",o.style.width="auto"),o.appendChild(i),this.isVertical()&&a.appendChild(l),o.appendChild(a),(0,r.addClass)(o,t),n.appendChild(o),{fragment:n,table:o,tHead:i,tBody:a,colGroup:s,tr:l,th:u}}},{key:"createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=document,n=e.createDocumentFragment(),o=e.createElement("div");return t="htGhostTable htAutoSize "+t.trim(),(0,r.addClass)(o,t),n.appendChild(o),{fragment:n,container:o}}},{key:"isVertical",value:function(){return!(!this.rows.length||this.columns.length)}},{key:"isHorizontal",value:function(){return!(!this.columns.length||this.rows.length)}}]),t}();e.default=a},function(t,e,n){"use strict";var o=n(37),r=n(167),i=n(45),a=n(23);t.exports=n(166)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=(o=n(42))&&o.__esModule?o:{default:o},a=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.highlight=e,this.from=n,this.to=o}return r(t,[{key:"isValid",value:function(t){return this.from.isValid(t)&&this.to.isValid(t)}},{key:"isSingle",value:function(){return this.from.row===this.to.row&&this.from.col===this.to.col}},{key:"getHeight",value:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1}},{key:"getWidth",value:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1}},{key:"includes",value:function(t){var e=t.row,n=t.col,o=this.getTopLeftCorner(),r=this.getBottomRightCorner();return o.row<=e&&r.row>=e&&o.col<=n&&r.col>=n}},{key:"includesRange",value:function(t){return this.includes(t.getTopLeftCorner())&&this.includes(t.getBottomRightCorner())}},{key:"isEqual",value:function(t){return Math.min(this.from.row,this.to.row)==Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)==Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)==Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)==Math.max(t.from.col,t.to.col)}},{key:"overlaps",value:function(t){return t.isSouthEastOf(this.getTopLeftCorner())&&t.isNorthWestOf(this.getBottomRightCorner())}},{key:"isSouthEastOf",value:function(t){return this.getTopLeftCorner().isSouthEastOf(t)||this.getBottomRightCorner().isSouthEastOf(t)}},{key:"isNorthWestOf",value:function(t){return this.getTopLeftCorner().isNorthWestOf(t)||this.getBottomRightCorner().isNorthWestOf(t)}},{key:"expand",value:function(t){var e=this.getTopLeftCorner(),n=this.getBottomRightCorner();return(t.row<e.row||t.col<e.col||t.row>n.row||t.col>n.col)&&(this.from=new i.default(Math.min(e.row,t.row),Math.min(e.col,t.col)),this.to=new i.default(Math.max(n.row,t.row),Math.max(n.col,t.col)),!0)}},{key:"expandByRange",value:function(e){if(this.includesRange(e)||!this.overlaps(e))return!1;var n=this.getTopLeftCorner(),o=this.getBottomRightCorner(),r=(this.getTopRightCorner(),this.getBottomLeftCorner(),e.getTopLeftCorner()),a=e.getBottomRightCorner(),s=Math.min(n.row,r.row),l=Math.min(n.col,r.col),u=Math.max(o.row,a.row),c=Math.max(o.col,a.col),h=new i.default(s,l),d=new i.default(u,c),f=new t(h,h,d).isCorner(this.from,e),p=e.isEqual(new t(h,h,d));return f&&!p&&(this.from.col>h.col&&(h.col=c,d.col=l),this.from.row>h.row&&(h.row=u,d.row=s)),this.from=h,this.to=d,!0}},{key:"getDirection",value:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0}},{key:"setDirection",value:function(t){switch(t){case"NW-SE":var e=[this.getTopLeftCorner(),this.getBottomRightCorner()];this.from=e[0],this.to=e[1];break;case"NE-SW":var n=[this.getTopRightCorner(),this.getBottomLeftCorner()];this.from=n[0],this.to=n[1];break;case"SE-NW":var o=[this.getBottomRightCorner(),this.getTopLeftCorner()];this.from=o[0],this.to=o[1];break;case"SW-NE":var r=[this.getBottomLeftCorner(),this.getTopRightCorner()];this.from=r[0],this.to=r[1]}}},{key:"getTopLeftCorner",value:function(){return new i.default(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"getBottomRightCorner",value:function(){return new i.default(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getTopRightCorner",value:function(){return new i.default(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))}},{key:"getBottomLeftCorner",value:function(){return new i.default(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))}},{key:"isCorner",value:function(t,e){return!!(e&&e.includes(t)&&(this.getTopLeftCorner().isEqual(new i.default(e.from.row,e.from.col))||this.getTopRightCorner().isEqual(new i.default(e.from.row,e.to.col))||this.getBottomLeftCorner().isEqual(new i.default(e.to.row,e.from.col))||this.getBottomRightCorner().isEqual(new i.default(e.to.row,e.to.col))))||t.isEqual(this.getTopLeftCorner())||t.isEqual(this.getTopRightCorner())||t.isEqual(this.getBottomLeftCorner())||t.isEqual(this.getBottomRightCorner())}},{key:"getOppositeCorner",value:function(t,e){if(!(t instanceof i.default))return!1;if(e&&e.includes(t)){if(this.getTopLeftCorner().isEqual(new i.default(e.from.row,e.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new i.default(e.from.row,e.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new i.default(e.to.row,e.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new i.default(e.to.row,e.to.col)))return this.getTopLeftCorner()}return t.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():t.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():t.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():t.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0}},{key:"getBordersSharedWith",value:function(t){if(!this.includesRange(t))return[];var e=Math.min(this.from.row,this.to.row),n=Math.max(this.from.row,this.to.row),o=Math.min(this.from.col,this.to.col),r=Math.max(this.from.col,this.to.col),i=Math.min(t.from.row,t.to.row),a=Math.max(t.from.row,t.to.row),s=Math.min(t.from.col,t.to.col),l=Math.max(t.from.col,t.to.col),u=[];return e==i&&u.push("top"),r==l&&u.push("right"),n==a&&u.push("bottom"),o==s&&u.push("left"),u}},{key:"getInner",value:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],o=t.row;o<=e.row;o++)for(var r=t.col;r<=e.col;r++)this.from.row===o&&this.from.col===r||this.to.row===o&&this.to.col===r||n.push(new i.default(o,r));return n}},{key:"getAll",value:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],o=t.row;o<=e.row;o++)for(var r=t.col;r<=e.col;r++)t.row===o&&t.col===r?n.push(t):e.row===o&&e.col===r?n.push(e):n.push(new i.default(o,r));return n}},{key:"forAll",value:function(t){for(var e=this.getTopLeftCorner(),n=this.getBottomRightCorner(),o=e.row;o<=n.row;o++)for(var r=e.col;r<=n.col;r++)if(!1===t(o,r))return}}]),t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){return{name:o}};var o=e.KEY="---------"},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var o=n(19),r=n(40);t.exports=function(t,e,n){e in t?o.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var o=n(15),r=n(13).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var o=n(10)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,n){var o=n(38);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){var o=n(10)("iterator"),r=!1;try{var i=[7][o]();i.return=function(){r=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var i=[7],a=i[o]();a.next=function(){return{done:n=!0}},i[o]=function(){return a},t(i)}catch(t){}return n}},function(t,e,n){var o=n(18),r=n(286),i=n(74),a=n(81)("IE_PROTO"),s=function(){},l=function(){var t,e=n(73)("iframe"),o=i.length;for(e.style.display="none",n(159).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;o--;)delete l.prototype[i[o]];return l()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=o(t),n=new s,s.prototype=null,n[a]=t):n=l(),void 0===e?n:r(n,e)}},function(t,e,n){var o=n(47),r=n(40),i=n(23),a=n(85),s=n(22),l=n(160),u=Object.getOwnPropertyDescriptor;e.f=n(21)?u:function(t,e){if(t=i(t),e=a(e,!0),l)try{return u(t,e)}catch(t){}if(s(t,e))return r(!o.f.call(t,e),t[e])}},function(t,e,n){var o=n(169),r=n(74).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},function(t,e,n){var o=n(82)("keys"),r=n(49);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){var o=n(13),r=o["__core-js_shared__"]||(o["__core-js_shared__"]={});t.exports=function(t){return r[t]||(r[t]={})}},function(t,e,n){var o=n(164),r=n(30);t.exports=function(t,e,n){if(o(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},function(t,e,n){var o,r,i,a=n(29),s=n(282),l=n(159),u=n(73),c=n(13),h=c.process,d=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,g=0,v={},m=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},y=function(t){m.call(t.data)};d&&f||(d=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},o(g),g},f=function(t){delete v[t]},"process"==n(38)(h)?o=function(t){h.nextTick(a(m,t,1))}:p?(i=(r=new p).port2,r.port1.onmessage=y,o=a(i.postMessage,i,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(o=function(t){c.postMessage(t+"","*")},c.addEventListener("message",y,!1)):o="onreadystatechange"in u("script")?function(t){l.appendChild(u("script")).onreadystatechange=function(){l.removeChild(this),m.call(t)}}:function(t){setTimeout(a(m,t,1),0)}),t.exports={set:d,clear:f}},function(t,e,n){var o=n(15);t.exports=function(t,e){if(!o(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!o(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!o(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,n){t.exports=e},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(20);function i(){}i.prototype={data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:void 0,colHeaders:null,colWidths:void 0,rowHeights:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedRowsBottom:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",persistentState:void 0,currentRowClassName:void 0,currentColClassName:void 0,currentHeaderClassName:"ht__highlight",className:void 0,tableClassName:void 0,stretchH:"none",isEmptyRow:function(t){var e,n,i,a;for(e=0,n=this.countCols();e<n;e++)if(""!==(i=this.getDataAtCell(t,e))&&null!==i&&(0,r.isDefined)(i))return"object"===(void 0===i?"undefined":o(i))&&(a=this.getCellMeta(t,e),isObjectEquals(this.getSchema()[a.prop],i));return!0},isEmptyCol:function(t){var e,n,o;for(e=0,n=this.countRows();e<n;e++)if(""!==(o=this.getDataAtCell(e,t))&&null!==o&&(0,r.isDefined)(o))return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,allowEmpty:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,skipColumnOnPaste:!1,search:!1,type:"text",copyable:!0,editor:void 0,autoComplete:void 0,visibleRows:10,trimDropdown:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,contextMenuCopyPaste:void 0,copyPaste:void 0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",validator:void 0,disableVisualSelection:!1,sortIndicator:void 0,manualColumnFreeze:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,label:void 0,format:void 0,language:void 0,selectOptions:void 0,autoColumnSize:void 0,autoRowSize:void 0,dateFormat:void 0,correctFormat:!1,defaultDate:void 0,strict:void 0,allowHtml:!1,renderAllRows:void 0,preventOverflow:!1,bindRowsWithHeaders:void 0,collapsibleColumns:void 0,columnSummary:void 0,dropdownMenu:void 0,filters:void 0,formulas:void 0,ganttChart:void 0,headerTooltips:void 0,hiddenColumns:void 0,hiddenRows:void 0,nestedHeaders:void 0,trimRows:void 0,rowHeaderWidth:void 0,columnHeaderHeight:void 0,observeChanges:void 0,sortFunction:void 0,sortByRelevance:!0,filter:!0,filteringCaseSensitive:!1},e.default=i},function(t,e,n){"use strict";e.__esModule=!0,e.getNormalizedDate=function(t){var e=new Date(t);return isNaN(new Date(t+"T00:00").getDate())?e:new Date(e.getTime()+6e4*e.getTimezoneOffset())}},function(t,e,n){var o=n(3);o(o.P,"Array",{copyWithin:n(275)}),n(37)("copyWithin")},function(t,e,n){var o=n(3);o(o.P,"Array",{fill:n(276)}),n(37)("fill")},function(t,e,n){"use strict";var o=n(3),r=n(53)(6),i="findIndex",a=!0;i in[]&&Array(1)[i](function(){a=!1}),o(o.P+o.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(37)(i)},function(t,e,n){"use strict";var o=n(3),r=n(53)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),o(o.P+o.F*i,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(37)("find")},function(t,e,n){"use strict";var o=n(29),r=n(3),i=n(41),a=n(165),s=n(161),l=n(24),u=n(72),c=n(176);r(r.S+r.F*!n(77)(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,r,h,d=i(t),f="function"==typeof this?this:Array,p=arguments.length,g=p>1?arguments[1]:void 0,v=void 0!==g,m=0,y=c(d);if(v&&(g=o(g,p>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(n=new f(e=l(d.length));e>m;m++)u(n,m,v?g(d[m],m):d[m]);else for(h=y.call(d),n=new f;!(r=h.next()).done;m++)u(n,m,v?a(h,g,[r.value,m],!0):r.value);return n.length=m,n}})},function(t,e,n){"use strict";var o=n(3),r=n(72);o(o.S+o.F*n(31)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)r(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){var o=n(19).f,r=n(40),i=n(22),a=Function.prototype,s=/^\s*function ([^ (]*)/,l=Object.isExtensible||function(){return!0};"name"in a||n(21)&&o(a,"name",{configurable:!0,get:function(){try{var t=(""+this).match(s)[1];return i(this,"name")||!l(this)||o(this,"name",r(5,t)),t}catch(t){return""}}})},function(t,e,n){"use strict";var o=n(157);t.exports=n(54)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=o.getEntry(this,t);return e&&e.v},set:function(t,e){return o.def(this,0===t?0:t,e)}},o,!0)},function(t,e,n){var o=n(3);o(o.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,n){var o=n(3),r=n(13).isFinite;o(o.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,n){var o=n(3);o(o.S,"Number",{isInteger:n(163)})},function(t,e,n){var o=n(3);o(o.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,n){var o=n(3),r=n(163),i=Math.abs;o(o.S,"Number",{isSafeInteger:function(t){return r(t)&&i(t)<=9007199254740991}})},function(t,e,n){var o=n(3);o(o.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var o=n(3);o(o.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var o=n(3);o(o.S+o.F,"Object",{assign:n(168)})},function(t,e,n){var o=n(3);o(o.S,"Object",{is:n(290)})},function(t,e,n){var o=n(3);o(o.S,"Object",{setPrototypeOf:n(171).set})},function(t,e,n){"use strict";var o,r,i,a=n(57),s=n(13),l=n(29),u=n(156),c=n(3),h=n(15),d=n(71),f=n(52),p=n(56),g=n(291),v=n(84).set,m=n(285)(),y=s.TypeError,w=s.process,b=s.Promise,C="process"==u(w=s.process),k=function(){},S=!!function(){try{var t=b.resolve(1),e=(t.constructor={})[n(10)("species")]=function(t){t(k,k)};return(C||"function"==typeof PromiseRejectionEvent)&&t.then(k)instanceof e}catch(t){}}(),x=function(t,e){return t===e||t===b&&e===i},T=function(t){var e;return!(!h(t)||"function"!=typeof(e=t.then))&&e},O=function(t){return x(b,t)?new R(t):new r(t)},R=r=function(t){var e,n;this.promise=new t(function(t,o){if(void 0!==e||void 0!==n)throw y("Bad Promise constructor");e=t,n=o}),this.resolve=d(e),this.reject=d(n)},E=function(t){try{t()}catch(t){return{error:t}}},M=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var o=t._v,r=1==t._s,i=0,a=function(e){var n,i,a=r?e.ok:e.fail,s=e.resolve,l=e.reject,u=e.domain;try{a?(r||(2==t._h&&P(t),t._h=1),!0===a?n=o:(u&&u.enter(),n=a(o),u&&u.exit()),n===e.promise?l(y("Promise-chain cycle")):(i=T(n))?i.call(n,s,l):s(n)):l(o)}catch(t){l(t)}};n.length>i;)a(n[i++]);t._c=[],t._n=!1,e&&!t._h&&_(t)})}},_=function(t){v.call(s,function(){var e,n,o,r=t._v;if(A(t)&&(e=E(function(){C?w.emit("unhandledRejection",r,t):(n=s.onunhandledrejection)?n({promise:t,reason:r}):(o=s.console)&&o.error&&o.error("Unhandled promise rejection",r)}),t._h=C||A(t)?2:1),t._a=void 0,e)throw e.error})},A=function(t){if(1==t._h)return!1;for(var e,n=t._a||t._c,o=0;n.length>o;)if((e=n[o++]).fail||!A(e.promise))return!1;return!0},P=function(t){v.call(s,function(){var e;C?w.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},H=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),M(e,!0))},L=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw y("Promise can't be resolved itself");(e=T(t))?m(function(){var o={_w:n,_d:!1};try{e.call(t,l(L,o,1),l(H,o,1))}catch(t){H.call(o,t)}}):(n._v=t,n._s=1,M(n,!1))}catch(t){H.call({_w:n,_d:!1},t)}}};S||(b=function(t){f(this,b,"Promise","_h"),d(t),o.call(this);try{t(l(L,this,1),l(H,this,1))}catch(t){H.call(this,t)}},(o=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(59)(b.prototype,{then:function(t,e){var n=O(g(this,b));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=C?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&M(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),R=function(){var t=new o;this.promise=t,this.resolve=l(L,t,1),this.reject=l(H,t,1)}),c(c.G+c.W+c.F*!S,{Promise:b}),n(48)(b,"Promise"),n(172)("Promise"),i=n(44).Promise,c(c.S+c.F*!S,"Promise",{reject:function(t){var e=O(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(a||!S),"Promise",{resolve:function(t){if(t instanceof b&&x(t.constructor,this))return t;var e=O(this);return(0,e.resolve)(t),e.promise}}),c(c.S+c.F*!(S&&n(77)(function(t){b.all(t).catch(k)})),"Promise",{all:function(t){var e=this,n=O(e),o=n.resolve,r=n.reject,i=E(function(){var n=[],i=0,a=1;p(t,!1,function(t){var s=i++,l=!1;n.push(void 0),a++,e.resolve(t).then(function(t){l||(l=!0,n[s]=t,--a||o(n))},r)}),--a||o(n)});return i&&r(i.error),n.promise},race:function(t){var e=this,n=O(e),o=n.reject,r=E(function(){p(t,!1,function(t){e.resolve(t).then(n.resolve,o)})});return r&&o(r.error),n.promise}})},function(t,e,n){n(21)&&"g"!=/./g.flags&&n(19).f(RegExp.prototype,"flags",{configurable:!0,get:n(280)})},function(t,e,n){n(55)("match",1,function(t,e,n){return[function(n){"use strict";var o=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,o):new RegExp(n)[e](String(o))},n]})},function(t,e,n){n(55)("replace",2,function(t,e,n){return[function(o,r){"use strict";var i=t(this),a=null==o?void 0:o[e];return void 0!==a?a.call(o,i,r):n.call(String(i),o,r)},n]})},function(t,e,n){n(55)("search",1,function(t,e,n){return[function(n){"use strict";var o=t(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,o):new RegExp(n)[e](String(o))},n]})},function(t,e,n){n(55)("split",2,function(t,e,o){"use strict";var r=n(164),i=o,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];o=function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!r(t))return i.call(n,t,e);var o,l,u,c,h,d=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,g=void 0===e?4294967295:e>>>0,v=new RegExp(t.source,f+"g");for(s||(o=new RegExp("^"+v.source+"$(?!\\s)",f));(l=v.exec(n))&&!((u=l.index+l[0].length)>p&&(d.push(n.slice(p,l.index)),!s&&l.length>1&&l[0].replace(o,function(){for(h=1;h<arguments.length-2;h++)void 0===arguments[h]&&(l[h]=void 0)}),l.length>1&&l.index<n.length&&a.apply(d,l.slice(1)),c=l[0].length,p=u,d.length>=g));)v.lastIndex===l.index&&v.lastIndex++;return p===n.length?!c&&v.test("")||d.push(""):d.push(n.slice(p)),d.length>g?d.slice(0,g):d}}else"0".split(void 0,0).length&&(o=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(n,r){var i=t(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,r):o.call(String(i),n,r)},o]})},function(t,e,n){"use strict";var o=n(157);t.exports=n(54)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return o.def(this,t=0===t?0:t,t)}},o)},function(t,e,n){"use strict";var o=n(3),r=n(292)(!1);o(o.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,n){"use strict";var o=n(3),r=n(24),i=n(83),a="".endsWith;o(o.P+o.F*n(75)("endsWith"),"String",{endsWith:function(t){var e=i(this,t,"endsWith"),n=arguments.length>1?arguments[1]:void 0,o=r(e.length),s=void 0===n?o:Math.min(r(n),o),l=String(t);return a?a.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,n){var o=n(3),r=n(60),i=String.fromCharCode,a=String.fromCodePoint;o(o.S+o.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,n=[],o=arguments.length,a=0;o>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";var o=n(3),r=n(83);o(o.P+o.F*n(75)("includes"),"String",{includes:function(t){return!!~r(this,t,"includes").indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var o=n(3),r=n(23),i=n(24);o(o.S,"String",{raw:function(t){for(var e=r(t.raw),n=i(e.length),o=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<o&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){var o=n(3);o(o.P,"String",{repeat:n(174)})},function(t,e,n){"use strict";var o=n(3),r=n(24),i=n(83),a="".startsWith;o(o.P+o.F*n(75)("startsWith"),"String",{startsWith:function(t){var e=i(this,t,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),o=String(t);return a?a.call(e,o,n):e.slice(n,n+o.length)===o}})},function(t,e,n){"use strict";var o=n(13),r=n(22),i=n(21),a=n(3),s=n(33),l=n(46).KEY,u=n(31),c=n(82),h=n(48),d=n(49),f=n(10),p=n(175),g=n(293),v=n(284),m=n(279),y=n(162),w=n(18),b=n(23),C=n(85),k=n(40),S=n(78),x=n(287),T=n(79),O=n(19),R=n(39),E=T.f,M=O.f,_=x.f,A=o.Symbol,P=o.JSON,H=P&&P.stringify,L=f("_hidden"),D=f("toPrimitive"),N={}.propertyIsEnumerable,I=c("symbol-registry"),W=c("symbols"),F=c("op-symbols"),B=Object.prototype,z="function"==typeof A,V=o.QObject,j=!V||!V.prototype||!V.prototype.findChild,U=i&&u(function(){return 7!=S(M({},"a",{get:function(){return M(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=E(B,e);o&&delete B[e],M(t,e,n),o&&t!==B&&M(B,e,o)}:M,Y=function(t){var e=W[t]=S(A.prototype);return e._k=t,e},K=z&&"symbol"==typeof A.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof A},G=function(t,e,n){return t===B&&G(F,e,n),w(t),e=C(e,!0),w(n),r(W,e)?(n.enumerable?(r(t,L)&&t[L][e]&&(t[L][e]=!1),n=S(n,{enumerable:k(0,!1)})):(r(t,L)||M(t,L,k(1,{})),t[L][e]=!0),U(t,e,n)):M(t,e,n)},X=function(t,e){w(t);for(var n,o=m(e=b(e)),r=0,i=o.length;i>r;)G(t,n=o[r++],e[n]);return t},q=function(t){var e=N.call(this,t=C(t,!0));return!(this===B&&r(W,t)&&!r(F,t))&&(!(e||!r(this,t)||!r(W,t)||r(this,L)&&this[L][t])||e)},Q=function(t,e){if(t=b(t),e=C(e,!0),t!==B||!r(W,e)||r(F,e)){var n=E(t,e);return!n||!r(W,e)||r(t,L)&&t[L][e]||(n.enumerable=!0),n}},J=function(t){for(var e,n=_(b(t)),o=[],i=0;n.length>i;)r(W,e=n[i++])||e==L||e==l||o.push(e);return o},$=function(t){for(var e,n=t===B,o=_(n?F:b(t)),i=[],a=0;o.length>a;)!r(W,e=o[a++])||n&&!r(B,e)||i.push(W[e]);return i};z||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var t=d(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(F,n),r(this,L)&&r(this[L],t)&&(this[L][t]=!1),U(this,t,k(1,n))};return i&&j&&U(B,t,{configurable:!0,set:e}),Y(t)}).prototype,"toString",function(){return this._k}),T.f=Q,O.f=G,n(80).f=x.f=J,n(47).f=q,n(58).f=$,i&&!n(57)&&s(B,"propertyIsEnumerable",q,!0),p.f=function(t){return Y(f(t))}),a(a.G+a.W+a.F*!z,{Symbol:A});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;Z.length>tt;)f(Z[tt++]);for(Z=R(f.store),tt=0;Z.length>tt;)g(Z[tt++]);a(a.S+a.F*!z,"Symbol",{for:function(t){return r(I,t+="")?I[t]:I[t]=A(t)},keyFor:function(t){if(K(t))return v(I,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){j=!0},useSimple:function(){j=!1}}),a(a.S+a.F*!z,"Object",{create:function(t,e){return void 0===e?S(t):X(S(t),e)},defineProperty:G,defineProperties:X,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:$}),P&&a(a.S+a.F*(!z||u(function(){var t=A();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!K(t)){for(var e,n,o=[t],r=1;arguments.length>r;)o.push(arguments[r++]);return"function"==typeof(e=o[1])&&(n=e),!n&&y(e)||(e=function(t,e){if(n&&(e=n.call(this,t,e)),!K(e))return e}),o[1]=e,H.apply(P,o)}}}),A.prototype[D]||n(32)(A.prototype,D,A.prototype.valueOf),h(A,"Symbol"),h(Math,"Math",!0),h(o.JSON,"JSON",!0)},function(t,e,n){"use strict";var o,r=n(53)(0),i=n(33),a=n(46),s=n(168),l=n(158),u=n(15),c=a.getWeak,h=Object.isExtensible,d=l.ufstore,f={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(t){if(u(t)){var e=c(t);return!0===e?d(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return l.def(this,t,e)}},v=t.exports=n(54)("WeakMap",p,g,l,!0,!0);7!=(new v).set((Object.freeze||Object)(f),7).get(f)&&(s((o=l.getConstructor(p)).prototype,g),a.NEED=!0,r(["delete","has","get","set"],function(t){var e=v.prototype,n=e[t];i(e,t,function(e,r){if(u(e)&&!h(e)){this._f||(this._f=new o);var i=this._f[t](e,r);return"set"==t?this:i}return n.call(this,e,r)})}))},function(t,e,n){"use strict";var o=n(158);n(54)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return o.def(this,t,!0)}},o,!1,!0)},function(t,e,n){"use strict";var o=n(3),r=n(155)(!0);o(o.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(37)("includes")},function(t,e,n){var o=n(3),r=n(170)(!0);o(o.S,"Object",{entries:function(t){return r(t)}})},function(t,e,n){var o=n(3),r=n(289),i=n(23),a=n(79),s=n(72);o(o.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,n=i(t),o=a.f,l=r(n),u={},c=0;l.length>c;)s(u,e=l[c++],o(n,e));return u}})},function(t,e,n){var o=n(3),r=n(170)(!1);o(o.S,"Object",{values:function(t){return r(t)}})},function(t,e,n){"use strict";var o=n(3),r=n(173);o(o.P,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,n){"use strict";var o=n(3),r=n(173);o(o.P,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,n){for(var o=n(68),r=n(33),i=n(13),a=n(32),s=n(45),l=n(10),u=l("iterator"),c=l("toStringTag"),h=s.Array,d=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],f=0;f<5;f++){var p,g=d[f],v=i[g],m=v&&v.prototype;if(m)for(p in m[u]||a(m,u,h),m[c]||a(m,c,g),s[g]=h,o)m[p]||r(m,p,o[p],!0)}},function(t,e,n){var o=n(3),r=n(84);o(o.G+o.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,n){"use strict";!function(t){function n(t){return t.split('"').length-1}e.parse=function(t){var e,o,r,i,a,s,l,u=[],c=0;for((r=t.split("\n")).length>1&&""===r[r.length-1]&&r.pop(),e=0,o=r.length;e<o;e+=1){for(r[e]=r[e].split("\t"),i=0,a=r[e].length;i<a;i+=1)u[c]||(u[c]=[]),s&&0===i?(l=u[c].length-1,u[c][l]=u[c][l]+"\n"+r[e][0],s&&1&n(r[e][0])&&(s=!1,u[c][l]=u[c][l].substring(0,u[c][l].length-1).replace(/""/g,'"'))):i===a-1&&0===r[e][i].indexOf('"')&&1&n(r[e][i])?(u[c].push(r[e][i].substring(1).replace(/""/g,'"')),s=!0):(u[c].push(r[e][i].replace(/""/g,'"')),s=!1);s||(c+=1)}return u},e.stringify=function(t){var e,n,o,r,i,a="";for(e=0,n=t.length;e<n;e+=1){for(r=t[e].length,o=0;o<r;o+=1)o>0&&(a+="\t"),"string"==typeof(i=t[e][o])?i.indexOf("\n")>-1?a+='"'+i.replace(/"/g,'""')+'"':a+=i:a+=null==i?"":i;e!==n-1&&(a+="\n")}return a}}(window)},function(t,e,n){"use strict";var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=Error;!function(t){var e=function(t){if(l(t)){for(var e=new Array(t.length),n=0;n<e.length;n++)e[n]=""+n;return e}if(Object.keys)return Object.keys(t);for(var o in e=[],t)t.hasOwnProperty(o)&&e.push(o);return e},n={add:function(t,e){return t[e]=this.value,!0},remove:function(t,e){return delete t[e],!0},replace:function(t,e){return t[e]=this.value,!0},move:function(t,e,n){var o={op:"_get",path:this.from};return v(n,[o]),v(n,[{op:"remove",path:this.from}]),v(n,[{op:"add",path:this.path,value:o.value}]),!0},copy:function(t,e,n){var o={op:"_get",path:this.from};return v(n,[o]),v(n,[{op:"add",path:this.path,value:o.value}]),!0},test:function(t,n){return function t(n,o){switch(void 0===n?"undefined":r(n)){case"undefined":case"boolean":case"string":case"number":return n===o;case"object":if(null===n)return null===o;if(l(n)){if(!l(o)||n.length!==o.length)return!1;for(var i=0,a=n.length;i<a;i++)if(!t(n[i],o[i]))return!1;return!0}var s=e(o).length;if(e(n).length!==s)return!1;for(i=0;i<s;i++)if(!t(n[i],o[i]))return!1;return!0;default:return!1}}(t[n],this.value)},_get:function(t,e){this.value=t[e]}},o={add:function(t,e){return t.splice(e,0,this.value),!0},remove:function(t,e){return t.splice(e,1),!0},replace:function(t,e){return t[e]=this.value,!0},move:n.move,copy:n.copy,test:n.test,_get:n._get},a={add:function(t){for(var e in a.remove.call(this,t),this.value)this.value.hasOwnProperty(e)&&(t[e]=this.value[e]);return!0},remove:function(t){for(var e in t)t.hasOwnProperty(e)&&n.remove.call(this,t,e);return!0},replace:function(t){return v(t,[{op:"remove",path:this.path}]),v(t,[{op:"add",path:this.path,value:this.value}]),!0},move:n.move,copy:n.copy,test:function(t){return JSON.stringify(t)===JSON.stringify(this.value)},_get:function(t){this.value=t}};function s(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}var l,u=[],c=function(t){this.observers=[],this.obj=t},h=function(t,e){this.callback=t,this.observer=e};function d(t){return"object"===(void 0===t?"undefined":r(t))?JSON.parse(JSON.stringify(t)):t}function f(t){for(var e,n=0,o=u.length;n<o;n++)if(u[n].obj===t.object){e=u[n];break}p(e.value,t.object,t.patches,""),t.patches.length&&v(e.value,t.patches);var r=t.patches;return r.length>0&&(t.patches=[],t.callback&&t.callback(r)),r}function p(t,n,o,i){for(var a=e(n),l=e(t),u=!1,c=l.length-1;c>=0;c--){var h=t[g=l[c]];if(n.hasOwnProperty(g)){var f=n[g];"object"==(void 0===h?"undefined":r(h))&&null!=h&&"object"==(void 0===f?"undefined":r(f))&&null!=f?p(h,f,o,i+"/"+s(g)):h!=f&&o.push({op:"replace",path:i+"/"+s(g),value:d(f)})}else o.push({op:"remove",path:i+"/"+s(g)}),u=!0}if(u||a.length!=l.length)for(c=0;c<a.length;c++){var g=a[c];t.hasOwnProperty(g)||o.push({op:"add",path:i+"/"+s(g),value:d(n[g])})}}function g(t){for(var e,n=0,o=t.length;n<o;){if(!((e=t.charCodeAt(n))>=48&&e<=57))return!1;n++}return!0}function v(t,e,r){for(var i,s,u=!1,c=0,h=e.length;c<h;){i=e[c],c++;for(var d=(i.path||"").split("/"),f=t,p=1,v=d.length,y=void 0;;){if(s=d[p],r&&void 0===y&&(void 0===f[s]?y=d.slice(0,p).join("/"):p==v-1&&(y=i.path),void 0!==y&&this.validator(i,c-1,t,y)),p++,void 0===s&&p>=v){u=a[i.op].call(i,f,s,t);break}if(l(f)){if("-"===s)s=f.length;else{if(r&&!g(s))throw new m("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",c-1,i.path,i);s=parseInt(s,10)}if(p>=v){if(r&&"add"===i.op&&s>f.length)throw new m("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",c-1,i.path,i);u=o[i.op].call(i,f,s,t);break}}else if(s&&-1!=s.indexOf("~")&&(s=s.replace(/~1/g,"/").replace(/~0/g,"~")),p>=v){u=n[i.op].call(i,f,s,t);break}f=f[s]}}return u}t.unobserve=function(t,e){e.unobserve()},t.observe=function(t,e){var n,o=function(t){for(var e=0,n=u.length;e<n;e++)if(u[e].obj===t)return u[e]}(t);if(o?n=function(t,e){for(var n=0,o=t.observers.length;n<o;n++)if(t.observers[n].callback===e)return t.observers[n].observer}(o,e):(o=new c(t),u.push(o)),n)return n;if(n={},o.value=d(t),e){n.callback=e,n.next=null;var r=this.intervals||[100,1e3,1e4,6e4];if(void 0===r.push)throw new i("jsonpatch.intervals must be an array");var a=0,s=function(){f(n)},l=function(){clearTimeout(n.next),n.next=setTimeout(function(){s(),a=0,n.next=setTimeout(p,r[a++])},0)},p=function t(){s(),a==r.length&&(a=r.length-1),n.next=setTimeout(t,r[a++])};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mousedown",l),window.addEventListener("mouseup",l),window.addEventListener("keydown",l)):(document.documentElement.attachEvent("onmousedown",l),document.documentElement.attachEvent("onmouseup",l),document.documentElement.attachEvent("onkeydown",l))),n.next=setTimeout(p,r[a++])}return n.patches=[],n.object=t,n.unobserve=function(){f(n),clearTimeout(n.next),function(t,e){for(var n=0,o=t.observers.length;n<o;n++)if(t.observers[n].observer===e)return void t.observers.splice(n,1)}(o,n),"undefined"!=typeof window&&(window.removeEventListener?(window.removeEventListener("mousedown",l),window.removeEventListener("mouseup",l),window.removeEventListener("keydown",l)):(document.documentElement.detachEvent("onmousedown",l),document.documentElement.detachEvent("onmouseup",l),document.documentElement.detachEvent("onkeydown",l)))},o.observers.push(new h(e,n)),n},t.generate=f,l=Array.isArray?Array.isArray:function(t){return t.push&&"number"==typeof t.length},t.apply=v,t.compare=function(t,e){var n=[];return p(t,e,n,""),n};var m=function(t){function e(e,n,o,r,i){t.call(this,e),this.message=e,this.name=n,this.index=o,this.operation=r,this.tree=i}return function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function o(){this.constructor=t}t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}(e,t),e}(i);t.JsonPatchError=m,t.Error=m,t.validator=function(e,o,i,a){if("object"!==(void 0===e?"undefined":r(e))||null===e||l(e))throw new m("Operation is not an object","OPERATION_NOT_AN_OBJECT",o,e,i);if(!n[e.op])throw new m("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,e,i);if("string"!=typeof e.path)throw new m("Operation `path` property is not a string","OPERATION_PATH_INVALID",o,e,i);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new m("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",o,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new m("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",o,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&function t(e){if(void 0===e)return!0;if("array"==typeof e||"object"==(void 0===e?"undefined":r(e)))for(var n in e)if(t(e[n]))return!0;return!1}(e.value))throw new m("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",o,e,i);if(i)if("add"==e.op){var s=e.path.split("/").length,u=a.split("/").length;if(s!==u+1&&s!==u)throw new m("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",o,e,i)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==a)throw new m("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",o,e,i)}else if("move"===e.op||"copy"===e.op){var c={op:"_get",path:e.from,value:void 0},h=t.validate([c],i);if(h&&"OPERATION_PATH_UNRESOLVABLE"===h.name)throw new m("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",o,e,i)}},t.validate=function(t,e){try{if(!l(t))throw new m("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)e=JSON.parse(JSON.stringify(e)),v.call(this,e,t,!0);else for(var n=0;n<t.length;n++)this.validator(t[n],n)}catch(t){if(t instanceof m)return t;throw t}}}(o||(o={})),e.apply=o.apply,e.observe=o.observe,e.unobserve=o.unobserve,e.generate=o.generate,e.compare=o.compare,e.validate=o.validate,e.validator=o.validator,e.JsonPatchError=o.JsonPatchError,e.Error=o.Error},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),i=n(7),a=n(2),s=n(25),l=c(n(4)),u=c(n(42));function c(t){return t&&t.__esModule?t:{default:t}}c(n(28));var h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n&&(this.eventManager=new l.default(e),this.instance=e,this.wot=e,this.settings=n,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"5px",height:"5px",borderWidth:"2px",borderStyle:"solid",borderColor:"#FFF"},this.corner=null,this.cornerStyle=null,this.createBorders(n),this.registerListeners())}return o(t,[{key:"registerListeners",value:function(){var t=this;this.eventManager.addEventListener(document.body,"mousedown",function(){return t.onMouseDown()}),this.eventManager.addEventListener(document.body,"mouseup",function(){return t.onMouseUp()});for(var e=function(e,n){t.eventManager.addEventListener(t.main.childNodes[e],"mouseenter",function(n){return t.onMouseEnter(n,t.main.childNodes[e])})},n=0,o=this.main.childNodes.length;n<o;n++)e(n)}},{key:"onMouseDown",value:function(){this.mouseDown=!0}},{key:"onMouseUp",value:function(){this.mouseDown=!1}},{key:"onMouseEnter",value:function(t,e){if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){t.preventDefault(),(0,i.stopImmediatePropagation)(t);var n=this,o=e.getBoundingClientRect();e.style.display="none",this.eventManager.addEventListener(document.body,"mousemove",function t(r){(function(t){return t.clientY<Math.floor(o.top)||t.clientY>Math.ceil(o.top+o.height)||t.clientX<Math.floor(o.left)||t.clientX>Math.ceil(o.left+o.width)||void 0})(r)&&(n.eventManager.removeEventListener(document.body,"mousemove",t),e.style.display="block")})}}},{key:"createBorders",value:function(t){this.main=document.createElement("div");var e=["top","left","bottom","right","corner"],n=this.main.style;n.position="absolute",n.top=0,n.left=0;for(var o=0;o<5;o++){var r=e[o],i=document.createElement("div");i.className="wtBorder "+(this.settings.className||""),this.settings[r]&&this.settings[r].hide&&(i.className+=" hidden"),(n=i.style).backgroundColor=this.settings[r]&&this.settings[r].color?this.settings[r].color:t.border.color,n.height=this.settings[r]&&this.settings[r].width?this.settings[r].width+"px":t.border.width+"px",n.width=this.settings[r]&&this.settings[r].width?this.settings[r].width+"px":t.border.width+"px",this.main.appendChild(i)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),(0,s.isMobileBrowser)()&&this.createMultipleSelectorHandles(),this.disappear(),this.wot.wtTable.bordersHolder||(this.wot.wtTable.bordersHolder=document.createElement("div"),this.wot.wtTable.bordersHolder.className="htBorders",this.wot.wtTable.spreader.appendChild(this.wot.wtTable.bordersHolder)),this.wot.wtTable.bordersHolder.insertBefore(this.main,this.wot.wtTable.bordersHolder.firstChild)}},{key:"createMultipleSelectorHandles",value:function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")},this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var t={position:"absolute",height:"40px",width:"40px","border-radius":parseInt(40/1.5,10)+"px"};for(var e in t)(0,a.hasOwnProperty)(t,e)&&(this.selectionHandles.styles.bottomRightHitArea[e]=t[e],this.selectionHandles.styles.topLeftHitArea[e]=t[e]);var n={position:"absolute",height:"10px",width:"10px","border-radius":parseInt(10/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var o in n)(0,a.hasOwnProperty)(n,o)&&(this.selectionHandles.styles.bottomRight[o]=n[o],this.selectionHandles.styles.topLeft[o]=n[o]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)}},{key:"isPartRange",value:function(t,e){return!(!this.wot.selections.area.cellRange||t==this.wot.selections.area.cellRange.to.row&&e==this.wot.selections.area.cellRange.to.col)}},{key:"updateMultipleSelectionHandlesPosition",value:function(t,e,n,o,r,i){var a=parseInt(this.selectionHandles.styles.topLeft.width,10),s=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(n-a,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(o-a,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(n-s/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(o-s/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(n+i,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(o+r,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(n+i-s/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(o+r-s/4,10)+"px",this.settings.border.multipleSelectionHandlesVisible&&this.settings.border.multipleSelectionHandlesVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(t,e)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),t==this.wot.wtSettings.getSetting("fixedRowsTop")||e==this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")}},{key:"appear",value:function(t){if(!this.disabled){var e,n,o,i,a,l,c,h,d,f,p,g,v,m,y,w,b,C;C=this.wot.wtTable.getRenderedRowsCount();for(var k=0;k<C;k++){var S=this.wot.wtTable.rowFilter.renderedToSource(k);if(S>=t[0]&&S<=t[2]){v=S;break}}for(var x=C-1;x>=0;x--){var T=this.wot.wtTable.rowFilter.renderedToSource(x);if(T>=t[0]&&T<=t[2]){y=T;break}}C=this.wot.wtTable.getRenderedColumnsCount();for(var O=0;O<C;O++){var R=this.wot.wtTable.columnFilter.renderedToSource(O);if(R>=t[1]&&R<=t[3]){m=R;break}}for(var E=C-1;E>=0;E--){var M=this.wot.wtTable.columnFilter.renderedToSource(E);if(M>=t[1]&&M<=t[3]){w=M;break}}if(void 0!==v&&void 0!==m){e=v!==y||m!==w,n=this.wot.wtTable.getCell(new u.default(v,m)),o=e?this.wot.wtTable.getCell(new u.default(y,w)):n,i=(0,r.offset)(n),a=e?(0,r.offset)(o):i,l=(0,r.offset)(this.wot.wtTable.TABLE),h=i.top,p=a.top+(0,r.outerHeight)(o)-h,f=i.left,g=a.left+(0,r.outerWidth)(o)-f,c=h-l.top-1,d=f-l.left-1;var _=(0,r.getComputedStyle)(n);parseInt(_.borderTopWidth,10)>0&&(c+=1,p=p>0?p-1:0),parseInt(_.borderLeftWidth,10)>0&&(d+=1,g=g>0?g-1:0),this.topStyle.top=c+"px",this.topStyle.left=d+"px",this.topStyle.width=g+"px",this.topStyle.display="block",this.leftStyle.top=c+"px",this.leftStyle.left=d+"px",this.leftStyle.height=p+"px",this.leftStyle.display="block";var A=Math.floor(this.settings.border.width/2);this.bottomStyle.top=c+p-A+"px",this.bottomStyle.left=d+"px",this.bottomStyle.width=g+"px",this.bottomStyle.display="block",this.rightStyle.top=c+"px",this.rightStyle.left=d+g-A+"px",this.rightStyle.height=p+1+"px",this.rightStyle.display="block",(0,s.isMobileBrowser)()||!this.hasSetting(this.settings.border.cornerVisible)||this.isPartRange(y,w)?this.cornerStyle.display="none":(this.cornerStyle.top=c+p-4+"px",this.cornerStyle.left=d+g-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="none",b=(0,r.getTrimmingContainer)(this.wot.wtTable.TABLE),w===this.wot.getSetting("totalColumns")-1&&o.offsetLeft+(0,r.outerWidth)(o)+parseInt(this.cornerDefaultStyle.width,10)/2>=(0,r.innerWidth)(b)&&(this.cornerStyle.left=Math.floor(d+g-3-parseInt(this.cornerDefaultStyle.width,10)/2)+"px",this.cornerStyle.borderRightWidth=0),y===this.wot.getSetting("totalRows")-1&&o.offsetTop+(0,r.outerHeight)(o)+parseInt(this.cornerDefaultStyle.height,10)/2>=(0,r.innerHeight)(b)&&(this.cornerStyle.top=Math.floor(c+p-3-parseInt(this.cornerDefaultStyle.height,10)/2)+"px",this.cornerStyle.borderBottomWidth=0),this.cornerStyle.display="block"),(0,s.isMobileBrowser)()&&this.updateMultipleSelectionHandlesPosition(v,m,c,d,g,p)}else this.disappear()}}},{key:"disappear",value:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",(0,s.isMobileBrowser)()&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")}},{key:"hasSetting",value:function(t){return"function"==typeof t?t():!!t}}]),t}();e.default=h},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=new WeakMap,i=function(){function t(e,n,o,i,a,s,l){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:function(t){return t};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r.set(this,{viewportWidth:e,scrollOffset:n,totalColumns:o,columnWidthFn:i,overrideFn:a,onlyFullyVisible:s,stretchingColumnWidthFn:u}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=l,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()}return o(t,null,[{key:"DEFAULT_WIDTH",get:function(){return 50}}]),o(t,[{key:"calculate",value:function(){for(var t=0,e=!0,n=[],o=void 0,i=r.get(this),a=i.onlyFullyVisible,s=i.overrideFn,l=i.scrollOffset,u=i.totalColumns,c=i.viewportWidth,h=0;h<u;h++)if(o=this._getColumnWidth(h),t<=l&&!a&&(this.startColumn=h),t>=l&&t+o<=l+(l>0?c+1:c)&&(null==this.startColumn&&(this.startColumn=h),this.endColumn=h),n.push(t),t+=o,a||(this.endColumn=h),t>=l+c){e=!1;break}if(this.endColumn===u-1&&e)for(this.startColumn=this.endColumn;this.startColumn>0;){var d=n[this.endColumn]+o-n[this.startColumn-1];if((d<=c||!a)&&this.startColumn--,d>c)break}null!==this.startColumn&&s&&s(this),this.startPosition=n[this.startColumn],null==this.startPosition&&(this.startPosition=null),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}},{key:"refreshStretching",value:function(t){if("none"!==this.stretch){this.totalTargetWidth=t;for(var e=r.get(this),n=e.totalColumns,o=0,i=0;i<n;i++){var a=this._getColumnWidth(i),s=e.stretchingColumnWidthFn(void 0,i);"number"==typeof s?t-=s:o+=a}var l=t-o;if("all"===this.stretch&&l>0)this.stretchAllRatio=t/o,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0;else if("last"===this.stretch&&t!==1/0){var u=this._getColumnWidth(n-1),c=l+u;this.stretchLastWidth=c>=0?c:u}}}},{key:"getStretchedColumnWidth",value:function(t,e){var n=null;return"all"===this.stretch&&0!==this.stretchAllRatio?n=this._getStretchedAllColumnWidth(t,e):"last"===this.stretch&&0!==this.stretchLastWidth&&(n=this._getStretchedLastColumnWidth(t)),n}},{key:"_getStretchedAllColumnWidth",value:function(t,e){var n=0,o=r.get(this),i=o.totalColumns;if(!this.stretchAllColumnsWidth[t]){var a=Math.round(e*this.stretchAllRatio),s=o.stretchingColumnWidthFn(a,t);this.stretchAllColumnsWidth[t]=void 0===s?a:isNaN(s)?this._getColumnWidth(t):s}if(this.stretchAllColumnsWidth.length===i&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var l=0;l<this.stretchAllColumnsWidth.length;l++)n+=this.stretchAllColumnsWidth[l];n!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-n)}return this.stretchAllColumnsWidth[t]}},{key:"_getStretchedLastColumnWidth",value:function(t){return t===r.get(this).totalColumns-1?this.stretchLastWidth:null}},{key:"_getColumnWidth",value:function(e){var n=r.get(this).columnWidthFn(e);return void 0===n&&(n=t.DEFAULT_WIDTH),n}}]),t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=new WeakMap,i=function(){function t(e,n,o,i,a,s,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r.set(this,{viewportHeight:e,scrollOffset:n,totalRows:o,rowHeightFn:i,overrideFn:a,onlyFullyVisible:s,horizontalScrollbarHeight:l}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()}return o(t,null,[{key:"DEFAULT_HEIGHT",get:function(){return 23}}]),o(t,[{key:"calculate",value:function(){for(var e=0,n=!0,o=[],i=r.get(this),a=i.onlyFullyVisible,s=i.overrideFn,l=i.rowHeightFn,u=i.scrollOffset,c=i.totalRows,h=i.viewportHeight,d=i.horizontalScrollbarHeight||0,f=void 0,p=0;p<c;p++)if(void 0===(f=l(p))&&(f=t.DEFAULT_HEIGHT),e<=u&&!a&&(this.startRow=p),e>=u&&e+f<=u+h-d&&(null===this.startRow&&(this.startRow=p),this.endRow=p),o.push(e),e+=f,a||(this.endRow=p),e>=u+h-d){n=!1;break}if(this.endRow===c-1&&n)for(this.startRow=this.endRow;this.startRow>0;){var g=o[this.endRow]+f-o[this.startRow-1];if((g<=h-d||!a)&&this.startRow--,g>=h-d)break}null!==this.startRow&&s&&s(this),this.startPosition=o[this.startRow],null==this.startPosition&&(this.startPosition=null),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}}]),t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),i=n(2),a=n(27),s=f(n(138)),l=f(n(141)),u=f(n(142)),c=f(n(143)),h=f(n(144)),d=f(n(146));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=[];if(this.guid="wt_"+(0,a.randomString)(),e.cloneSource?(this.cloneSource=e.cloneSource,this.cloneOverlay=e.cloneOverlay,this.wtSettings=e.cloneSource.wtSettings,this.wtTable=new h.default(this,e.table,e.wtRootElement),this.wtScroll=new u.default(this),this.wtViewport=e.cloneSource.wtViewport,this.wtEvent=new s.default(this),this.selections=this.cloneSource.selections):(this.wtSettings=new c.default(this,e),this.wtTable=new h.default(this,e.table),this.wtScroll=new u.default(this),this.wtViewport=new d.default(this),this.wtEvent=new s.default(this),this.selections=this.getSetting("selections"),this.wtOverlays=new l.default(this),this.exportSettingsAsClassNames()),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var o=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;o<i;o++)n.push(this.wtTable.THEAD.childNodes[0].childNodes[o].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(t,e){(0,r.fastInnerText)(e,n[t])}])}this.drawn=!1,this.drawInterrupted=!1}return o(t,[{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.drawInterrupted=!1,t||(0,r.isVisible)(this.wtTable.TABLE)?this.wtTable.draw(t):this.drawInterrupted=!0,this}},{key:"getCell",value:function(t){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return this.wtTable.getCell(t);var e=this.wtSettings.getSetting("totalRows"),n=this.wtSettings.getSetting("fixedRowsTop"),o=this.wtSettings.getSetting("fixedRowsBottom"),r=this.wtSettings.getSetting("fixedColumnsLeft");if(t.row<n&&t.col<r)return this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(t);if(t.row<n)return this.wtOverlays.topOverlay.clone.wtTable.getCell(t);if(t.col<r&&t.row>=e-o){if(this.wtOverlays.bottomLeftCornerOverlay&&this.wtOverlays.bottomLeftCornerOverlay.clone)return this.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.getCell(t)}else{if(t.col<r)return this.wtOverlays.leftOverlay.clone.wtTable.getCell(t);if(t.row<e&&t.row>e-o&&this.wtOverlays.bottomOverlay&&this.wtOverlays.bottomOverlay.clone)return this.wtOverlays.bottomOverlay.clone.wtTable.getCell(t)}return this.wtTable.getCell(t)}},{key:"update",value:function(t,e){return this.wtSettings.update(t,e)}},{key:"scrollVertical",value:function(t){return this.wtOverlays.topOverlay.scrollTo(t),this.getSetting("onScrollVertically"),this}},{key:"scrollHorizontal",value:function(t){return this.wtOverlays.leftOverlay.scrollTo(t),this.getSetting("onScrollHorizontally"),this}},{key:"scrollViewport",value:function(t){return this.wtScroll.scrollViewport(t),this}},{key:"getViewport",value:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]}},{key:"getOverlayName",value:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"}},{key:"isOverlayName",value:function(t){return!!this.cloneOverlay&&this.cloneOverlay.type===t}},{key:"exportSettingsAsClassNames",value:function(){var t=this,e=[],n=[];(0,i.objectEach)({rowHeaders:["array"],columnHeaders:["array"]},function(o,r){o.indexOf("array")>-1&&t.getSetting(r).length&&n.push("ht"+(0,a.toUpperCaseFirst)(r)),e.push("ht"+(0,a.toUpperCaseFirst)(r))}),(0,r.removeClass)(this.wtTable.wtRootElement.parentNode,e),(0,r.addClass)(this.wtTable.wtRootElement.parentNode,n)}},{key:"getSetting",value:function(t,e,n,o,r){return this.wtSettings.getSetting(t,e,n,o,r)}},{key:"hasSetting",value:function(t){return this.wtSettings.has(t)}},{key:"destroy",value:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}}]),t}();e.default=p},function(t,e,n){"use strict";e.__esModule=!0;var o,r=n(0),i=n(35),a=n(25),s=(o=n(4))&&o.__esModule?o:{default:o};function l(t){var e=this,n=new s.default(t);this.instance=t;var o=[null,null];this.dblClickTimeout=[null,null];var l=function(t){var n=document.activeElement,a=(0,i.partial)(r.getParent,t.realTarget),s=t.realTarget;if(s!==n&&a(0)!==n&&a(1)!==n){var l=e.parentCell(s);(0,r.hasClass)(s,"corner")?e.instance.getSetting("onCellCornerMouseDown",t,s):l.TD&&e.instance.hasSetting("onCellMouseDown")&&e.instance.getSetting("onCellMouseDown",t,l.coords,l.TD,e.instance),2!==t.button&&l.TD&&(o[0]=l.TD,clearTimeout(e.dblClickTimeout[0]),e.dblClickTimeout[0]=setTimeout(function(){o[0]=null},1e3))}},u=function(t){e.instance.touchMoving=!0},c=function(t){if(2!==t.button){var n=e.parentCell(t.realTarget);n.TD===o[0]&&n.TD===o[1]?((0,r.hasClass)(t.realTarget,"corner")?e.instance.getSetting("onCellCornerDblClick",t,n.coords,n.TD,e.instance):e.instance.getSetting("onCellDblClick",t,n.coords,n.TD,e.instance),o[0]=null,o[1]=null):n.TD===o[0]?(e.instance.getSetting("onCellMouseUp",t,n.coords,n.TD,e.instance),o[1]=n.TD,clearTimeout(e.dblClickTimeout[1]),e.dblClickTimeout[1]=setTimeout(function(){o[1]=null},500)):n.TD&&e.instance.hasSetting("onCellMouseUp")&&e.instance.getSetting("onCellMouseUp",t,n.coords,n.TD,e.instance)}};if(n.addEventListener(this.instance.wtTable.holder,"mousedown",l),n.addEventListener(this.instance.wtTable.TABLE,"mouseover",function(t){var n,o,i;e.instance.hasSetting("onCellMouseOver")&&(n=e.instance.wtTable.TABLE,o=(0,r.closestDown)(t.realTarget,["TD","TH"],n),i=e.instance.cloneSource||e.instance,o&&o!==i.lastMouseOver&&(0,r.isChildOf)(o,n)&&(i.lastMouseOver=o,e.instance.getSetting("onCellMouseOver",t,e.instance.wtTable.getCoords(o),o,e.instance)))}),n.addEventListener(this.instance.wtTable.TABLE,"mouseout",function(t){var n=void 0,o=void 0,i=void 0;e.instance.hasSetting("onCellMouseOut")&&(n=e.instance.wtTable.TABLE,o=(0,r.closestDown)(t.realTarget,["TD","TH"],n),i=(0,r.closestDown)(t.relatedTarget,["TD","TH"],n),o&&o!==i&&(0,r.isChildOf)(o,n)&&e.instance.getSetting("onCellMouseOut",t,e.instance.wtTable.getCoords(o),o,e.instance))}),n.addEventListener(this.instance.wtTable.holder,"mouseup",c),this.instance.wtTable.holder.parentNode.parentNode&&(0,a.isMobileBrowser)()&&!e.instance.wtTable.isWorkingOnClone()){var h="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");n.addEventListener(this.instance.wtTable.holder,"touchstart",function(t){e.instance.touchApplied=!0,(0,r.isChildOf)(t.target,h)&&function(t){n.addEventListener(this,"touchmove",u),e.checkIfTouchMove=setTimeout(function(){!0===e.instance.touchMoving&&(e.instance.touchMoving=void 0,n.removeEventListener("touchmove",u,!1)),l(t)},30)}.call(t.target,t)}),n.addEventListener(this.instance.wtTable.holder,"touchend",function(t){e.instance.touchApplied=!1,(0,r.isChildOf)(t.target,h)&&function(t){clearTimeout(void 0),t.preventDefault(),c(t)}.call(t.target,t)}),e.instance.momentumScrolling||(e.instance.momentumScrolling={}),n.addEventListener(this.instance.wtTable.holder,"scroll",function(t){clearTimeout(e.instance.momentumScrolling._timeout),e.instance.momentumScrolling.ongoing||e.instance.getSetting("onBeforeTouchScroll"),e.instance.momentumScrolling.ongoing=!0,e.instance.momentumScrolling._timeout=setTimeout(function(){e.instance.touchApplied||(e.instance.momentumScrolling.ongoing=!1,e.instance.getSetting("onAfterMomentumScroll"))},200)})}n.addEventListener(window,"resize",function(){"none"!==e.instance.getSetting("stretchH")&&e.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),n.destroy()}}l.prototype.parentCell=function(t){var e={},n=this.instance.wtTable.TABLE,o=(0,r.closestDown)(t,["TD","TH"],n);return o?(e.coords=this.instance.wtTable.getCoords(o),e.TD=o):(0,r.hasClass)(t,"wtBorder")&&(0,r.hasClass)(t,"current")?(e.coords=this.instance.selections.current.cellRange.highlight,e.TD=this.instance.wtTable.getCell(e.coords)):(0,r.hasClass)(t,"wtBorder")&&(0,r.hasClass)(t,"area")&&this.instance.selections.area.cellRange&&(e.coords=this.instance.selections.area.cellRange.to,e.TD=this.instance.wtTable.getCell(e.coords)),e},e.default=l},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.offset=e,this.total=n,this.countTH=o}return o(t,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleRowHeadedColumnToSourceColumn",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceColumnToVisibleRowHeadedColumn",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function(){function t(e,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.offset=e,this.total=n,this.countTH=o}return o(t,[{key:"offsetted",value:function(t){return t+this.offset}},{key:"unOffsetted",value:function(t){return t-this.offset}},{key:"renderedToSource",value:function(t){return this.offsetted(t)}},{key:"sourceToRendered",value:function(t){return this.unOffsetted(t)}},{key:"offsettedTH",value:function(t){return t-this.countTH}},{key:"unOffsettedTH",value:function(t){return t+this.countTH}},{key:"visibleColHeadedRowToSourceRow",value:function(t){return this.renderedToSource(this.offsettedTH(t))}},{key:"sourceRowToVisibleColHeadedRow",value:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}}]),t}();e.default=r},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),i=n(1),a=n(16),s=n(25),l=c(n(4)),u=c(n(28));function c(t){return t&&t.__esModule?t:{default:t}}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wot=e,this.instance=this.wot,this.eventManager=new l.default(this.wot),this.wot.update("scrollbarWidth",(0,r.getScrollbarWidth)()),this.wot.update("scrollbarHeight",(0,r.getScrollbarWidth)()),this.scrollableElement=(0,r.getScrollableElement)(this.wot.wtTable.TABLE),this.prepareOverlays(),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},bottom:{top:null,left:0},left:{top:0,left:null}},this.pendingScrollCallbacks={master:{top:0,left:0},top:{left:0},bottom:{left:0},left:{top:0}},this.verticalScrolling=!1,this.horizontalScrolling=!1,this.delegatedScrollCallback=!1,this.registeredListeners=[],this.registerListeners()}return o(t,[{key:"prepareOverlays",value:function(){var t=!1;return this.topOverlay?t=this.topOverlay.updateStateOfRendering()||t:this.topOverlay=u.default.createOverlay(u.default.CLONE_TOP,this.wot),u.default.hasOverlay(u.default.CLONE_BOTTOM)||(this.bottomOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),u.default.hasOverlay(u.default.CLONE_BOTTOM_LEFT_CORNER)||(this.bottomLeftCornerOverlay={needFullRender:!1,updateStateOfRendering:function(){return!1}}),this.bottomOverlay?t=this.bottomOverlay.updateStateOfRendering()||t:this.bottomOverlay=u.default.createOverlay(u.default.CLONE_BOTTOM,this.wot),this.leftOverlay?t=this.leftOverlay.updateStateOfRendering()||t:this.leftOverlay=u.default.createOverlay(u.default.CLONE_LEFT,this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay?t=this.topLeftCornerOverlay.updateStateOfRendering()||t:this.topLeftCornerOverlay=u.default.createOverlay(u.default.CLONE_TOP_LEFT_CORNER,this.wot)),this.bottomOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.bottomLeftCornerOverlay?t=this.bottomLeftCornerOverlay.updateStateOfRendering()||t:this.bottomLeftCornerOverlay=u.default.createOverlay(u.default.CLONE_BOTTOM_LEFT_CORNER,this.wot)),this.wot.getSetting("debug")&&!this.debug&&(this.debug=u.default.createOverlay(u.default.CLONE_DEBUG,this.wot)),t}},{key:"refreshAll",value:function(){this.wot.drawn&&(this.wot.wtTable.holder.parentNode?(this.wot.draw(!0),this.verticalScrolling&&this.leftOverlay.onScroll(),this.horizontalScrolling&&this.topOverlay.onScroll(),this.verticalScrolling=!1,this.horizontalScrolling=!1):this.destroy())}},{key:"registerListeners",value:function(){var t=this,e=this.topOverlay.mainTableScrollableElement,n=this.leftOverlay.mainTableScrollableElement,o=[];for(o.push([document.documentElement,"keydown",function(e){return t.onKeyDown(e)}]),o.push([document.documentElement,"keyup",function(){return t.onKeyUp()}]),o.push([document,"visibilitychange",function(){return t.onKeyUp()}]),o.push([e,"scroll",function(e){return t.onTableScroll(e)}]),e!==n&&o.push([n,"scroll",function(e){return t.onTableScroll(e)}]),this.topOverlay.needFullRender&&(o.push([this.topOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}]),o.push([this.topOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)}])),this.bottomOverlay.needFullRender&&(o.push([this.bottomOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}]),o.push([this.bottomOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)}])),this.leftOverlay.needFullRender&&(o.push([this.leftOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}]),o.push([this.leftOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)}])),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.needFullRender&&o.push([this.topLeftCornerOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)}]),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.needFullRender&&o.push([this.bottomLeftCornerOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)}]),this.topOverlay.trimmingContainer!==window&&this.leftOverlay.trimmingContainer!==window&&o.push([window,"wheel",function(e){var n=void 0,o=e.wheelDeltaY||e.deltaY,r=e.wheelDeltaX||e.deltaX;t.topOverlay.clone.wtTable.holder.contains(e.realTarget)?n="top":t.bottomOverlay.clone&&t.bottomOverlay.clone.wtTable.holder.contains(e.realTarget)?n="bottom":t.leftOverlay.clone.wtTable.holder.contains(e.realTarget)?n="left":t.topLeftCornerOverlay&&t.topLeftCornerOverlay.clone&&t.topLeftCornerOverlay.clone.wtTable.holder.contains(e.realTarget)?n="topLeft":t.bottomLeftCornerOverlay&&t.bottomLeftCornerOverlay.clone&&t.bottomLeftCornerOverlay.clone.wtTable.holder.contains(e.realTarget)&&(n="bottomLeft"),("top"==n&&0!==o||"left"==n&&0!==r||"bottom"==n&&0!==o||("topLeft"===n||"bottomLeft"===n)&&(0!==o||0!==r))&&e.preventDefault()}]);o.length;){var r=o.pop();this.eventManager.addEventListener(r[0],r[1],r[2]),this.registeredListeners.push(r)}}},{key:"deregisterListeners",value:function(){for(;this.registeredListeners.length;){var t=this.registeredListeners.pop();this.eventManager.removeEventListener(t[0],t[1],t[2])}}},{key:"onTableScroll",value:function(t){if(!(0,s.isMobileBrowser)()){var e=this.leftOverlay.mainTableScrollableElement,n=this.topOverlay.mainTableScrollableElement,o=t.target;this.keyPressed&&(n!==window&&o!==window&&!t.target.contains(n)||e!==window&&o!==window&&!t.target.contains(e))||("scroll"===t.type?this.syncScrollPositions(t):this.translateMouseWheelToScroll(t))}}},{key:"onKeyDown",value:function(t){this.keyPressed=(0,a.isKey)(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")}},{key:"onKeyUp",value:function(){this.keyPressed=!1}},{key:"translateMouseWheelToScroll",value:function(t){var e=this.topOverlay.clone.wtTable.holder,n=this.bottomOverlay.clone?this.bottomOverlay.clone.wtTable.holder:null,o=this.leftOverlay.clone.wtTable.holder,r=this.topLeftCornerOverlay&&this.topLeftCornerOverlay.clone?this.topLeftCornerOverlay.clone.wtTable.holder:null,i=this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone?this.bottomLeftCornerOverlay.clone.wtTable.holder:null,a=t.wheelDeltaY||-1*t.deltaY,s=t.wheelDeltaX||-1*t.deltaX,l=null,u={type:"wheel"},c=t.target,h=null;for(1===t.deltaMode&&(a*=120,s*=120);c!=document&&null!=c;){if(c.className.indexOf("wtHolder")>-1){l=c;break}c=c.parentNode}return u.target=l,l===r||l===i?(this.syncScrollPositions(u,-.2*s,"x"),this.syncScrollPositions(u,-.2*a,"y")):(l===e||l===n?h=a:l===o&&(h=s),this.syncScrollPositions(u,-.2*h)),!1}},{key:"syncScrollPositions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.destroyed)if(0!==arguments.length){var o=this.leftOverlay.mainTableScrollableElement,i=this.topOverlay.mainTableScrollableElement,a=t.target,s=0,l=!1,u=void 0,c=void 0,h=void 0,d=void 0,f=void 0,p=!1,g=this.wot.getSetting("preventOverflow");this.topOverlay.needFullRender&&(u=this.topOverlay.clone.wtTable.holder),this.bottomOverlay.needFullRender&&(f=this.bottomOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&(c=this.leftOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&this.topOverlay.needFullRender&&(h=this.topLeftCornerOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&this.bottomOverlay.needFullRender&&(d=this.bottomLeftCornerOverlay.clone.wtTable.holder),a===document&&(a=window),a===o||a===i?(s=g?(0,r.getScrollLeft)(this.scrollableElement):(0,r.getScrollLeft)(a),this.horizontalScrolling=!0,this.overlayScrollPositions.master.left=s,l=!0,this.pendingScrollCallbacks.master.left>0?this.pendingScrollCallbacks.master.left--:(u&&u.scrollLeft!==s&&(null==e&&this.pendingScrollCallbacks.top.left++,u.scrollLeft=s,p=o!==window),f&&f.scrollLeft!==s&&(null==e&&this.pendingScrollCallbacks.bottom.left++,f.scrollLeft=s,p=o!==window)),s=(0,r.getScrollTop)(a),this.verticalScrolling=!0,this.overlayScrollPositions.master.top=s,l=!0,this.pendingScrollCallbacks.master.top>0?this.pendingScrollCallbacks.master.top--:c&&c.scrollTop!==s&&(null==e&&this.pendingScrollCallbacks.left.top++,c.scrollTop=s,p=i!==window)):a===f?(s=(0,r.getScrollLeft)(a),this.horizontalScrolling=!0,this.overlayScrollPositions.bottom.left=s,l=!0,this.pendingScrollCallbacks.bottom.left>0?this.pendingScrollCallbacks.bottom.left--:(null==e&&this.pendingScrollCallbacks.master.left++,o.scrollLeft=s,u&&u.scrollLeft!==s&&(null==e&&this.pendingScrollCallbacks.top.left++,u.scrollLeft=s,p=i!==window)),null!==e&&(l=!0,i.scrollTop+=e)):a===u?(s=(0,r.getScrollLeft)(a),this.horizontalScrolling=!0,this.overlayScrollPositions.top.left=s,l=!0,this.pendingScrollCallbacks.top.left>0?this.pendingScrollCallbacks.top.left--:(null==e&&this.pendingScrollCallbacks.master.left++,o.scrollLeft=s),null!==e&&(l=!0,i.scrollTop+=e),f&&f.scrollLeft!==s&&(null==e&&this.pendingScrollCallbacks.bottom.left++,f.scrollLeft=s,p=i!==window)):a===c?(s=(0,r.getScrollTop)(a),this.overlayScrollPositions.left.top!==s&&(this.verticalScrolling=!0,this.overlayScrollPositions.left.top=s,l=!0,this.pendingScrollCallbacks.left.top>0?this.pendingScrollCallbacks.left.top--:(null==e&&this.pendingScrollCallbacks.master.top++,i.scrollTop=s)),null!==e&&(l=!0,i.scrollLeft+=e)):a!==h&&a!==d||null!==e&&(l=!0,"x"===n?i.scrollLeft+=e:"y"===n&&(i.scrollTop+=e)),!this.keyPressed&&l&&"scroll"===t.type&&(this.delegatedScrollCallback?this.delegatedScrollCallback=!1:this.refreshAll(),p&&(this.delegatedScrollCallback=!0))}else this.syncScrollWithMaster()}},{key:"syncScrollWithMaster",value:function(){var t=this.topOverlay.mainTableScrollableElement,e=t.scrollLeft,n=t.scrollTop;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=e),this.bottomOverlay.needFullRender&&(this.bottomOverlay.clone.wtTable.holder.scrollLeft=e),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=n)}},{key:"updateMainScrollableElements",value:function(){this.deregisterListeners(),this.leftOverlay.updateMainScrollableElement(),this.topOverlay.updateMainScrollableElement(),this.bottomOverlay.needFullRender&&this.bottomOverlay.updateMainScrollableElement(),this.scrollableElement=(0,r.getScrollableElement)(this.wot.wtTable.TABLE),this.registerListeners()}},{key:"destroy",value:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.bottomOverlay.clone&&this.bottomOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0}},{key:"refresh",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted){var e=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,n=e.clientWidth,o=e.clientHeight;n===this.spreaderLastSize.width&&o===this.spreaderLastSize.height||(this.spreaderLastSize.width=n,this.spreaderLastSize.height=o,this.adjustElementsSize())}this.bottomOverlay.clone&&this.bottomOverlay.refresh(t),this.leftOverlay.refresh(t),this.topOverlay.refresh(t),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(t),this.bottomLeftCornerOverlay&&this.bottomLeftCornerOverlay.clone&&this.bottomLeftCornerOverlay.refresh(t),this.debug&&this.debug.refresh(t)}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.wot.getSetting("totalColumns"),n=this.wot.getSetting("totalRows"),o=this.wot.wtViewport.getRowHeaderWidth(),r=this.wot.wtViewport.getColumnHeaderHeight(),i=this.wot.wtTable.hider.style;i.width=o+this.leftOverlay.sumCellSizes(0,e)+"px",i.height=r+this.topOverlay.sumCellSizes(0,n)+1+"px",this.topOverlay.adjustElementsSize(t),this.leftOverlay.adjustElementsSize(t),this.bottomOverlay.clone&&this.bottomOverlay.adjustElementsSize(t)}},{key:"applyToDOM",value:function(){this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted||this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.bottomOverlay.clone&&this.bottomOverlay.applyToDOM(),this.leftOverlay.applyToDOM()}},{key:"getParentOverlay",value:function(t){if(!t)return null;var e=[this.topOverlay,this.leftOverlay,this.bottomOverlay,this.topLeftCornerOverlay,this.bottomLeftCornerOverlay],n=null;return(0,i.arrayEach)(e,function(e,o){e&&e.clone&&e.clone.wtTable.TABLE.contains(t)&&(n=e.clone)}),n}}]),t}();e.default=h},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),i=n(6),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wot=e,this.instance=e}return o(t,[{key:"scrollViewport",value:function(t){if(this.wot.drawn){var e=this._getVariables(),n=e.topOverlay,o=e.leftOverlay,r=e.totalRows,i=e.totalColumns,a=e.fixedRowsTop,s=e.fixedRowsBottom,l=e.fixedColumnsLeft;if(t.row<0||t.row>Math.max(r-1,0))throw new Error("row "+t.row+" does not exist");if(t.col<0||t.col>Math.max(i-1,0))throw new Error("column "+t.col+" does not exist");t.row>=a&&t.row<this.getFirstVisibleRow()?n.scrollTo(t.row):t.row>this.getLastVisibleRow()&&t.row<r-s&&n.scrollTo(t.row,!0),t.col>=l&&t.col<this.getFirstVisibleColumn()?o.scrollTo(t.col):t.col>this.getLastVisibleColumn()&&o.scrollTo(t.col,!0)}}},{key:"getFirstVisibleRow",value:function(){var t=this._getVariables(),e=t.topOverlay,n=t.wtTable,o=t.wtViewport,a=t.totalRows,s=t.fixedRowsTop,l=n.getFirstVisibleRow();if(e.mainTableScrollableElement===window){var u=(0,r.offset)(n.wtRootElement),c=(0,r.innerHeight)(n.hider),h=(0,r.innerHeight)(window),d=(0,r.getScrollTop)(window);if(u.top+c-h<=d){var f=o.getColumnHeaderHeight();f+=e.sumCellSizes(0,s),(0,i.rangeEachReverse)(a,1,function(t){if(f+=e.sumCellSizes(t-1,t),u.top+c-f<=d)return l=t,!1})}}return l}},{key:"getLastVisibleRow",value:function(){var t=this._getVariables(),e=t.topOverlay,n=t.wtTable,o=t.wtViewport,a=t.totalRows,s=n.getLastVisibleRow();if(e.mainTableScrollableElement===window){var l=(0,r.offset)(n.wtRootElement),u=(0,r.innerHeight)(window),c=(0,r.getScrollTop)(window);if(l.top>c){var h=o.getColumnHeaderHeight();(0,i.rangeEach)(1,a,function(t){if(h+=e.sumCellSizes(t-1,t),l.top+h-c>=u)return s=t-2,!1})}}return s}},{key:"getFirstVisibleColumn",value:function(){var t=this._getVariables(),e=t.leftOverlay,n=t.wtTable,o=t.wtViewport,a=t.totalColumns,s=(t.fixedColumnsLeft,n.getFirstVisibleColumn());if(e.mainTableScrollableElement===window){var l=(0,r.offset)(n.wtRootElement),u=(0,r.innerWidth)(n.hider),c=(0,r.innerWidth)(window),h=(0,r.getScrollLeft)(window);if(l.left+u-c<=h){var d=o.getRowHeaderWidth();(0,i.rangeEachReverse)(a,1,function(t){if(d+=e.sumCellSizes(t-1,t),l.left+u-d<=h)return s=t,!1})}}return s}},{key:"getLastVisibleColumn",value:function(){var t=this._getVariables(),e=t.leftOverlay,n=t.wtTable,o=t.wtViewport,a=t.totalColumns,s=n.getLastVisibleColumn();if(e.mainTableScrollableElement===window){var l=(0,r.offset)(n.wtRootElement),u=(0,r.innerWidth)(window),c=(0,r.getScrollLeft)(window);if(l.left>c){var h=o.getRowHeaderWidth();(0,i.rangeEach)(1,a,function(t){if(h+=e.sumCellSizes(t-1,t),l.left+h-c>=u)return s=t-2,!1})}}return s}},{key:"_getVariables",value:function(){var t=this.wot;return{topOverlay:t.wtOverlays.topOverlay,leftOverlay:t.wtOverlays.leftOverlay,wtTable:t.wtTable,wtViewport:t.wtViewport,totalRows:t.getSetting("totalRows"),totalColumns:t.getSetting("totalColumns"),fixedRowsTop:t.getSetting("fixedRowsTop"),fixedRowsBottom:t.getSetting("fixedRowsBottom"),fixedColumnsLeft:t.getSetting("fixedColumnsLeft")}}}]),t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),i=n(2),a=function(){function t(e,n){var o=this;for(var a in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wot=e,this.instance=e,this.defaults={table:void 0,debug:!1,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,preventOverflow:function(){return!1},data:void 0,freezeOverlays:!1,fixedColumnsLeft:0,fixedRowsTop:0,fixedRowsBottom:0,minSpareRows:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(t,e,n){var i=o.getSetting("data",t,e);(0,r.fastInnerText)(n,null==i?"":i)},columnWidth:function(t){},rowHeight:function(t){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellMouseOut:null,onCellMouseUp:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,onBeforeStretchingColumnWidth:function(t){return t},onModifyRowHeaderWidth:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1,rowHeaderWidth:null,columnHeaderHeight:null,headerClassName:null},this.settings={},this.defaults)if((0,i.hasOwnProperty)(this.defaults,a))if(void 0!==n[a])this.settings[a]=n[a];else{if(void 0===this.defaults[a])throw new Error('A required setting "'+a+'" was not provided');this.settings[a]=this.defaults[a]}}return o(t,[{key:"update",value:function(t,e){if(void 0===e)for(var n in t)(0,i.hasOwnProperty)(t,n)&&(this.settings[n]=t[n]);else this.settings[t]=e;return this.wot}},{key:"getSetting",value:function(t,e,n,o,r){return"function"==typeof this.settings[t]?this.settings[t](e,n,o,r):void 0!==e&&Array.isArray(this.settings[t])?this.settings[t][e]:this.settings[t]}},{key:"has",value:function(t){return!!this.settings[t]}}]),t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0),a=n(35),s=d(n(42)),l=(d(n(69)),d(n(139))),u=d(n(140)),c=d(n(145)),h=d(n(28));function d(t){return t&&t.__esModule?t:{default:t}}var f=function(){function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wot=e,this.instance=this.wot,this.TABLE=n,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,this.holderOffset=0,(0,i.removeTextNodes)(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null,this.correctHeaderWidth=!1;var r=this.wot.wtSettings.settings.rowHeaderWidth;this.wot.wtSettings.settings.rowHeaderWidth=function(){return o._modifyRowHeaderWidth(r)}}return r(t,[{key:"fixTableDomTree",value:function(){this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=document.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=document.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=document.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(document.createElement("TR"))}},{key:"createSpreader",value:function(t){var e=t.parentNode,n=void 0;return e&&1===e.nodeType&&(0,i.hasClass)(e,"wtHolder")||((n=document.createElement("div")).className="wtSpreader",e&&e.insertBefore(n,t),n.appendChild(t)),n.style.position="relative",n}},{key:"createHider",value:function(t){var e=t.parentNode,n=void 0;return e&&1===e.nodeType&&(0,i.hasClass)(e,"wtHolder")||((n=document.createElement("div")).className="wtHider",e&&e.insertBefore(n,t),n.appendChild(t)),n}},{key:"createHolder",value:function(t){var e=t.parentNode,n=void 0;return e&&1===e.nodeType&&(0,i.hasClass)(e,"wtHolder")||((n=document.createElement("div")).style.position="relative",n.className="wtHolder",e&&e.insertBefore(n,t),this.isWorkingOnClone()||(n.parentNode.className+="ht_master handsontable"),n.appendChild(t)),n}},{key:"alignOverlaysWithTrimmingContainer",value:function(){var t=(0,i.getTrimmingContainer)(this.wtRootElement);this.isWorkingOnClone()||(this.holder.parentNode.style.position="relative",t===window?this.wot.getSetting("preventOverflow")||(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible"):(this.holder.style.width=(0,i.getStyle)(t,"width"),this.holder.style.height=(0,i.getStyle)(t,"height"),this.holder.style.overflow=""))}},{key:"isWorkingOnClone",value:function(){return!!this.wot.cloneSource}},{key:"draw",value:function(t){var e=this.wot,n=e.wtOverlays,o=e.wtViewport,r=this.instance.getSetting("totalRows"),a=this.wot.getSetting("rowHeaders").length,s=this.wot.getSetting("columnHeaders").length,c=!1;if(!this.isWorkingOnClone()&&(this.holderOffset=(0,i.offset)(this.holder),t=o.createRenderCalculators(t),a&&!this.wot.getSetting("fixedColumnsLeft"))){var d=n.leftOverlay.getScrollPosition(),f=this.correctHeaderWidth;this.correctHeaderWidth=d>0,f!==this.correctHeaderWidth&&(t=!1)}if(this.isWorkingOnClone()||(c=n.prepareOverlays()),t)this.isWorkingOnClone()||o.createVisibleCalculators(),n&&n.refresh(!0);else{this.isWorkingOnClone()?this.tableOffset=this.wot.cloneSource.wtTable.tableOffset:this.tableOffset=(0,i.offset)(this.TABLE);var p;p=h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_DEBUG)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_TOP)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_TOP_LEFT_CORNER)?0:h.default.isOverlayTypeOf(this.instance.cloneOverlay,h.default.CLONE_BOTTOM)||h.default.isOverlayTypeOf(this.instance.cloneOverlay,h.default.CLONE_BOTTOM_LEFT_CORNER)?Math.max(r-this.wot.getSetting("fixedRowsBottom"),0):o.rowsRenderCalculator.startRow;var g;g=h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_DEBUG)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_LEFT)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_TOP_LEFT_CORNER)||h.default.isOverlayTypeOf(this.wot.cloneOverlay,h.default.CLONE_BOTTOM_LEFT_CORNER)?0:o.columnsRenderCalculator.startColumn,this.rowFilter=new u.default(p,r,s),this.columnFilter=new l.default(g,this.wot.getSetting("totalColumns"),a),this.alignOverlaysWithTrimmingContainer(),this._doDraw()}return this.refreshSelections(t),this.isWorkingOnClone()||(n.topOverlay.resetFixedPosition(),n.bottomOverlay.clone&&n.bottomOverlay.resetFixedPosition(),n.leftOverlay.resetFixedPosition(),n.topLeftCornerOverlay&&n.topLeftCornerOverlay.resetFixedPosition(),n.bottomLeftCornerOverlay&&n.bottomLeftCornerOverlay.clone&&n.bottomLeftCornerOverlay.resetFixedPosition()),c&&n.syncScrollWithMaster(),this.wot.drawn=!0,this}},{key:"_doDraw",value:function(){new c.default(this).render()}},{key:"removeClassFromCells",value:function(t){for(var e=this.TABLE.querySelectorAll("."+t),n=0,o=e.length;n<o;n++)(0,i.removeClass)(e[n],t)}},{key:"refreshSelections",value:function(t){if(this.wot.selections){var e=this.wot.selections.length;if(t)for(var n=0;n<e;n++)this.wot.selections[n].settings.className&&this.removeClassFromCells(this.wot.selections[n].settings.className),this.wot.selections[n].settings.highlightHeaderClassName&&this.removeClassFromCells(this.wot.selections[n].settings.highlightHeaderClassName),this.wot.selections[n].settings.highlightRowClassName&&this.removeClassFromCells(this.wot.selections[n].settings.highlightRowClassName),this.wot.selections[n].settings.highlightColumnClassName&&this.removeClassFromCells(this.wot.selections[n].settings.highlightColumnClassName);for(var o=0;o<e;o++)this.wot.selections[o].draw(this.wot,t)}}},{key:"getCell",value:function(t){if(this.isRowBeforeRenderedRows(t.row))return-1;if(this.isRowAfterRenderedRows(t.row))return-2;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t.row)];return e?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t.col)]:void 0}},{key:"getColumnHeader",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.THEAD.childNodes[e];if(n)return n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]}},{key:"getRowHeader",value:function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return e?e.childNodes[0]:void 0}},{key:"getCoords",value:function(t){if("TD"!==t.nodeName&&"TH"!==t.nodeName&&(t=(0,i.closest)(t,["TD","TH"])),null===t)return null;var e=t.parentNode,n=e.parentNode,o=(0,i.index)(e),r=t.cellIndex;return(0,i.overlayContainsElement)(h.default.CLONE_TOP_LEFT_CORNER,t)||(0,i.overlayContainsElement)(h.default.CLONE_TOP,t)?"THEAD"===n.nodeName&&(o-=n.childNodes.length):o=n===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(o):this.rowFilter.renderedToSource(o),r=(0,i.overlayContainsElement)(h.default.CLONE_TOP_LEFT_CORNER,t)||(0,i.overlayContainsElement)(h.default.CLONE_LEFT,t)?this.columnFilter.offsettedTH(r):this.columnFilter.visibleRowHeadedColumnToSourceColumn(r),new s.default(o,r)}},{key:"getTrForRow",value:function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]}},{key:"getFirstRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.startRow}},{key:"getFirstVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.startRow}},{key:"getFirstRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.startColumn}},{key:"getFirstVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.startColumn}},{key:"getLastRenderedRow",value:function(){return this.wot.wtViewport.rowsRenderCalculator.endRow}},{key:"getLastVisibleRow",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.endRow}},{key:"getLastRenderedColumn",value:function(){return this.wot.wtViewport.columnsRenderCalculator.endColumn}},{key:"getLastVisibleColumn",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.endColumn}},{key:"isRowBeforeRenderedRows",value:function(t){return this.rowFilter&&this.rowFilter.sourceToRendered(t)<0&&t>=0}},{key:"isRowAfterViewport",value:function(t){return this.rowFilter&&this.rowFilter.sourceToRendered(t)>this.getLastVisibleRow()}},{key:"isRowAfterRenderedRows",value:function(t){return this.rowFilter&&this.rowFilter.sourceToRendered(t)>this.getLastRenderedRow()}},{key:"isColumnBeforeViewport",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)<0&&t>=0}},{key:"isColumnAfterViewport",value:function(t){return this.columnFilter&&this.columnFilter.sourceToRendered(t)>this.getLastVisibleColumn()}},{key:"isLastRowFullyVisible",value:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()}},{key:"isLastColumnFullyVisible",value:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()}},{key:"getRenderedColumnsCount",value:function(){var t=this.wot.wtViewport.columnsRenderCalculator.count,e=this.wot.getSetting("totalColumns");if(this.wot.isOverlayName(h.default.CLONE_DEBUG))t=e;else if(this.wot.isOverlayName(h.default.CLONE_LEFT)||this.wot.isOverlayName(h.default.CLONE_TOP_LEFT_CORNER)||this.wot.isOverlayName(h.default.CLONE_BOTTOM_LEFT_CORNER))return Math.min(this.wot.getSetting("fixedColumnsLeft"),e);return t}},{key:"getRenderedRowsCount",value:function(){var t=this.wot.wtViewport.rowsRenderCalculator.count,e=this.wot.getSetting("totalRows");return this.wot.isOverlayName(h.default.CLONE_DEBUG)?t=e:this.wot.isOverlayName(h.default.CLONE_TOP)||this.wot.isOverlayName(h.default.CLONE_TOP_LEFT_CORNER)?t=Math.min(this.wot.getSetting("fixedRowsTop"),e):(this.wot.isOverlayName(h.default.CLONE_BOTTOM)||this.wot.isOverlayName(h.default.CLONE_BOTTOM_LEFT_CORNER))&&(t=Math.min(this.wot.getSetting("fixedRowsBottom"),e)),t}},{key:"getVisibleRowsCount",value:function(){return this.wot.wtViewport.rowsVisibleCalculator.count}},{key:"allRowsInViewport",value:function(){return this.wot.getSetting("totalRows")==this.getVisibleRowsCount()}},{key:"getRowHeight",value:function(t){var e=this.wot.wtSettings.settings.rowHeight(t),n=this.wot.wtViewport.oversizedRows[t];return void 0!==n&&(e=void 0===e?n:Math.max(e,n)),e}},{key:"getColumnHeaderHeight",value:function(t){var e=this.wot.wtSettings.settings.defaultRowHeight,n=this.wot.wtViewport.oversizedColumnHeaders[t];return void 0!==n&&(e=e?Math.max(e,n):n),e}},{key:"getVisibleColumnsCount",value:function(){return this.wot.wtViewport.columnsVisibleCalculator.count}},{key:"allColumnsInViewport",value:function(){return this.wot.getSetting("totalColumns")==this.getVisibleColumnsCount()}},{key:"getColumnWidth",value:function(t){var e=this.wot.wtSettings.settings.columnWidth;return"function"==typeof e?e=e(t):"object"===(void 0===e?"undefined":o(e))&&(e=e[t]),e||this.wot.wtSettings.settings.defaultColumnWidth}},{key:"getStretchedColumnWidth",value:function(t){var e=this.getColumnWidth(t),n=null==e?this.instance.wtSettings.settings.defaultColumnWidth:e,o=this.wot.wtViewport.columnsRenderCalculator;if(o){var r=o.getStretchedColumnWidth(t,n);r&&(n=r)}return n}},{key:"_modifyRowHeaderWidth",value:function(t){var e=(0,a.isFunction)(t)?t():null;return Array.isArray(e)?(e=[].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e)))[e.length-1]=this._correctRowHeaderWidth(e[e.length-1]):e=this._correctRowHeaderWidth(e),e}},{key:"_correctRowHeaderWidth",value:function(t){return"number"!=typeof t&&(t=this.wot.getSetting("defaultColumnWidth")),this.correctHeaderWidth&&t++,t}}]),t}();e.default=f},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0),a=(o=n(28))&&o.__esModule?o:{default:o},s=!1,l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wtTable=e,this.wot=e.instance,this.instance=e.instance,this.rowFilter=e.rowFilter,this.columnFilter=e.columnFilter,this.TABLE=e.TABLE,this.THEAD=e.THEAD,this.TBODY=e.TBODY,this.COLGROUP=e.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0,this.fixedRowsBottom=0}return r(t,[{key:"render",value:function(){if(!this.wtTable.isWorkingOnClone()){var t={};if(this.wot.getSetting("beforeDraw",!0,t),!0===t.skipRender)return}this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.fixedRowsBottom=this.wot.getSetting("fixedRowsBottom"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var e=this.wtTable.getRenderedColumnsCount(),n=this.wtTable.getRenderedRowsCount(),o=this.wot.getSetting("totalColumns"),r=this.wot.getSetting("totalRows"),s=void 0,l=!1;if((a.default.isOverlayTypeOf(this.wot.cloneOverlay,a.default.CLONE_BOTTOM)||a.default.isOverlayTypeOf(this.wot.cloneOverlay,a.default.CLONE_BOTTOM_LEFT_CORNER))&&(this.columnHeaders=[],this.columnHeaderCount=0),o>=0&&(this.adjustAvailableNodes(),l=!0,this.renderColumnHeaders(),this.renderRows(r,n,e),this.wtTable.isWorkingOnClone()||(s=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnWidths(e),this.markOversizedColumnHeaders(),this.adjustColumnHeaderHeights()),l||this.adjustAvailableNodes(),this.removeRedundantRows(n),this.wtTable.isWorkingOnClone()&&!this.wot.isOverlayName(a.default.CLONE_BOTTOM)||this.markOversizedRows(),this.wtTable.isWorkingOnClone())this.wot.isOverlayName(a.default.CLONE_BOTTOM)&&this.wot.cloneSource.wtOverlays.adjustElementsSize();else{this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM();var u=(0,i.outerWidth)(this.wtTable.hider),c=(0,i.outerWidth)(this.wtTable.TABLE);if(0!==u&&c!==u&&this.adjustColumnWidths(e),s!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;var h=this.wtTable.getFirstRenderedColumn(),d=this.wtTable.getLastRenderedColumn(),f=this.wot.getSetting("defaultColumnWidth"),p=this.wot.getSetting("rowHeaderWidth");if(null!=(p=this.instance.getSetting("onModifyRowHeaderWidth",p)))for(var g=0;g<this.rowHeaderCount;g++){var v=Array.isArray(p)?p[g]:p;v=null==v?f:v,this.COLGROUP.childNodes[g].style.width=v+"px"}for(var m=h;m<d;m++){var y=this.wtTable.getStretchedColumnWidth(m),w=this.columnFilter.sourceToRendered(m);this.COLGROUP.childNodes[w+this.rowHeaderCount].style.width=y+"px"}}this.wot.getSetting("onDraw",!0)}}},{key:"removeRedundantRows",value:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}},{key:"renderRows",value:function(t,e,n){for(var o=void 0,r=0,i=this.rowFilter.renderedToSource(r),l=this.wtTable.isWorkingOnClone();i<t&&i>=0&&(!s&&r>1e3&&(s=!0,console.warn('Performance tip: Handsontable rendered more than 1000 visible rows. Consider limiting the number of rendered rows by specifying the table height and/or turning off the "renderAllRows" option.')),void 0===e||r!==e);){if(o=this.getOrCreateTrForRow(r,o),this.renderRowHeaders(i,o),this.adjustColumns(o,n+this.rowHeaderCount),this.renderCells(i,o,n),l&&!this.wot.isOverlayName(a.default.CLONE_BOTTOM)||this.resetOversizedRow(i),o.firstChild){var u=this.wot.wtTable.getRowHeight(i);u?(u--,o.firstChild.style.height=u+"px"):o.firstChild.style.height=""}r++,i=this.rowFilter.renderedToSource(r)}}},{key:"resetOversizedRow",value:function(t){this.wot.getSetting("externalRowCalculator")||this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[t]&&(this.wot.wtViewport.oversizedRows[t]=void 0)}},{key:"markOversizedRows",value:function(){if(!this.wot.getSetting("externalRowCalculator")){var t=this.instance.wtTable.TBODY.childNodes.length,e=t*this.instance.wtSettings.settings.defaultRowHeight,n=(0,i.innerHeight)(this.instance.wtTable.TBODY)-1,o=void 0,r=void 0,a=void 0,s=void 0,l=void 0;if(this.instance.getSetting("totalRows"),e!==n||this.instance.getSetting("fixedRowsBottom"))for(;t;)t--,a=this.instance.wtTable.rowFilter.renderedToSource(t),o=this.instance.wtTable.getRowHeight(a),r=(l=(s=this.instance.wtTable.getTrForRow(a)).querySelector("th"))?(0,i.innerHeight)(l):(0,i.innerHeight)(s)-1,(!o&&this.instance.wtSettings.settings.defaultRowHeight<r||o<r)&&(this.instance.wtViewport.oversizedRows[a]=++r)}}},{key:"markOversizedColumnHeaders",value:function(){var t=this.wot.getOverlayName();if(this.columnHeaderCount&&!this.wot.wtViewport.hasOversizedColumnHeadersMarked[t]&&!this.wtTable.isWorkingOnClone()){for(var e=this.wtTable.getRenderedColumnsCount(),n=0;n<this.columnHeaderCount;n++)for(var o=-1*this.rowHeaderCount;o<e;o++)this.markIfOversizedColumnHeader(o);this.wot.wtViewport.hasOversizedColumnHeadersMarked[t]=!0}}},{key:"adjustColumnHeaderHeights",value:function(){for(var t=this.wot.getSetting("columnHeaders"),e=this.wot.wtTable.THEAD.childNodes,n=this.wot.wtViewport.oversizedColumnHeaders,o=0,r=t.length;o<r;o++)if(n[o]){if(!e[o]||0===e[o].childNodes.length)return;e[o].childNodes[0].style.height=n[o]+"px"}}},{key:"markIfOversizedColumnHeader",value:function(t){for(var e=this.wot.wtTable.columnFilter.renderedToSource(t),n=this.columnHeaderCount,o=this.wot.wtSettings.settings.defaultRowHeight,r=void 0,a=void 0,s=void 0,l=this.wot.getSetting("columnHeaderHeight")||[];n;)n--,r=this.wot.wtTable.getColumnHeaderHeight(n),(a=this.wot.wtTable.getColumnHeader(e,n))&&(s=(0,i.innerHeight)(a),(!r&&o<s||r<s)&&(this.wot.wtViewport.oversizedColumnHeaders[n]=s),Array.isArray(l)?null!=l[n]&&(this.wot.wtViewport.oversizedColumnHeaders[n]=l[n]):isNaN(l)||(this.wot.wtViewport.oversizedColumnHeaders[n]=l),this.wot.wtViewport.oversizedColumnHeaders[n]<(l[n]||l)&&(this.wot.wtViewport.oversizedColumnHeaders[n]=l[n]||l))}},{key:"renderCells",value:function(t,e,n){for(var o=void 0,r=void 0,a=0;a<n;a++)r=this.columnFilter.renderedToSource(a),"TH"==(o=0===a?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(r)]:o.nextSibling).nodeName&&(o=c(o,e)),(0,i.hasClass)(o,"hide")||(o.className=""),o.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(t,r,o);return o}},{key:"adjustColumnWidths",value:function(t){var e=0,n=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,o=this.wot.getSetting("defaultColumnWidth"),r=this.wot.getSetting("rowHeaderWidth");if(n.offsetHeight<n.scrollHeight&&(e=(0,i.getScrollbarWidth)()),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-e),null!=(r=this.instance.getSetting("onModifyRowHeaderWidth",r)))for(var a=0;a<this.rowHeaderCount;a++){var s=Array.isArray(r)?r[a]:r;s=null==s?o:s,this.COLGROUP.childNodes[a].style.width=s+"px"}for(var l=0;l<t;l++){var u=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(l));this.COLGROUP.childNodes[l+this.rowHeaderCount].style.width=u+"px"}}},{key:"appendToTbody",value:function(t){this.TBODY.appendChild(t),this.wtTable.tbodyChildrenLength++}},{key:"getOrCreateTrForRow",value:function(t,e){var n=void 0;return t>=this.wtTable.tbodyChildrenLength?(n=this.createRow(),this.appendToTbody(n)):n=0===t?this.TBODY.firstChild:e.nextSibling,n.className&&n.removeAttribute("class"),n}},{key:"createRow",value:function(){for(var t=document.createElement("TR"),e=0;e<this.rowHeaderCount;e++)t.appendChild(document.createElement("TH"));return t}},{key:"renderRowHeader",value:function(t,e,n){n.className="",n.removeAttribute("style"),this.rowHeaders[e](t,n,e)}},{key:"renderRowHeaders",value:function(t,e){for(var n=e.firstChild,o=0;o<this.rowHeaderCount;o++)n?"TD"==n.nodeName&&(n=u(n,e)):(n=document.createElement("TH"),e.appendChild(n)),this.renderRowHeader(t,o,n),n=n.nextSibling}},{key:"adjustAvailableNodes",value:function(){this.adjustColGroups(),this.adjustThead()}},{key:"renderColumnHeaders",value:function(){if(this.columnHeaderCount)for(var t=this.wtTable.getRenderedColumnsCount(),e=0;e<this.columnHeaderCount;e++)for(var n=this.getTrForColumnHeaders(e),o=-1*this.rowHeaderCount;o<t;o++){var r=this.columnFilter.renderedToSource(o);this.renderColumnHeader(e,r,n.childNodes[o+this.rowHeaderCount])}}},{key:"adjustColGroups",value:function(){for(var t=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<t+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>t+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--;this.rowHeaderCount&&(0,i.addClass)(this.COLGROUP.childNodes[0],"rowHeader")}},{key:"adjustThead",value:function(){var t=this.wtTable.getRenderedColumnsCount(),e=this.THEAD.firstChild;if(this.columnHeaders.length){for(var n=0,o=this.columnHeaders.length;n<o;n++){for((e=this.THEAD.childNodes[n])||(e=document.createElement("TR"),this.THEAD.appendChild(e)),this.theadChildrenLength=e.childNodes.length;this.theadChildrenLength<t+this.rowHeaderCount;)e.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>t+this.rowHeaderCount;)e.removeChild(e.lastChild),this.theadChildrenLength--}var r=this.THEAD.childNodes.length;if(r>this.columnHeaders.length)for(var a=this.columnHeaders.length;a<r;a++)this.THEAD.removeChild(this.THEAD.lastChild)}else e&&(0,i.empty)(e)}},{key:"getTrForColumnHeaders",value:function(t){return this.THEAD.childNodes[t]}},{key:"renderColumnHeader",value:function(t,e,n){return n.className="",n.removeAttribute("style"),this.columnHeaders[t](e,n,t)}},{key:"adjustColumns",value:function(t,e){for(var n=t.childNodes.length;n<e;){var o=document.createElement("TD");t.appendChild(o),n++}for(;n>e;)t.removeChild(t.lastChild),n--}},{key:"removeRedundantColumns",value:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}}]),t}();function u(t,e){var n=document.createElement("TH");return e.insertBefore(n,t),e.removeChild(t),n}function c(t,e){var n=document.createElement("TD");return e.insertBefore(n,t),e.removeChild(t),n}e.default=l},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),i=n(2),a=u(n(4)),s=u(n(135)),l=u(n(136));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.wot=e,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.hasOversizedColumnHeadersMarked={},this.clientHeight=0,this.containerWidth=NaN,this.rowHeaderWidth=NaN,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new a.default(this.wot),this.eventManager.addEventListener(window,"resize",function(){n.clientHeight=n.getWorkspaceHeight()})}return o(t,[{key:"getWorkspaceHeight",value:function(){var t=this.instance.wtOverlays.topOverlay.trimmingContainer;return t===window?document.documentElement.clientHeight:(0,r.outerHeight)(t)>0&&t.clientHeight>0?t.clientHeight:1/0}},{key:"getWorkspaceWidth",value:function(){var t=void 0,e=this.wot.getSetting("totalColumns"),n=this.instance.wtOverlays.leftOverlay.trimmingContainer,o=void 0,i=this.wot.getSetting("stretchH"),a=document.documentElement.offsetWidth;return this.wot.getSetting("preventOverflow")?(0,r.outerWidth)(this.instance.wtTable.wtRootElement):(t=this.wot.getSetting("freezeOverlays")?Math.min(a-this.getWorkspaceOffset().left,a):Math.min(this.getContainerFillWidth(),a-this.getWorkspaceOffset().left,a),n===window&&e>0&&this.sumColumnWidths(0,e-1)>t?document.documentElement.clientWidth:n===window||"scroll"!=(o=(0,r.getStyle)(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow"))&&"hidden"!=o&&"auto"!=o?"none"!==i&&i?t:Math.max(t,(0,r.outerWidth)(this.instance.wtTable.TABLE)):Math.max(t,n.clientWidth))}},{key:"hasVerticalScroll",value:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()}},{key:"hasHorizontalScroll",value:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()}},{key:"sumColumnWidths",value:function(t,e){for(var n=0;t<e;)n+=this.wot.wtTable.getColumnWidth(t),t++;return n}},{key:"getContainerFillWidth",value:function(){if(this.containerWidth)return this.containerWidth;var t,e=this.instance.wtTable.holder,n=void 0;return(n=document.createElement("div")).style.width="100%",n.style.height="1px",e.appendChild(n),t=n.offsetWidth,this.containerWidth=t,e.removeChild(n),t}},{key:"getWorkspaceOffset",value:function(){return(0,r.offset)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualHeight",value:function(){return(0,r.outerHeight)(this.wot.wtTable.TABLE)}},{key:"getWorkspaceActualWidth",value:function(){return(0,r.outerWidth)(this.wot.wtTable.TABLE)||(0,r.outerWidth)(this.wot.wtTable.TBODY)||(0,r.outerWidth)(this.wot.wtTable.THEAD)}},{key:"getColumnHeaderHeight",value:function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=(0,r.outerHeight)(this.wot.wtTable.THEAD)),this.columnHeaderHeight}},{key:"getViewportHeight",value:function(){var t,e=this.getWorkspaceHeight();return e===1/0?e:((t=this.getColumnHeaderHeight())>0&&(e-=t),e)}},{key:"getRowHeaderWidth",value:function(){var t=this.instance.getSetting("rowHeaderWidth"),e=this.instance.getSetting("rowHeaders");if(t){this.rowHeaderWidth=0;for(var n=0,o=e.length;n<o;n++)this.rowHeaderWidth+=t[n]||t}if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth))if(e.length){var i=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var a=0,s=e.length;a<s;a++)i?(this.rowHeaderWidth+=(0,r.outerWidth)(i),i=i.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0;return this.rowHeaderWidth=this.instance.getSetting("onModifyRowHeaderWidth",this.rowHeaderWidth)||this.rowHeaderWidth,this.rowHeaderWidth}},{key:"getViewportWidth",value:function(){var t,e=this.getWorkspaceWidth();return e===1/0?e:(t=this.getRowHeaderWidth())>0?e-t:e}},{key:"createRowsCalculator",value:function(){var t,e,n,o,i=this,a=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=void 0,u=void 0,c=void 0;return this.rowHeaderWidth=NaN,s=this.wot.wtSettings.settings.renderAllRows?1/0:this.getViewportHeight(),(u=this.wot.wtOverlays.topOverlay.getScrollPosition()-this.wot.wtOverlays.topOverlay.getTableParentOffset())<0&&(u=0),t=this.wot.getSetting("fixedRowsTop"),e=this.wot.getSetting("fixedRowsBottom"),n=this.wot.getSetting("totalRows"),t&&(u+=c=this.wot.wtOverlays.topOverlay.sumCellSizes(0,t),s-=c),e&&this.wot.wtOverlays.bottomOverlay.clone&&(s-=c=this.wot.wtOverlays.bottomOverlay.sumCellSizes(n-e,n)),o=this.wot.wtTable.holder.clientHeight===this.wot.wtTable.holder.offsetHeight?0:(0,r.getScrollbarWidth)(),new l.default(s,u,this.wot.getSetting("totalRows"),function(t){return i.wot.wtTable.getRowHeight(t)},a?null:this.wot.wtSettings.settings.viewportRowCalculatorOverride,a,o)}},{key:"createColumnsCalculator",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=this.getViewportWidth(),i=void 0;if(this.columnHeaderHeight=NaN,(i=this.wot.wtOverlays.leftOverlay.getScrollPosition()-this.wot.wtOverlays.leftOverlay.getTableParentOffset())<0&&(i=0),t=this.wot.getSetting("fixedColumnsLeft")){var a=this.wot.wtOverlays.leftOverlay.sumCellSizes(0,t);i+=a,o-=a}return this.wot.wtTable.holder.clientWidth!==this.wot.wtTable.holder.offsetWidth&&(o-=(0,r.getScrollbarWidth)()),new s.default(o,i,this.wot.getSetting("totalColumns"),function(t){return e.wot.wtTable.getColumnWidth(t)},n?null:this.wot.wtSettings.settings.viewportColumnCalculatorOverride,n,this.wot.getSetting("stretchH"),function(t,n){return e.wot.getSetting("onBeforeStretchingColumnWidth",t,n)})}},{key:"createRenderCalculators",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t){var e=this.createRowsCalculator(!0),n=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(e)&&this.areAllProposedVisibleColumnsAlreadyRendered(n)||(t=!1)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t}},{key:"createVisibleCalculators",value:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)}},{key:"areAllProposedVisibleRowsAlreadyRendered",value:function(t){return!(!this.rowsVisibleCalculator||t.startRow<this.rowsRenderCalculator.startRow||t.startRow===this.rowsRenderCalculator.startRow&&t.startRow>0||t.endRow>this.rowsRenderCalculator.endRow||t.endRow===this.rowsRenderCalculator.endRow&&t.endRow<this.wot.getSetting("totalRows")-1)}},{key:"areAllProposedVisibleColumnsAlreadyRendered",value:function(t){return!(!this.columnsVisibleCalculator||t.startColumn<this.columnsRenderCalculator.startColumn||t.startColumn===this.columnsRenderCalculator.startColumn&&t.startColumn>0||t.endColumn>this.columnsRenderCalculator.endColumn||t.endColumn===this.columnsRenderCalculator.endColumn&&t.endColumn<this.wot.getSetting("totalColumns")-1)}},{key:"resetHasOversizedColumnHeadersMarked",value:function(){(0,i.objectEach)(this.hasOversizedColumnHeadersMarked,function(t,e,n){n[e]=void 0})}}]),t}();e.default=c},function(t,e,n){"use strict";e.__esModule=!0;var o,r=n(16),i=n(20),a=n(27),s=n(1),l=n(0),u=(o=n(148))&&o.__esModule?o:{default:o},c=u.default.prototype.extend();c.prototype.init=function(){u.default.prototype.init.apply(this,arguments),this.query=null,this.strippedChoices=[],this.rawChoices=[]},c.prototype.getValue=function(){var t=this,e=this.rawChoices.find(function(e){return t.stripValueIfNeeded(e)===t.TEXTAREA.value});return(0,i.isDefined)(e)?e:this.TEXTAREA.value},c.prototype.createElements=function(){u.default.prototype.createElements.apply(this,arguments),(0,l.addClass)(this.htContainer,"autocompleteEditor"),(0,l.addClass)(this.htContainer,-1===window.navigator.platform.indexOf("Mac")?"":"htMacScroll")};var h=!1;function d(t){h=!1;var e=this.getActiveEditor();if((0,r.isPrintableChar)(t.keyCode)||t.keyCode===r.KEY_CODES.BACKSPACE||t.keyCode===r.KEY_CODES.DELETE||t.keyCode===r.KEY_CODES.INSERT){var n=0;if(t.keyCode===r.KEY_CODES.C&&(t.ctrlKey||t.metaKey))return;e.isOpened()||(n+=10),e.htEditor&&e.instance._registerTimeout(setTimeout(function(){e.queryChoices(e.TEXTAREA.value),h=!0},n))}}c.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",d),u.default.prototype.prepare.apply(this,arguments)},c.prototype.open=function(){this.TEXTAREA_PARENT.style.overflow="auto",u.default.prototype.open.apply(this,arguments),this.TEXTAREA_PARENT.style.overflow="";var t=this.htEditor.getInstance(),e=this,n=void 0===this.cellProperties.trimDropdown||this.cellProperties.trimDropdown;this.TEXTAREA.style.visibility="visible",this.focus(),t.updateSettings({colWidths:n?[(0,l.outerWidth)(this.TEXTAREA)-2]:void 0,width:n?(0,l.outerWidth)(this.TEXTAREA)+(0,l.getScrollbarWidth)()+2:void 0,afterRenderer:function(t,n,o,r,a,s){var l=e.cellProperties,u=l.filteringCaseSensitive,c=l.allowHtml,h=void 0,d=void 0;(a=(0,i.stringify)(a))&&!c&&-1!==(h=!0===u?a.indexOf(this.query):a.toLowerCase().indexOf(e.query.toLowerCase()))&&(d=a.substr(h,e.query.length),a=a.replace(d,"<strong>"+d+"</strong>")),t.innerHTML=a},autoColumnSize:!0,modifyColWidth:function(t,e){var o=this.getPlugin("autoColumnSize").widths;return o[e]&&(t=o[e]),n?t:t+15}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]=(0,l.getScrollbarWidth)()+2+"px",h&&(h=!1),e.instance._registerTimeout(setTimeout(function(){e.queryChoices(e.TEXTAREA.value)},0))},c.prototype.close=function(){u.default.prototype.close.apply(this,arguments)},c.prototype.queryChoices=function(t){var e=this;this.query=t;var n=this.cellProperties.source;"function"==typeof n?n.call(this.cellProperties,t,function(t){e.rawChoices=t,e.updateChoicesList(e.stripValuesIfNeeded(t))}):Array.isArray(n)?(this.rawChoices=n,this.updateChoicesList(this.stripValuesIfNeeded(n))):this.updateChoicesList([])},c.prototype.updateChoicesList=function(t){var e=(0,l.getCaretPosition)(this.TEXTAREA),n=(0,l.getSelectionEndPosition)(this.TEXTAREA),o=this.cellProperties.sortByRelevance,r=this.cellProperties.filter,i=null,a=null;o&&(i=c.sortByRelevance(this.stripValueIfNeeded(this.getValue()),t,this.cellProperties.filteringCaseSensitive));var u=Array.isArray(i)?i.length:0;if(!1===r)u&&(a=i[0]);else{for(var h=[],d=0,f=t.length;d<f&&!(o&&u<=d);d++)u?h.push(t[i[d]]):h.push(t[d]);a=0,t=h}this.strippedChoices=t,this.htEditor.loadData((0,s.pivot)([t])),this.updateDropdownHeight(),this.flipDropdownIfNeeded(),!0===this.cellProperties.strict&&this.highlightBestMatchingChoice(a),this.instance.listen(),this.TEXTAREA.focus(),(0,l.setCaretPosition)(this.TEXTAREA,e,e===n?void 0:n)},c.prototype.flipDropdownIfNeeded=function(){var t=(0,l.offset)(this.TEXTAREA),e=(0,l.outerHeight)(this.TEXTAREA),n=this.getDropdownHeight(),o=(0,l.getTrimmingContainer)(this.instance.view.wt.wtTable.TABLE),r=o.scrollTop,i=(0,l.outerHeight)(this.instance.view.wt.wtTable.THEAD),a={row:0,col:0};o!==window&&(a=(0,l.offset)(o));var s=t.top-a.top-i+r,u=o.scrollHeight-s-i-e,c=n>u&&s>u;return c?this.flipDropdown(n):this.unflipDropdown(),this.limitDropdownIfNeeded(c?s:u,n),c},c.prototype.limitDropdownIfNeeded=function(t,e){if(e>t){var n,o=0,r=0,i=0;do{o+=i=this.htEditor.getRowHeight(r)||this.htEditor.view.wt.wtSettings.settings.defaultRowHeight,r++}while(o<t);n=o-i,this.htEditor.flipped&&(this.htEditor.rootElement.style.top=parseInt(this.htEditor.rootElement.style.top,10)+e-n+"px"),this.setDropdownHeight(o-i)}},c.prototype.flipDropdown=function(t){var e=this.htEditor.rootElement.style;e.position="absolute",e.top=-t+"px",this.htEditor.flipped=!0},c.prototype.unflipDropdown=function(){var t=this.htEditor.rootElement.style;"absolute"===t.position&&(t.position="",t.top=""),this.htEditor.flipped=void 0},c.prototype.updateDropdownHeight=function(){var t=this.htEditor.getColWidth(0)+(0,l.getScrollbarWidth)()+2,e=this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:e?void 0:t}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()},c.prototype.setDropdownHeight=function(t){this.htEditor.updateSettings({height:t})},c.prototype.finishEditing=function(t){t||this.instance.removeHook("beforeKeyDown",d),u.default.prototype.finishEditing.apply(this,arguments)},c.prototype.highlightBestMatchingChoice=function(t){"number"==typeof t?this.htEditor.selectCell(t,0):this.htEditor.deselectCell()},c.sortByRelevance=function(t,e,n){var o=[],r=void 0,s=t.length,l=void 0,u=void 0,c=[],h=void 0,d=e.length;if(0===s){for(h=0;h<d;h++)c.push(h);return c}for(h=0;h<d;h++)r=(0,a.stripTags)((0,i.stringify)(e[h])),-1!==(l=n?r.indexOf(t):r.toLowerCase().indexOf(t.toLowerCase()))&&(u=r.length-l-s,o.push({baseIndex:h,index:l,charsLeft:u,value:r}));for(o.sort(function(t,e){if(-1===e.index)return-1;if(-1===t.index)return 1;if(t.index<e.index)return-1;if(e.index<t.index)return 1;if(t.index===e.index){if(t.charsLeft<e.charsLeft)return-1;if(t.charsLeft>e.charsLeft)return 1}return 0}),h=0,d=o.length;h<d;h++)c.push(o[h].baseIndex);return c},c.prototype.getDropdownHeight=function(){var t=this.htEditor.getInstance().getRowHeight(0)||23,e=this.cellProperties.visibleRows;return this.strippedChoices.length>=e?e*t:this.strippedChoices.length*t+8},c.prototype.stripValueIfNeeded=function(t){return this.stripValuesIfNeeded([t])[0]},c.prototype.stripValuesIfNeeded=function(t){var e=this.cellProperties.allowHtml,n=(0,s.arrayMap)(t,function(t){return(0,i.stringify)(t)});return(0,s.arrayMap)(n,function(t){return e?t:(0,a.stripTags)(t)})},c.prototype.allowKeyEventPropagation=function(t){var e=this.htEditor.getSelectedRange()?this.htEditor.getSelectedRange().from.row:-1,n=!1;return t===r.KEY_CODES.ARROW_DOWN&&e>0&&e<this.htEditor.countRows()-1&&(n=!0),t===r.KEY_CODES.ARROW_UP&&e>-1&&(n=!0),n},c.prototype.discardEditor=function(t){u.default.prototype.discardEditor.apply(this,arguments),this.instance.view.render()},e.default=c},function(t,e,n){"use strict";e.__esModule=!0;var o,r=n(16),i=n(2),a=n(0),s=n(7),l=(o=n(43))&&o.__esModule?o:{default:o},u=l.default.prototype.extend();u.prototype.createElements=function(){l.default.prototype.createElements.apply(this,arguments);var t=document.createElement("DIV");t.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(t),this.htContainer=t,this.assignHooks()},u.prototype.prepare=function(t,e,n,o,r,a){l.default.prototype.prepare.apply(this,arguments);var s=this,u={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,afterOnCellMouseDown:function(t,e){var n=this.getSourceData(e.row,e.col);void 0!==n&&s.setValue(n),s.instance.destroyEditor()}};this.cellProperties.handsontable&&(0,i.extend)(u,a.handsontable),this.htOptions=u};var c=function(t){if(!(0,s.isImmediatePropagationStopped)(t)){var e,n,o=this.getActiveEditor(),i=o.htEditor.getInstance();if(t.keyCode==r.KEY_CODES.ARROW_DOWN)if(i.getSelected()||i.flipped){if(i.getSelected())if(i.flipped)e=i.getSelected()[0]+1;else if(!i.flipped){n=i.getSelected()[0];var a=i.countRows()-1;e=Math.min(a,n+1)}}else e=0;else t.keyCode==r.KEY_CODES.ARROW_UP&&(!i.getSelected()&&i.flipped?e=i.countRows()-1:i.getSelected()&&(i.flipped?(n=i.getSelected()[0],e=Math.max(0,n-1)):e=(n=i.getSelected()[0])-1));void 0!==e&&(e<0||i.flipped&&e>i.countRows()-1?i.deselectCell():i.selectCell(e,0),i.getData().length&&(t.preventDefault(),(0,s.stopImmediatePropagation)(t),o.instance.listen(),o.TEXTAREA.focus()))}};u.prototype.open=function(){this.instance.addHook("beforeKeyDown",c),l.default.prototype.open.apply(this,arguments),this.htEditor&&this.htEditor.destroy(),this.htEditor=new Handsontable(this.htContainer,this.htOptions),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),(0,a.setCaretPosition)(this.TEXTAREA,0,this.TEXTAREA.value.length)},u.prototype.close=function(){this.instance.removeHook("beforeKeyDown",c),this.instance.listen(),l.default.prototype.close.apply(this,arguments)},u.prototype.focus=function(){this.instance.listen(),l.default.prototype.focus.apply(this,arguments)},u.prototype.beginEditing=function(t){var e=this.instance.getSettings().onBeginEditing;e&&!1===e()||l.default.prototype.beginEditing.apply(this,arguments)},u.prototype.finishEditing=function(t,e){if(this.htEditor&&this.htEditor.isListening()&&this.instance.listen(),this.htEditor&&this.htEditor.getSelected()){var n=this.htEditor.getInstance().getValue();void 0!==n&&this.setValue(n)}return l.default.prototype.finishEditing.apply(this,arguments)},u.prototype.assignHooks=function(){var t=this;this.instance.addHook("afterDestroy",function(){t.htEditor&&t.htEditor.destroy()})},e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var o=n(1),r=n(2),i=n(6),a={_arrayMap:[],getValueByIndex:function(t){var e;return void 0===(e=this._arrayMap[t])?null:e},getIndexByValue:function(t){var e;return-1===(e=this._arrayMap.indexOf(t))?null:e},insertItems:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=(0,o.arrayMax)(this._arrayMap)+1,a=[];return(0,i.rangeEach)(n-1,function(n){a.push(e._arrayMap.splice(t+n,0,r+n))}),a},removeItems:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[];if(Array.isArray(t)){var i=[].concat(this._arrayMap);t.sort(function(t,e){return e-t}),r=(0,o.arrayReduce)(t,function(t,n){return e._arrayMap.splice(n,1),t.concat(i.slice(n,n+1))},[])}else r=this._arrayMap.splice(t,n);return r},unshiftItems:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.removeItems(t,e);this._arrayMap=(0,o.arrayMap)(this._arrayMap,function(t,e){var r=function(t){return(0,o.arrayReduce)(n,function(e,n){return t>n&&e++,e},0)}(t);return r&&(t-=r),t})},shiftItems:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._arrayMap=(0,o.arrayMap)(this._arrayMap,function(e){return e>=t&&(e+=n),e}),(0,i.rangeEach)(n-1,function(n){e._arrayMap.splice(t+n,0,t+n)})},clearMap:function(){this._arrayMap.length=0}};(0,r.defineGetter)(a,"MIXIN_NAME","arrayMapper",{writable:!1,enumerable:!1}),e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var o=n(1),r=n(2),i={_localHooks:Object.create(null),addLocalHook:function(t,e){this._localHooks[t]||(this._localHooks[t]=[]),this._localHooks[t].push(e)},runLocalHooks:function(t){for(var e=this,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this._localHooks[t]&&(0,o.arrayEach)(this._localHooks[t],function(t){return t.apply(e,r)})},clearLocalHooks:function(){this._localHooks={}}};(0,r.defineGetter)(i,"MIXIN_NAME","localHooks",{writable:!1,enumerable:!1}),e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(6),i=0,a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this._element=null,this.state=i}return o(t,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){this._element=document.createElement("div"),this.state=1}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=i}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,e){(0,r.isNumeric)(t)&&(this._element.style.top=t+"px"),(0,r.isNumeric)(e)&&(this._element.style.left=e+"px")}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,e){(0,r.isNumeric)(t)&&(this._element.style.width=t+"px"),(0,r.isNumeric)(e)&&(this._element.style.height=e+"px")}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,e){(0,r.isNumeric)(t)&&(this._element.style.marginTop=t+"px"),(0,r.isNumeric)(e)&&(this._element.style.marginLeft=e+"px")}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=0,i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this._element=null,this.state=r}return o(t,[{key:"appendTo",value:function(t){t.appendChild(this._element),this.state=2}},{key:"build",value:function(){this._element=document.createElement("div"),this.state=1}},{key:"destroy",value:function(){this.isAppended()&&this._element.parentElement.removeChild(this._element),this._element=null,this.state=r}},{key:"isAppended",value:function(){return 2===this.state}},{key:"isBuilt",value:function(){return this.state>=1}},{key:"setPosition",value:function(t,e){t&&(this._element.style.top=t+"px"),e&&(this._element.style.left=e+"px")}},{key:"getPosition",value:function(){return{top:this._element.style.top?parseInt(this._element.style.top,10):0,left:this._element.style.left?parseInt(this._element.style.left,10):0}}},{key:"setSize",value:function(t,e){t&&(this._element.style.width=t+"px"),e&&(this._element.style.height=e+"px")}},{key:"getSize",value:function(){return{width:this._element.style.width?parseInt(this._element.style.width,10):0,height:this._element.style.height?parseInt(this._element.style.height,10):0}}},{key:"setOffset",value:function(t,e){t&&(this._element.style.marginTop=t+"px"),e&&(this._element.style.marginLeft=e+"px")}},{key:"getOffset",value:function(){return{top:this._element.style.marginTop?parseInt(this._element.style.marginTop,10):0,left:this._element.style.marginLeft?parseInt(this._element.style.marginLeft,10):0}}}]),t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0,e.RecordTranslator=void 0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();e.registerIdentity=function(t,e){l.set(t,e)},e.getTranslator=function(t){var e=void 0;if(!(t instanceof i.default)){if(!l.has(t))throw Error("Record translator was not registered for this object identity");t=l.get(t)}return u.has(t)?e=u.get(t):(e=new s(t),u.set(t,e)),e};var r,i=(r=n(64))&&r.__esModule?r:{default:r},a=n(2),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e}return o(t,[{key:"toVisualRow",value:function(t){return this.hot.runHooks("unmodifyRow",t)}},{key:"toVisualColumn",value:function(t){return this.hot.runHooks("unmodifyCol",t)}},{key:"toVisual",value:function(t,e){return(0,a.isObject)(t)?{row:this.toVisualRow(t.row),column:this.toVisualColumn(t.column)}:[this.toVisualRow(t),this.toVisualColumn(e)]}},{key:"toPhysicalRow",value:function(t){return this.hot.runHooks("modifyRow",t)}},{key:"toPhysicalColumn",value:function(t){return this.hot.runHooks("modifyCol",t)}},{key:"toPhysical",value:function(t,e){return(0,a.isObject)(t)?{row:this.toPhysicalRow(t.row),column:this.toPhysicalColumn(t.column)}:[this.toPhysicalRow(t),this.toPhysicalColumn(e)]}}]),t}();e.RecordTranslator=s;var l=new WeakMap,u=new WeakMap},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(2),i=n(6),a=n(20),s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.samples=null,this.dataFactory=e,this.customSampleCount=null,this.allowDuplicates=!1}return o(t,null,[{key:"SAMPLE_COUNT",get:function(){return 3}}]),o(t,[{key:"getSampleCount",value:function(){return this.customSampleCount?this.customSampleCount:t.SAMPLE_COUNT}},{key:"setSampleCount",value:function(t){this.customSampleCount=t}},{key:"setAllowDuplicates",value:function(t){this.allowDuplicates=t}},{key:"generateRowSamples",value:function(t,e){return this.generateSamples("row",e,t)}},{key:"generateColumnSamples",value:function(t,e){return this.generateSamples("col",e,t)}},{key:"generateSamples",value:function(t,e,n){var o=this,r=new Map;return"number"==typeof n&&(n={from:n,to:n}),(0,i.rangeEach)(n.from,n.to,function(n){var i=o.generateSample(t,e,n);r.set(n,i)}),r}},{key:"generateSample",value:function(t,e,n){var o=this,s=new Map,l=[],u=void 0;return(0,i.rangeEach)(e.from,e.to,function(e){var i=void 0;if("row"===t)i=o.dataFactory(n,e);else{if("col"!==t)throw new Error("Unsupported sample type");i=o.dataFactory(e,n)}u=(0,r.isObject)(i)?Object.keys(i).length:Array.isArray(i)?i.length:(0,a.stringify)(i).length,s.has(u)||s.set(u,{needed:o.getSampleCount(),strings:[]});var c=s.get(u);if(c.needed&&(!(l.indexOf(i)>-1)||o.allowDuplicates)){var h="row"===t?"col":"row";c.strings.push(function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({value:i},h,e)),l.push(i),c.needed--}}),s}}]),t}();e.default=s},function(t,e,n){var o=n(23),r=n(24),i=n(60);t.exports=function(t){return function(e,n,a){var s,l=o(e),u=r(l.length),c=i(a,u);if(t&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===n)return t||c||0;return!t&&-1}}},function(t,e,n){var o=n(38),r=n(10)("toStringTag"),i="Arguments"==o(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),r))?n:i?o(e):"Object"==(a=o(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){"use strict";var o=n(19).f,r=n(78),i=n(59),a=n(29),s=n(52),l=n(30),u=n(56),c=n(166),h=n(167),d=n(172),f=n(21),p=n(46).fastKey,g=f?"_s":"size",v=function(t,e){var n,o=p(e);if("F"!==o)return t._i[o];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,c){var h=t(function(t,o){s(t,h,e,"_i"),t._i=r(null),t._f=void 0,t._l=void 0,t[g]=0,null!=o&&u(o,n,t[c],t)});return i(h.prototype,{clear:function(){for(var t=this._i,e=this._f;e;e=e.n)e.r=!0,e.p&&(e.p=e.p.n=void 0),delete t[e.i];this._f=this._l=void 0,this[g]=0},delete:function(t){var e=v(this,t);if(e){var n=e.n,o=e.p;delete this._i[e.i],e.r=!0,o&&(o.n=n),n&&(n.p=o),this._f==e&&(this._f=n),this._l==e&&(this._l=o),this[g]--}return!!e},forEach:function(t){s(this,h,"forEach");for(var e,n=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(n(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(this,t)}}),f&&o(h.prototype,"size",{get:function(){return l(this[g])}}),h},def:function(t,e,n){var o,r,i=v(t,e);return i?i.v=n:(t._l=i={i:r=p(e,!0),k:e,v:n,p:o=t._l,n:void 0,r:!1},t._f||(t._f=i),o&&(o.n=i),t[g]++,"F"!==r&&(t._i[r]=i)),t},getEntry:v,setStrong:function(t,e,n){c(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?h(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,h(1))},n?"entries":"values",!n,!0),d(e)}}},function(t,e,n){"use strict";var o=n(59),r=n(46).getWeak,i=n(18),a=n(15),s=n(52),l=n(56),u=n(53),c=n(22),h=u(5),d=u(6),f=0,p=function(t){return t._l||(t._l=new g)},g=function(){this.a=[]},v=function(t,e){return h(t.a,function(t){return t[0]===e})};g.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var n=v(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=d(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,i){var u=t(function(t,o){s(t,u,e,"_i"),t._i=f++,t._l=void 0,null!=o&&l(o,n,t[i],t)});return o(u.prototype,{delete:function(t){if(!a(t))return!1;var e=r(t);return!0===e?p(this).delete(t):e&&c(e,this._i)&&delete e[this._i]},has:function(t){if(!a(t))return!1;var e=r(t);return!0===e?p(this).has(t):e&&c(e,this._i)}}),u},def:function(t,e,n){var o=r(i(e),!0);return!0===o?p(t).set(e,n):o[t._i]=n,t},ufstore:p}},function(t,e,n){t.exports=n(13).document&&document.documentElement},function(t,e,n){t.exports=!n(21)&&!n(31)(function(){return 7!=Object.defineProperty(n(73)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(45),r=n(10)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||i[r]===t)}},function(t,e,n){var o=n(38);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t,e,n){var o=n(15),r=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&r(t)===t}},function(t,e,n){var o=n(15),r=n(38),i=n(10)("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},function(t,e,n){var o=n(18);t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},function(t,e,n){"use strict";var o=n(57),r=n(3),i=n(33),a=n(32),s=n(22),l=n(45),u=n(283),c=n(48),h=n(288),d=n(10)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};t.exports=function(t,e,n,g,v,m,y){u(n,e,g);var w,b,C,k=function(t){if(!f&&t in O)return O[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",x="values"==v,T=!1,O=t.prototype,R=O[d]||O["@@iterator"]||v&&O[v],E=R||k(v),M=v?x?k("entries"):E:void 0,_="Array"==e&&O.entries||R;if(_&&(C=h(_.call(new t)))!==Object.prototype&&(c(C,S,!0),o||s(C,d)||a(C,d,p)),x&&R&&"values"!==R.name&&(T=!0,E=function(){return R.call(this)}),o&&!y||!f&&!T&&O[d]||a(O,d,E),l[e]=E,l[S]=p,v)if(w={values:x?E:k("values"),keys:m?E:k("keys"),entries:M},y)for(b in w)b in O||i(O,b,w[b]);else r(r.P+r.F*(f||T),e,w);return w}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){"use strict";var o=n(39),r=n(58),i=n(47),a=n(41),s=n(76),l=Object.assign;t.exports=!l||n(31)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||Object.keys(l({},e)).join("")!=o})?function(t,e){for(var n=a(t),l=arguments.length,u=1,c=r.f,h=i.f;l>u;)for(var d,f=s(arguments[u++]),p=c?o(f).concat(c(f)):o(f),g=p.length,v=0;g>v;)h.call(f,d=p[v++])&&(n[d]=f[d]);return n}:l},function(t,e,n){var o=n(22),r=n(23),i=n(155)(!1),a=n(81)("IE_PROTO");t.exports=function(t,e){var n,s=r(t),l=0,u=[];for(n in s)n!=a&&o(s,n)&&u.push(n);for(;e.length>l;)o(s,n=e[l++])&&(~i(u,n)||u.push(n));return u}},function(t,e,n){var o=n(39),r=n(23),i=n(47).f;t.exports=function(t){return function(e){for(var n,a=r(e),s=o(a),l=s.length,u=0,c=[];l>u;)i.call(a,n=s[u++])&&c.push(t?[n,a[n]]:a[n]);return c}}},function(t,e,n){var o=n(15),r=n(18),i=function(t,e){if(r(t),!o(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,o){try{(o=n(29)(Function.call,n(79).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,n){return i(t,n),e?t.__proto__=n:o(t,n),t}}({},!1):void 0),check:i}},function(t,e,n){"use strict";var o=n(13),r=n(19),i=n(21),a=n(10)("species");t.exports=function(t){var e=o[t];i&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var o=n(24),r=n(174),i=n(30);t.exports=function(t,e,n,a){var s=String(i(t)),l=s.length,u=void 0===n?" ":String(n),c=o(e);if(c<=l||""==u)return s;var h=c-l,d=r.call(u,Math.ceil(h/u.length));return d.length>h&&(d=d.slice(0,h)),a?d+s:s+d}},function(t,e,n){"use strict";var o=n(61),r=n(30);t.exports=function(t){var e=String(r(this)),n="",i=o(t);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){e.f=n(10)},function(t,e,n){var o=n(156),r=n(10)("iterator"),i=n(45);t.exports=n(44).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||i[o(t)]}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e="undefined"!=typeof window&&window.jQuery;e&&(e.fn.handsontable=function(e){var n=this.first(),o=n.data("handsontable");if("string"!=typeof e){var r=e||{};return o?o.updateSettings(r):(o=new t.Core(n[0],r),n.data("handsontable",o),o.init()),n}var i=[],a=void 0;if(arguments.length>1)for(var s=1,l=arguments.length;s<l;s++)i.push(arguments[s]);if(o){if(void 0===o[e])throw new Error("Handsontable do not provide action: "+e);a=o[e].apply(o,i),"destroy"===e&&n.removeData()}return a})}},function(t,e,n){"use strict";e.__esModule=!0,e.Base=e.UndoRedo=e.TouchScroll=e.Search=e.PersistentState=e.ObserveChanges=e.MultipleSelectionHandles=e.MergeCells=e.ManualRowResize=e.ManualRowMove=e.ManualColumnResize=e.ManualColumnMove=e.ManualColumnFreeze=e.DragToScroll=e.CustomBorders=e.CopyPaste=e.ContextMenuCopyPaste=e.ContextMenu=e.Comments=e.ColumnSorting=e.AutoRowSize=e.AutoFill=e.AutoColumnSize=void 0;var o=O(n(211)),r=O(n(213)),i=O(n(212)),a=O(n(215)),s=O(n(217)),l=O(n(219)),u=O(n(234)),c=O(n(235)),h=O(n(236)),d=O(n(237)),f=O(n(240)),p=O(n(242)),g=O(n(245)),v=O(n(246)),m=O(n(250)),y=O(n(251)),w=O(n(252)),b=O(n(254)),C=O(n(256)),k=O(n(257)),S=O(n(258)),x=O(n(259)),T=O(n(12));function O(t){return t&&t.__esModule?t:{default:t}}e.AutoColumnSize=o.default,e.AutoFill=r.default,e.AutoRowSize=i.default,e.ColumnSorting=a.default,e.Comments=s.default,e.ContextMenu=l.default,e.ContextMenuCopyPaste=u.default,e.CopyPaste=c.default,e.CustomBorders=h.default,e.DragToScroll=d.default,e.ManualColumnFreeze=f.default,e.ManualColumnMove=p.default,e.ManualColumnResize=g.default,e.ManualRowMove=v.default,e.ManualRowResize=m.default,e.MergeCells=y.default,e.MultipleSelectionHandles=w.default,e.ObserveChanges=b.default,e.PersistentState=C.default,e.Search=k.default,e.TouchScroll=S.default,e.UndoRedo=x.default,e.Base=T.default},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){"use strict";t.exports=function(){var t,e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=document.body,o=document.createTextNode(""),r=document.createElement("SPAN"),i=function(t,e,n){window.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n,!1)},a=function(t,e,n){window.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},s=function(i){var a,s;i?/^[a-zA-Z \.,\\\/\|0-9]$/.test(i)||(i="."):i="",void 0!==o.textContent?o.textContent=t.value+i:o.data=t.value+i,r.style.fontSize=c(t).fontSize,r.style.fontFamily=c(t).fontFamily,r.style.whiteSpace="pre",n.appendChild(r),a=r.clientWidth+2,n.removeChild(r),t.style.height=e.minHeight+"px",e.minWidth>a?t.style.width=e.minWidth+"px":a>e.maxWidth?t.style.width=e.maxWidth+"px":t.style.width=a+"px",s=t.scrollHeight?t.scrollHeight-1:0,e.minHeight>s?t.style.height=e.minHeight+"px":e.maxHeight<s?(t.style.height=e.maxHeight+"px",t.style.overflowY="visible"):t.style.height=s+"px"},l=function(){window.setTimeout(s,0)},u=function(n,a,u){t=n,function(n){if(n&&n.minHeight)if("inherit"==n.minHeight)e.minHeight=t.clientHeight;else{var i=parseInt(n.minHeight);isNaN(i)||(e.minHeight=i)}if(n&&n.maxHeight)if("inherit"==n.maxHeight)e.maxHeight=t.clientHeight;else{var a=parseInt(n.maxHeight);isNaN(a)||(e.maxHeight=a)}if(n&&n.minWidth)if("inherit"==n.minWidth)e.minWidth=t.clientWidth;else{var s=parseInt(n.minWidth);isNaN(s)||(e.minWidth=s)}if(n&&n.maxWidth)if("inherit"==n.maxWidth)e.maxWidth=t.clientWidth;else{var l=parseInt(n.maxWidth);isNaN(l)||(e.maxWidth=l)}r.firstChild||(r.className="autoResize",r.style.display="inline-block",r.appendChild(o))}(a),"TEXTAREA"==t.nodeName&&(t.style.resize="none",t.style.overflowY="",t.style.height=e.minHeight+"px",t.style.minWidth=e.minWidth+"px",t.style.maxWidth=e.maxWidth+"px",t.style.overflowY="hidden"),u&&(i(t,"change",s),i(t,"cut",l),i(t,"paste",l),i(t,"drop",l),i(t,"keydown",l),i(t,"focus",s)),s()};function c(t){return t.currentStyle||document.defaultView.getComputedStyle(t)}return{init:function(t,e,n){u(t,e,n)},unObserve:function(){a(t,"change",s),a(t,"cut",l),a(t,"paste",l),a(t,"drop",l),a(t,"keydown",l),a(t,"focus",s)},resize:s}}},function(t,e,n){"use strict";var o;function r(){this.refCounter=0,this.init()}t.exports=function(){return o?o.hasBeenDestroyed()&&o.init():o=new r,o.refCounter++,o},r.prototype.init=function(){var t,e;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[],e=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("div"),this.elDiv.id="CopyPasteDiv",(t=this.elDiv.style).position="fixed",t.top="-10000px",t.left="-10000px",e.appendChild(this.elDiv),this.elTextarea=document.createElement("textarea"),this.elTextarea.className="copyPaste",this.elTextarea.onpaste=function(t){var e,n;"WebkitAppearance"in document.documentElement.style&&(e=t.clipboardData.getData("Text"),-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&(""===(n=e.split("\n"))[n.length-1]&&n.pop(),e=n.join("\n")),this.value=e,t.preventDefault())},(t=this.elTextarea.style).width="10000px",t.height="10000px",t.overflow="hidden",this.elDiv.appendChild(this.elTextarea),void 0!==t.opacity&&(t.opacity=0)),this.onKeyDownRef=this.onKeyDown.bind(this),document.documentElement.addEventListener("keydown",this.onKeyDownRef,!1)},r.prototype.onKeyDown=function(t){var e,n=this,o=!1;if(t.metaKey?o=!0:t.ctrlKey&&-1===navigator.userAgent.indexOf("Mac")&&(o=!0),o){if(document.activeElement!==this.elTextarea&&(""!==this.getSelectionText()||((e=document.activeElement).shadowRoot&&e.shadowRoot.activeElement&&(e=e.shadowRoot.activeElement),["INPUT","SELECT","TEXTAREA"].indexOf(e.nodeName)>-1||"true"===e.contentEditable)))return;this.selectNodeText(this.elTextarea),setTimeout(function(){document.activeElement!==n.elTextarea&&n.selectNodeText(n.elTextarea)},0)}!1===t.isImmediatePropagationEnabled||!o||67!==t.keyCode&&86!==t.keyCode&&88!==t.keyCode||(88===t.keyCode?setTimeout(function(){n.triggerCut(t)},0):86===t.keyCode&&setTimeout(function(){n.triggerPaste(t)},0))},r.prototype.selectNodeText=function(t){t&&t.select()},r.prototype.getSelectionText=function(){var t="";return window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(t=document.selection.createRange().text),t},r.prototype.copyable=function(t){if("string"!=typeof t&&void 0===t.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=t,this.selectNodeText(this.elTextarea)},r.prototype.onCut=function(t){this.cutCallbacks.push(t)},r.prototype.onPaste=function(t){this.pasteCallbacks.push(t)},r.prototype.removeCallback=function(t){var e,n;for(e=0,n=this.copyCallbacks.length;e<n;e++)if(this.copyCallbacks[e]===t)return this.copyCallbacks.splice(e,1),!0;for(e=0,n=this.cutCallbacks.length;e<n;e++)if(this.cutCallbacks[e]===t)return this.cutCallbacks.splice(e,1),!0;for(e=0,n=this.pasteCallbacks.length;e<n;e++)if(this.pasteCallbacks[e]===t)return this.pasteCallbacks.splice(e,1),!0;return!1},r.prototype.triggerCut=function(t){var e=this;e.cutCallbacks&&setTimeout(function(){for(var n=0,o=e.cutCallbacks.length;n<o;n++)e.cutCallbacks[n](t)},50)},r.prototype.triggerPaste=function(t,e){var n=this;n.pasteCallbacks&&setTimeout(function(){for(var o=e||n.elTextarea.value,r=0,i=n.pasteCallbacks.length;r<i;r++)n.pasteCallbacks[r](o,t)},50)},r.prototype.destroy=function(){this.hasBeenDestroyed()||0!=--this.refCounter||(this.elDiv&&this.elDiv.parentNode&&(this.elDiv.parentNode.removeChild(this.elDiv),this.elDiv=null,this.elTextarea=null),document.documentElement.removeEventListener("keydown",this.onKeyDownRef),this.onKeyDownRef=null)},r.prototype.hasBeenDestroyed=function(){return!this.refCounter}},function(t,e,n){"use strict";e.__esModule=!0;var o,r=n(0),i=(o=n(28))&&o.__esModule?o:{default:o},a=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.clone=n.makeClone(i.default.CLONE_DEBUG),n.clone.wtTable.holder.style.opacity=.4,n.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",(0,r.addClass)(n.clone.wtTable.holder.parentNode,"wtDebugVisible"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),e}();i.default.registerOverlay(i.default.CLONE_DEBUG,a),e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0),a=(o=n(28))&&o.__esModule?o:{default:o},s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.clone=n.makeClone(a.default.CLONE_LEFT),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0,n=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||n&&"horizontal"===n)e=this.getScrollPosition(),(0,i.resetCssTransform)(t);else{var o=this.wot.wtTable.hider.getBoundingClientRect(),r=Math.ceil(o.left),a=Math.ceil(o.right),s=void 0,l=void 0;l=""===(l=this.wot.wtTable.hider.style.top)?0:l,e=s=r<0&&a-t.offsetWidth>0?-r:0,s+="px",(0,i.setOverlayPosition)(t,s,l)}this.adjustHeaderBordersPosition(e),this.adjustElementsSize()}}},{key:"setScrollPosition",value:function(t){this.mainTableScrollableElement===window?window.scrollTo(t,(0,i.getWindowScrollTop)()):this.mainTableScrollableElement.scrollLeft=t}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollVertically")}},{key:"sumCellSizes",value:function(t,e){for(var n=0,o=this.wot.wtSettings.defaultColumnWidth;t<e;)n+=this.wot.wtTable.getStretchedColumnWidth(t)||o,t++;return n}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),t||(this.areElementSizesAdjusted=!0))}},{key:"adjustRootElementSize",value:function(){var t,e=this.wot.wtTable.holder,n=e.clientHeight===e.offsetHeight?0:(0,i.getScrollbarWidth)(),o=this.clone.wtTable.holder.parentNode.style,r=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"vertical"===r){var a=this.wot.wtViewport.getWorkspaceHeight()-n;a=Math.min(a,(0,i.innerHeight)(this.wot.wtTable.wtRootElement)),o.height=a+"px"}else o.height="";this.clone.wtTable.holder.style.height=o.height,t=(0,i.outerWidth)(this.clone.wtTable.TABLE),o.width=(0===t?t:t+4)+"px"}},{key:"adjustRootChildrenSize",value:function(){var t=(0,i.getScrollbarWidth)();this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,0===t&&(t=30),this.clone.wtTable.holder.style.width=parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+t+"px"}},{key:"applyToDOM",value:function(){var t=this.wot.getSetting("totalColumns");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.top=""}},{key:"scrollTo",value:function(t,e){var n=this.getTableParentOffset(),o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,r=0;e&&o.offsetWidth!==o.clientWidth&&(r=(0,i.getScrollbarWidth)()),e?(n+=this.sumCellSizes(0,t+1),n-=this.wot.wtViewport.getViewportWidth()):n+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),t),n+=r,this.setScrollPosition(n)}},{key:"getTableParentOffset",value:function(){var t=0;return this.wot.getSetting("preventOverflow")||this.trimmingContainer!==window||(t=this.wot.wtTable.holderOffset.left),t}},{key:"getScrollPosition",value:function(){return(0,i.getScrollLeft)(this.mainTableScrollableElement)}},{key:"adjustHeaderBordersPosition",value:function(t){var e=this.wot.wtTable.holder.parentNode,n=this.wot.getSetting("rowHeaders"),o=this.wot.getSetting("fixedColumnsLeft");if(this.wot.getSetting("totalRows")?(0,i.removeClass)(e,"emptyRows"):(0,i.addClass)(e,"emptyRows"),o&&!n.length)(0,i.addClass)(e,"innerBorderLeft");else if(!o&&n.length){var r=(0,i.hasClass)(e,"innerBorderLeft");t?(0,i.addClass)(e,"innerBorderLeft"):(0,i.removeClass)(e,"innerBorderLeft"),(!r&&t||r&&!t)&&this.wot.wtOverlays.adjustElementsSize()}}}]),e}();a.default.registerOverlay(a.default.CLONE_LEFT,s),e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0),a=(o=n(28))&&o.__esModule?o:{default:o},s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.clone=n.makeClone(a.default.CLONE_TOP),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0,n=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||n&&"vertical"===n)e=this.getScrollPosition(),(0,i.resetCssTransform)(t);else{var o=this.wot.wtTable.hider.getBoundingClientRect(),r=Math.ceil(o.top),a=Math.ceil(o.bottom),s=void 0,l=void 0;s=""===(s=this.wot.wtTable.hider.style.left)?0:s,e=l=r<0&&a-t.offsetHeight>0?-r:0,l+="px",(0,i.setOverlayPosition)(t,s,l)}this.adjustHeaderBordersPosition(e),this.adjustElementsSize()}}},{key:"setScrollPosition",value:function(t){this.mainTableScrollableElement===window?window.scrollTo((0,i.getWindowScrollLeft)(),t):this.mainTableScrollableElement.scrollTop=t}},{key:"onScroll",value:function(){this.wot.getSetting("onScrollHorizontally")}},{key:"sumCellSizes",value:function(t,e){for(var n=0,o=this.wot.wtSettings.settings.defaultRowHeight;t<e;){var r=this.wot.wtTable.getRowHeight(t);n+=void 0===r?o:r,t++}return n}},{key:"adjustElementsSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.updateTrimmingContainer(),(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildrenSize(),t||(this.areElementSizesAdjusted=!0))}},{key:"adjustRootElementSize",value:function(){var t,e=this.wot.wtTable.holder,n=e.clientWidth===e.offsetWidth?0:(0,i.getScrollbarWidth)(),o=this.clone.wtTable.holder.parentNode.style,r=this.wot.getSetting("preventOverflow");if(this.trimmingContainer!==window||"horizontal"===r){var a=this.wot.wtViewport.getWorkspaceWidth()-n;a=Math.min(a,(0,i.innerWidth)(this.wot.wtTable.wtRootElement)),o.width=a+"px"}else o.width="";this.clone.wtTable.holder.style.width=o.width,t=(0,i.outerHeight)(this.clone.wtTable.TABLE),o.height=(0===t?t:t+4)+"px"}},{key:"adjustRootChildrenSize",value:function(){var t=(0,i.getScrollbarWidth)();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===t&&(t=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+t+"px"}},{key:"applyToDOM",value:function(){var t=this.wot.getSetting("totalRows");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()}},{key:"syncOverlayOffset",value:function(){"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.clone.wtTable.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":this.clone.wtTable.spreader.style.left=""}},{key:"scrollTo",value:function(t,e){var n=this.getTableParentOffset(),o=(this.wot.cloneSource?this.wot.cloneSource:this.wot).wtTable.holder,r=0;if(e&&o.offsetHeight!==o.clientHeight&&(r=(0,i.getScrollbarWidth)()),e){var a=this.wot.getSetting("fixedRowsBottom"),s=(this.wot.getSetting("fixedRowsTop"),this.wot.getSetting("totalRows"));n+=this.sumCellSizes(0,t+1),n-=this.wot.wtViewport.getViewportHeight()-this.sumCellSizes(s-a,s),n+=1}else n+=this.sumCellSizes(this.wot.getSetting("fixedRowsTop"),t);n+=r,this.setScrollPosition(n)}},{key:"getTableParentOffset",value:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0}},{key:"getScrollPosition",value:function(){return(0,i.getScrollTop)(this.mainTableScrollableElement)}},{key:"redrawSelectionBorders",value:function(t){if(t&&t.cellRange){var e=t.getBorder(this.wot);if(e){var n=t.getCorners();e.disappear(),e.appear(n)}}}},{key:"redrawAllSelectionsBorders",value:function(){var t=this.wot.selections;this.redrawSelectionBorders(t.current),this.redrawSelectionBorders(t.area),this.redrawSelectionBorders(t.fill),this.wot.wtTable.wot.wtOverlays.leftOverlay.refresh()}},{key:"adjustHeaderBordersPosition",value:function(t){var e=this.wot.wtTable.holder.parentNode;if(this.wot.getSetting("totalColumns")?(0,i.removeClass)(e,"emptyColumns"):(0,i.addClass)(e,"emptyColumns"),0===this.wot.getSetting("fixedRowsTop")&&this.wot.getSetting("columnHeaders").length>0){var n=(0,i.hasClass)(e,"innerBorderTop");t||0===this.wot.getSetting("totalRows")?(0,i.addClass)(e,"innerBorderTop"):(0,i.removeClass)(e,"innerBorderTop"),(!n&&t||n&&!t)&&(this.wot.wtOverlays.adjustElementsSize(),this.redrawAllSelectionsBorders())}if(0===this.wot.getSetting("rowHeaders").length){var o=this.clone.wtTable.THEAD.querySelectorAll("th:nth-of-type(2)");if(o)for(var r=0;r<o.length;r++)o[r].style["border-left-width"]=0}}}]),e}();a.default.registerOverlay(a.default.CLONE_TOP,s),e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0),a=(o=n(28))&&o.__esModule?o:{default:o},s=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.clone=n.makeClone(a.default.CLONE_TOP_LEFT_CORNER),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"shouldBeRendered",value:function(){return!(!this.wot.getSetting("fixedRowsTop")&&!this.wot.getSetting("columnHeaders").length||!this.wot.getSetting("fixedColumnsLeft")&&!this.wot.getSetting("rowHeaders").length)}},{key:"resetFixedPosition",value:function(){if(this.updateTrimmingContainer(),this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=(0,i.outerHeight)(this.clone.wtTable.TABLE),n=(0,i.outerWidth)(this.clone.wtTable.TABLE),o=this.wot.getSetting("preventOverflow");if(this.trimmingContainer===window){var r=this.wot.wtTable.hider.getBoundingClientRect(),a=Math.ceil(r.top),s=Math.ceil(r.left),l=Math.ceil(r.bottom),u=Math.ceil(r.right),c="0",h="0";o&&"vertical"!==o||s<0&&u-t.offsetWidth>0&&(c=-s+"px"),o&&"horizontal"!==o||a<0&&l-t.offsetHeight>0&&(h=-a+"px"),(0,i.setOverlayPosition)(t,c,h)}else(0,i.resetCssTransform)(t);t.style.height=(0===e?e:e+4)+"px",t.style.width=(0===n?n:n+4)+"px"}}}]),e}();a.default.registerOverlay(a.default.CLONE_TOP_LEFT_CORNER,s),e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0),a=u(n(134)),s=u(n(42)),l=u(n(69));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.settings=e,this.cellRange=n||null,this.instanceBorders={}}return r(t,[{key:"getBorder",value:function(t){if(this.instanceBorders[t.guid])return this.instanceBorders[t.guid];this.instanceBorders[t.guid]=new a.default(t,this.settings)}},{key:"isEmpty",value:function(){return null===this.cellRange}},{key:"add",value:function(t){this.isEmpty()?this.cellRange=new l.default(t,t,t):this.cellRange.expand(t)}},{key:"replace",value:function(t,e){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=e,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=e,!0}return!1}},{key:"clear",value:function(){this.cellRange=null}},{key:"getCorners",value:function(){var t=this.cellRange.getTopLeftCorner(),e=this.cellRange.getBottomRightCorner();return[t.row,t.col,e.row,e.col]}},{key:"addClassAtCoords",value:function(t,e,n,r){var a=t.wtTable.getCell(new s.default(e,n));"object"===(void 0===a?"undefined":o(a))&&(0,i.addClass)(a,r)}},{key:"draw",value:function(t){if(this.isEmpty()){if(this.settings.border){var e=this.getBorder(t);e&&e.disappear()}}else{for(var n=t.wtTable.getRenderedRowsCount(),o=t.wtTable.getRenderedColumnsCount(),r=this.getCorners(),a=void 0,s=void 0,l=void 0,u=0;u<o;u++)if((s=t.wtTable.columnFilter.renderedToSource(u))>=r[1]&&s<=r[3]&&(l=t.wtTable.getColumnHeader(s))){var c=[];this.settings.highlightHeaderClassName&&c.push(this.settings.highlightHeaderClassName),this.settings.highlightColumnClassName&&c.push(this.settings.highlightColumnClassName),(0,i.addClass)(l,c)}for(var h=0;h<n;h++){if((a=t.wtTable.rowFilter.renderedToSource(h))>=r[0]&&a<=r[2]&&(l=t.wtTable.getRowHeader(a))){var d=[];this.settings.highlightHeaderClassName&&d.push(this.settings.highlightHeaderClassName),this.settings.highlightRowClassName&&d.push(this.settings.highlightRowClassName),(0,i.addClass)(l,d)}for(var f=0;f<o;f++)s=t.wtTable.columnFilter.renderedToSource(f),a>=r[0]&&a<=r[2]&&s>=r[1]&&s<=r[3]?this.settings.className&&this.addClassAtCoords(t,a,s,this.settings.className):a>=r[0]&&a<=r[2]?this.settings.highlightRowClassName&&this.addClassAtCoords(t,a,s,this.settings.highlightRowClassName):s>=r[1]&&s<=r[3]&&this.settings.highlightColumnClassName&&this.addClassAtCoords(t,a,s,this.settings.highlightColumnClassName)}if(t.getSetting("onBeforeDrawBorders",r,this.settings.className),this.settings.border){var p=this.getBorder(t);p&&p.appear(r)}}}}]),t}();e.default=c},function(t,e,n){"use strict";e.__esModule=!0;var o=n(14),r=n(9),i=n(26);e.default={editor:(0,o.getEditor)("autocomplete"),renderer:(0,r.getRenderer)("autocomplete"),validator:(0,i.getValidator)("autocomplete")}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(14),r=n(9);e.default={editor:(0,o.getEditor)("checkbox"),renderer:(0,r.getRenderer)("checkbox")}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(14),r=n(9),i=n(26);e.default={editor:(0,o.getEditor)("date"),renderer:(0,r.getRenderer)("autocomplete"),validator:(0,i.getValidator)("date")}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(14),r=n(9),i=n(26);e.default={editor:(0,o.getEditor)("dropdown"),renderer:(0,r.getRenderer)("autocomplete"),validator:(0,i.getValidator)("autocomplete")}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(14),r=n(9);e.default={editor:(0,o.getEditor)("handsontable"),renderer:(0,r.getRenderer)("autocomplete")}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(14),r=n(9),i=n(26);e.default={editor:(0,o.getEditor)("numeric"),renderer:(0,r.getRenderer)("numeric"),validator:(0,i.getValidator)("numeric"),dataType:"number"}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(14),r=n(9);n(26),e.default={editor:(0,o.getEditor)("password"),renderer:(0,r.getRenderer)("password"),copyable:!1}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(25),r=n(14),i=n(9);e.default={editor:(0,o.isMobileBrowser)()?(0,r.getEditor)("mobile"):(0,r.getEditor)("text"),renderer:(0,i.getRenderer)("text")}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(14),r=n(9),i=n(26);e.default={editor:(0,o.getEditor)("text"),renderer:(0,r.getRenderer)("text"),validator:(0,i.getValidator)("time")}},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=d(n(132)),i=n(65),a=n(66),s=n(2),l=n(1),u=d(n(269)),c=n(6),h=d(n(210));function d(t){return t&&t.__esModule?t:{default:t}}function f(t,e,n){var o=this;this.instance=t,this.priv=e,this.GridSettings=n,this.dataSource=this.instance.getSettings().data,this.cachedLength=null,this.skipCache=!1,this.latestSourceRowsCount=0,this.dataSource&&this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},this.createMap(),this.interval=u.default.create(function(){return o.clearLengthCache()},"15fps"),this.instance.addHook("skipLengthCache",function(t){return o.onSkipLengthCache(t)}),this.onSkipLengthCache(500)}d(n(8)),f.prototype.DESTINATION_RENDERER=1,f.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,f.prototype.recursiveDuckSchema=function(t){return(0,s.duckSchema)(t)},f.prototype.recursiveDuckColumns=function(t,e,n){var r,i;if(void 0===e&&(e=0,n=""),"object"===(void 0===t?"undefined":o(t))&&!Array.isArray(t))for(i in t)(0,s.hasOwnProperty)(t,i)&&(null===t[i]?(r=n+i,this.colToPropCache.push(r),this.propToColCache.set(r,e),e++):e=this.recursiveDuckColumns(t[i],e,i+"."));return e},f.prototype.createMap=function(){var t=void 0,e=this.getSchema();if(void 0===e)throw new Error("trying to create `columns` definition but you didn't provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new h.default;var n=this.instance.getSettings().columns;if(n){var o=this.instance.getSettings().maxCols,r=Math.min(o,n.length),i=0,a=!1,l=(0,s.deepObjectSize)(e);for("function"==typeof n&&(r=l>0?l:this.instance.countSourceCols(),a=!0),t=0;t<r;t++){var u=a?n(t):n[t];if((0,s.isObject)(u)){if(void 0!==u.data){var c=a?i:t;this.colToPropCache[c]=u.data,this.propToColCache.set(u.data,c)}i++}}}else this.recursiveDuckColumns(e)},f.prototype.colToProp=function(t){return t=this.instance.runHooks("modifyCol",t),!isNaN(t)&&this.colToPropCache&&void 0!==this.colToPropCache[t]?this.colToPropCache[t]:t},f.prototype.propToCol=function(t){var e;return e=void 0===this.propToColCache.get(t)?t:this.propToColCache.get(t),this.instance.runHooks("unmodifyCol",e)},f.prototype.getSchema=function(){var t=this.instance.getSettings().dataSchema;return t?"function"==typeof t?t():t:this.duckSchema},f.prototype.createRow=function(t,e,n){var o,r=this.instance.countCols(),i=0;e||(e=1),("number"!=typeof t||t>=this.instance.countSourceRows())&&(t=this.instance.countSourceRows()),this.instance.runHooks("beforeCreateRow",t,e,n);for(var a=this.instance.getSettings().maxRows;i<e&&this.instance.countSourceRows()<a;)"array"===this.instance.dataType?this.instance.getSettings().dataSchema?o=(0,s.deepClone)(this.getSchema()):(o=[],(0,c.rangeEach)(r-1,function(){return o.push(null)})):"function"===this.instance.dataType?o=this.instance.getSettings().dataSchema(t):(o={},(0,s.deepExtend)(o,this.getSchema())),t===this.instance.countSourceRows()?this.dataSource.push(o):this.spliceData(t,0,o),i++;return this.instance.runHooks("afterCreateRow",t,i,n),this.instance.forceFullRender=!0,i},f.prototype.createCol=function(t,e,n){if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var o,r,i=this.instance.countSourceRows(),s=this.dataSource,l=0;e||(e=1),("number"!=typeof t||t>=this.instance.countCols())&&(t=this.instance.countCols()),this.instance.runHooks("beforeCreateCol",t,e,n),r=t;for(var u=this.instance.getSettings().maxCols;l<e&&this.instance.countCols()<u;){if(o=(0,a.columnFactory)(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof t||t>=this.instance.countCols()){if(i>0)for(var c=0;c<i;c++)void 0===s[c]&&(s[c]=[]),s[c].push(null);else s.push([null]);this.priv.columnSettings.push(o)}else{for(var h=0;h<i;h++)s[h].splice(r,0,null);this.priv.columnSettings.splice(r,0,o)}l++,r++}return this.instance.runHooks("afterCreateCol",t,l,n),this.instance.forceFullRender=!0,l},f.prototype.removeRow=function(t,e,n){e||(e=1),"number"!=typeof t&&(t=-e),e=this.instance.runHooks("modifyRemovedAmount",e,t),t=(this.instance.countSourceRows()+t)%this.instance.countSourceRows();var o=this.physicalRowsToLogical(t,e);if(!1!==this.instance.runHooks("beforeRemoveRow",t,e,o,n)){var r,i=this.dataSource;(r=this.filterData(t,e))&&(i.length=0,Array.prototype.push.apply(i,r)),this.instance.runHooks("afterRemoveRow",t,e,o,n),this.instance.forceFullRender=!0}},f.prototype.removeCol=function(t,e,n){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");e||(e=1),"number"!=typeof t&&(t=-e),t=(this.instance.countCols()+t)%this.instance.countCols();var o=this.physicalColumnsToLogical(t,e),r=o.slice(0).sort(function(t,e){return e-t});if(!1!==this.instance.runHooks("beforeRemoveCol",t,e,o,n)){for(var i=!0,a=r.length,s=this.dataSource,l=0;l<a;l++)i&&o[0]!==o[l]-l&&(i=!1);if(i)for(var u=0,c=this.instance.countSourceRows();u<c;u++)s[u].splice(o[0],e);else{for(var h=0,d=this.instance.countSourceRows();h<d;h++)for(var f=0;f<a;f++)s[h].splice(r[f],1);for(var p=0;p<a;p++)this.priv.columnSettings.splice(o[p],1)}this.instance.runHooks("afterRemoveCol",t,e,o,n),this.instance.forceFullRender=!0}},f.prototype.spliceCol=function(t,e,n){var o=arguments.length>=4?[].slice.call(arguments,3):[],r=this.instance.getDataAtCol(t),i=r.slice(e,e+n),a=r.slice(e+n);(0,l.extendArray)(o,a);for(var s=0;s<n;)o.push(null),s++;return(0,l.to2dArray)(o),this.instance.populateFromArray(e,t,o,null,null,"spliceCol"),i},f.prototype.spliceRow=function(t,e,n){var o=arguments.length>=4?[].slice.call(arguments,3):[],r=this.instance.getSourceDataAtRow(t),i=r.slice(e,e+n),a=r.slice(e+n);(0,l.extendArray)(o,a);for(var s=0;s<n;)o.push(null),s++;return this.instance.populateFromArray(t,e,[o],null,null,"spliceRow"),i},f.prototype.spliceData=function(t,e,n){!1!==this.instance.runHooks("beforeDataSplice",t,e,n)&&this.dataSource.splice(t,e,n)},f.prototype.filterData=function(t,e){var n=this.physicalRowsToLogical(t,e);if(!1!==this.instance.runHooks("beforeDataFilter",t,e,n))return this.dataSource.filter(function(t,e){return-1==n.indexOf(e)})},f.prototype.get=function(t,e){t=this.instance.runHooks("modifyRow",t);var n=this.dataSource[t],o=this.instance.runHooks("modifyRowData",t),r=null;if((n=isNaN(o)?o:n)&&n.hasOwnProperty&&(0,s.hasOwnProperty)(n,e))r=n[e];else if("string"==typeof e&&e.indexOf(".")>-1){var i=e.split("."),a=n;if(!a)return null;for(var l=0,u=i.length;l<u;l++)if(void 0===(a=a[i[l]]))return null;r=a}else"function"==typeof e&&(r=e(this.dataSource.slice(t,t+1)[0]));if(this.instance.hasHook("modifyData")){var c=(0,s.createObjectPropListener)(r);this.instance.runHooks("modifyData",t,this.propToCol(e),c,"get"),c.isTouched()&&(r=c.value)}return r};var p=(0,i.cellMethodLookupFactory)("copyable",!1);f.prototype.getCopyable=function(t,e){return p.call(this.instance,t,this.propToCol(e))?this.get(t,e):""},f.prototype.set=function(t,e,n,o){t=this.instance.runHooks("modifyRow",t,o||"datamapGet");var r=this.dataSource[t],i=this.instance.runHooks("modifyRowData",t);if(r=isNaN(i)?i:r,this.instance.hasHook("modifyData")){var a=(0,s.createObjectPropListener)(n);this.instance.runHooks("modifyData",t,this.propToCol(e),a,"set"),a.isTouched()&&(n=a.value)}if(r&&r.hasOwnProperty&&(0,s.hasOwnProperty)(r,e))r[e]=n;else if("string"==typeof e&&e.indexOf(".")>-1){var l,u=e.split("."),c=r,h=0;for(h=0,l=u.length-1;h<l;h++)void 0===c[u[h]]&&(c[u[h]]={}),c=c[u[h]];c[u[h]]=n}else"function"==typeof e?e(this.dataSource.slice(t,t+1)[0],n):r[e]=n},f.prototype.physicalRowsToLogical=function(t,e){for(var n,o=this.instance.countSourceRows(),r=(o+t)%o,i=[],a=e;r<o&&a;)n=this.instance.runHooks("modifyRow",r),i.push(n),a--,r++;return i},f.prototype.physicalColumnsToLogical=function(t,e){for(var n=this.instance.countCols(),o=(n+t)%n,r=[],i=e;o<n&&i;){var a=this.instance.runHooks("modifyCol",o);r.push(a),i--,o++}return r},f.prototype.clear=function(){for(var t=0;t<this.instance.countSourceRows();t++)for(var e=0;e<this.instance.countCols();e++)this.set(t,this.colToProp(e),"")},f.prototype.clearLengthCache=function(){this.cachedLength=null},f.prototype.getLength=function(){var t,e=this,n=this.instance.getSettings().maxRows;t=n<0||0===n?0:n||1/0;var o=this.instance.countSourceRows();if(this.instance.hasHook("modifyRow")){var r=this.skipCache;this.interval.start(),o!==this.latestSourceRowsCount&&(r=!0),this.latestSourceRowsCount=o,null===this.cachedLength||r?((0,c.rangeEach)(o-1,function(t){null===(t=e.instance.runHooks("modifyRow",t))&&--o}),this.cachedLength=o):o=this.cachedLength}else this.interval.stop();return Math.min(o,t)},f.prototype.getAll=function(){var t={row:0,col:0},e={row:Math.max(this.instance.countSourceRows()-1,0),col:Math.max(this.instance.countCols()-1,0)};return t.row-e.row!=0||this.instance.countSourceRows()?this.getRange(t,e,f.prototype.DESTINATION_RENDERER):[]},f.prototype.getRange=function(t,e,n){var o,r,i,a,s,l=[],u=this.instance.getSettings().maxRows,c=this.instance.getSettings().maxCols;if(0===u||0===c)return[];var h=n===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(r=Math.min(Math.max(u-1,0),Math.max(t.row,e.row)),a=Math.min(Math.max(c-1,0),Math.max(t.col,e.col)),o=Math.min(t.row,e.row);o<=r;o++){s=[];var d=this.instance.runHooks("modifyRow",o);for(i=Math.min(t.col,e.col);i<=a&&null!==d;i++)s.push(h.call(this,o,this.colToProp(i)));null!==d&&l.push(s)}return l},f.prototype.getText=function(t,e){return r.default.stringify(this.getRange(t,e,this.DESTINATION_RENDERER))},f.prototype.getCopyableText=function(t,e){return r.default.stringify(this.getRange(t,e,this.DESTINATION_CLIPBOARD_GENERATOR))},f.prototype.onSkipLengthCache=function(t){var e=this;this.skipCache=!0,setTimeout(function(){e.skipCache=!1},t)},f.prototype.destroy=function(){this.interval.stop(),this.interval=null,this.instance=null,this.priv=null,this.GridSettings=null,this.dataSource=null,this.cachedLength=null,this.duckSchema=null},e.default=f},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(2),i=n(1),a=n(6),s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.data=n,this.dataType="array",this.colToProp=function(){},this.propToCol=function(){}}return o(t,[{key:"getData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.data;return t&&(e=this.getByRange({row:0,col:0},{row:Math.max(this.countRows()-1,0),col:Math.max(this.countColumns()-1,0)},!0)),e}},{key:"setData",value:function(t){this.data=t}},{key:"getAtColumn",value:function(t){var e=this,n=[];return(0,i.arrayEach)(this.data,function(o){var i=e.colToProp(t);o="string"==typeof i?(0,r.getProperty)(o,i):o[i],n.push(o)}),n}},{key:"getAtRow",value:function(t){return this.data[t]}},{key:"getAtCell",value:function(t,e){var n=null,o=this.hot.runHooks("modifyRowData",t),i=isNaN(o)?o:this.data[t];if(i){var a=this.colToProp(e);n="string"==typeof a?(0,r.getProperty)(i,a):"function"==typeof a?a(this.data.slice(t,t+1)[0]):i[a]}return n}},{key:"getByRange",value:function(t,e){var n=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Math.min(t.row,e.row),i=Math.min(t.col,e.col),s=Math.max(t.row,e.row),l=Math.max(t.col,e.col),u=[];return(0,a.rangeEach)(r,s,function(t){var e=n.getAtRow(t),r=void 0;"array"===n.dataType?r=e.slice(i,l+1):"object"===n.dataType&&(r=o?[]:{},(0,a.rangeEach)(i,l,function(t){var i=n.colToProp(t);o?r.push(e[i]):r[i]=e[i]})),u.push(r)}),u}},{key:"countRows",value:function(){return Array.isArray(this.data)?this.data.length:0}},{key:"countColumns",value:function(){var t=0;return Array.isArray(this.data)&&("array"===this.dataType?t=this.data[0].length:"object"===this.dataType&&(t=Object.keys(this.data[0]).length)),t}},{key:"destroy",value:function(){this.data=null,this.hot=null}}]),t}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o,r=n(11),i=n(16),a=n(7),s=n(14),l=(o=n(4))&&o.__esModule?o:{default:o},u=n(36);e.default=function(t,e,n){var o,c,h=this,d=!1;function f(t){n.setSelectedHeaders(!1,!1,!1);var o="function"==typeof e.settings.enterMoves?e.settings.enterMoves(event):e.settings.enterMoves;t?n.transformStart(-o.row,-o.col):n.transformStart(o.row,o.col,!0)}o=new l.default(t),this.destroyEditor=function(t){this.closeEditor(t)},this.getActiveEditor=function(){return c},this.prepareEditor=function(){var n,o,r,i,a,l,u;c&&c.isWaiting()?this.closeEditor(!1,!1,function(t){t&&h.prepareEditor()}):(n=e.selRange.highlight.row,o=e.selRange.highlight.col,r=t.colToProp(o),i=t.getCell(n,o),a=t.getSourceDataAtCell(t.runHooks("modifyRow",n),o),l=t.getCellMeta(n,o),(u=t.getCellEditor(l))?(c=(0,s.getEditorInstance)(u,t)).prepare(n,o,r,i,a,l):c=void 0)},this.isEditorOpened=function(){return c&&c.isOpened()},this.openEditor=function(t,e){c&&!c.cellProperties.readOnly?c.beginEditing(t,e):c&&c.cellProperties.readOnly&&e&&e.keyCode===i.KEY_CODES.ENTER&&f()},this.closeEditor=function(t,e,n){c?c.finishEditing(t,e,n):n&&n(!1)},this.closeEditorAndSaveChanges=function(t){return this.closeEditor(!1,t)},this.closeEditorAndRestoreOriginalValue=function(t){return this.closeEditor(!0,t)},t.addHook("afterDocumentKeyDown",function(o){var s,l;if(t.isListening()&&(t.runHooks("beforeKeyDown",o),!d&&!(0,a.isImmediatePropagationStopped)(o)&&(e.lastKeyCode=o.keyCode,n.isSelected())))if(s=(o.ctrlKey||o.metaKey)&&!o.altKey,!c||c.isWaiting()||(0,i.isMetaKey)(o.keyCode)||(0,i.isCtrlKey)(o.keyCode)||s||h.isEditorOpened())switch(l=o.shiftKey?n.setRangeEnd:n.setRangeStart,o.keyCode){case i.KEY_CODES.A:!h.isEditorOpened()&&s&&(n.selectAll(),o.preventDefault(),(0,a.stopPropagation)(o));break;case i.KEY_CODES.ARROW_UP:h.isEditorOpened()&&!c.isWaiting()&&h.closeEditorAndSaveChanges(s),o.shiftKey?(n.selectedHeader.cols&&n.setSelectedHeaders(n.selectedHeader.rows,!1,!1),n.transformEnd(-1,0)):(n.setSelectedHeaders(!1,!1,!1),n.transformStart(-1,0)),o.preventDefault(),(0,a.stopPropagation)(o);break;case i.KEY_CODES.ARROW_DOWN:h.isEditorOpened()&&!c.isWaiting()&&h.closeEditorAndSaveChanges(s),o.shiftKey?n.transformEnd(1,0):(n.setSelectedHeaders(!1,!1,!1),n.transformStart(1,0)),o.preventDefault(),(0,a.stopPropagation)(o);break;case i.KEY_CODES.ARROW_RIGHT:h.isEditorOpened()&&!c.isWaiting()&&h.closeEditorAndSaveChanges(s),o.shiftKey?n.transformEnd(0,1):(n.setSelectedHeaders(!1,!1,!1),n.transformStart(0,1)),o.preventDefault(),(0,a.stopPropagation)(o);break;case i.KEY_CODES.ARROW_LEFT:h.isEditorOpened()&&!c.isWaiting()&&h.closeEditorAndSaveChanges(s),o.shiftKey?(n.selectedHeader.rows&&n.setSelectedHeaders(!1,n.selectedHeader.cols,!1),n.transformEnd(0,-1)):(n.setSelectedHeaders(!1,!1,!1),n.transformStart(0,-1)),o.preventDefault(),(0,a.stopPropagation)(o);break;case i.KEY_CODES.TAB:n.setSelectedHeaders(!1,!1,!1);var p="function"==typeof e.settings.tabMoves?e.settings.tabMoves(o):e.settings.tabMoves;o.shiftKey?n.transformStart(-p.row,-p.col):n.transformStart(p.row,p.col,!0),o.preventDefault(),(0,a.stopPropagation)(o);break;case i.KEY_CODES.BACKSPACE:case i.KEY_CODES.DELETE:n.empty(o),h.prepareEditor(),o.preventDefault();break;case i.KEY_CODES.F2:h.openEditor(null,o),c&&c.enableFullEditMode(),o.preventDefault();break;case i.KEY_CODES.ENTER:h.isEditorOpened()?(c&&c.state!==u.EditorState.WAITING&&h.closeEditorAndSaveChanges(s),f(o.shiftKey)):t.getSettings().enterBeginsEditing?(h.openEditor(null,o),c&&c.enableFullEditMode()):f(o.shiftKey),o.preventDefault(),(0,a.stopImmediatePropagation)(o);break;case i.KEY_CODES.ESCAPE:h.isEditorOpened()&&h.closeEditorAndRestoreOriginalValue(s),o.preventDefault();break;case i.KEY_CODES.HOME:n.setSelectedHeaders(!1,!1,!1),o.ctrlKey||o.metaKey?l(new r.CellCoords(0,e.selRange.from.col)):l(new r.CellCoords(e.selRange.from.row,0)),o.preventDefault(),(0,a.stopPropagation)(o);break;case i.KEY_CODES.END:n.setSelectedHeaders(!1,!1,!1),o.ctrlKey||o.metaKey?l(new r.CellCoords(t.countRows()-1,e.selRange.from.col)):l(new r.CellCoords(e.selRange.from.row,t.countCols()-1)),o.preventDefault(),(0,a.stopPropagation)(o);break;case i.KEY_CODES.PAGE_UP:n.setSelectedHeaders(!1,!1,!1),n.transformStart(-t.countVisibleRows(),0),o.preventDefault(),(0,a.stopPropagation)(o);break;case i.KEY_CODES.PAGE_DOWN:n.setSelectedHeaders(!1,!1,!1),n.transformStart(t.countVisibleRows(),0),o.preventDefault(),(0,a.stopPropagation)(o)}else h.openEditor("",o)}),o.addEventListener(document.documentElement,"keydown",function(e){d||t.runHooks("afterDocumentKeyDown",e)}),t.view.wt.update("onCellDblClick",function(t,e,n){"TD"==n.nodeName&&(h.openEditor(),c&&c.enableFullEditMode())}),t.addHook("afterDestroy",function(){d=!0})}},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=(o=n(36))&&o.__esModule?o:{default:o},a=n(0),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"beginEditing",value:function(t,e){if(void 0===e){var n=this.TD.querySelector('input[type="checkbox"]');(0,a.hasClass)(n,"htBadValue")||n.click()}}},{key:"finishEditing",value:function(){}},{key:"init",value:function(){}},{key:"open",value:function(){}},{key:"close",value:function(){}},{key:"getValue",value:function(){}},{key:"setValue",value:function(){}},{key:"focus",value:function(){}}]),e}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=f(n(62)),a=f(n(299));n(182);var s=n(0),l=n(2),u=f(n(4)),c=n(16),h=n(7),d=f(n(43));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.defaultDateFormat="DD/MM/YYYY",n.isCellEdited=!1,n.parentDestroyed=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,d.default),o(e,[{key:"init",value:function(){var t=this;if("function"!=typeof i.default)throw new Error("You need to include moment.js to your project.");if("function"!=typeof a.default)throw new Error("You need to include Pikaday to your project.");r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),this.instance.addHook("afterDestroy",function(){t.parentDestroyed=!0,t.destroyElements()})}},{key:"createElements",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createElements",this).call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,(0,s.addClass)(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker),this.$datePicker=new a.default(this.getDatePickerConfig()),new u.default(this).addEventListener(this.datePicker,"mousedown",function(t){return(0,h.stopPropagation)(t)}),this.hideDatepicker()}},{key:"destroyElements",value:function(){this.$datePicker.destroy()}},{key:"prepare",value:function(t,n,o,i,a,s){this._opened=!1,r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepare",this).call(this,t,n,o,i,a,s)}},{key:"open",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"open",this).call(this),this.showDatepicker(t)}},{key:"close",value:function(){var t=this;this._opened=!1,this.instance._registerTimeout(setTimeout(function(){t.instance.selection.refreshBorders()},0)),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"close",this).call(this)}},{key:"finishEditing",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){var o=this.originalValue;void 0!==o&&this.setValue(o)}this.hideDatepicker(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"finishEditing",this).call(this,t,n)}},{key:"showDatepicker",value:function(t){this.$datePicker.config(this.getDatePickerConfig());var e=this.TD.getBoundingClientRect(),n=this.cellProperties.dateFormat||this.defaultDateFormat,o=this.$datePicker.config(),r=void 0,a=this.instance.view.isMouseDown(),l=!!t&&(0,c.isMetaKey)(t.keyCode);this.datePickerStyle.top=window.pageYOffset+e.top+(0,s.outerHeight)(this.TD)+"px",this.datePickerStyle.left=window.pageXOffset+e.left+"px",this.$datePicker._onInputFocus=function(){},o.format=n,this.originalValue?(r=this.originalValue,(0,i.default)(r,n,!0).isValid()&&this.$datePicker.setMoment((0,i.default)(r,n),!0),this.getValue()!==this.originalValue&&this.setValue(this.originalValue),l||a||this.setValue("")):this.cellProperties.defaultDate?(r=this.cellProperties.defaultDate,o.defaultDate=r,(0,i.default)(r,n,!0).isValid()&&this.$datePicker.setMoment((0,i.default)(r,n),!0),l||a||this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()}},{key:"hideDatepicker",value:function(){this.datePickerStyle.display="none",this.$datePicker.hide()}},{key:"getDatePickerConfig",value:function(){var t=this,e=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&(0,l.deepExtend)(n,this.cellProperties.datePickerConfig);var o=n.onSelect,r=n.onClose;return n.field=e,n.trigger=e,n.container=this.datePicker,n.bound=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.onSelect=function(e){isNaN(e.getTime())||(e=(0,i.default)(e).format(t.cellProperties.dateFormat||t.defaultDateFormat)),t.setValue(e),t.hideDatepicker(),o&&o()},n.onClose=function(){t.parentDestroyed||t.finishEditing(!1),r&&r()},n}}]),e}();e.default=p},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(147)),i=a(n(8));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,r.default),o(e,[{key:"prepare",value:function(t,n,o,r,i,a){(function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"prepare",this).call(this,t,n,o,r,i,a),this.cellProperties.filter=!1,this.cellProperties.strict=!0}}]),e}();i.default.getSingleton().add("beforeValidate",function(t,e,n,o){var r=this.getCellMeta(e,this.propToCol(n));r.editor===s&&void 0===r.strict&&(r.filter=!1,r.strict=!0)}),e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o=n(16),r=n(7),i=n(0),a=l(n(36)),s=l(n(4));function l(t){return t&&t.__esModule?t:{default:t}}var u=a.default.prototype.extend(),c={};u.prototype.valueChanged=function(){return this.initValue!=this.getValue()},u.prototype.init=function(){var t=this;this.eventManager=new s.default(this.instance),this.createElements(),this.bindEvents(),this.instance.addHook("afterDestroy",function(){t.destroy()})},u.prototype.getValue=function(){return this.TEXTAREA.value},u.prototype.setValue=function(t){this.initValue=t,this.TEXTAREA.value=t},u.prototype.createElements=function(){this.editorContainer=document.createElement("DIV"),this.editorContainer.className="htMobileEditorContainer",this.cellPointer=document.createElement("DIV"),this.cellPointer.className="cellPointer",this.moveHandle=document.createElement("DIV"),this.moveHandle.className="moveHandle",this.inputPane=document.createElement("DIV"),this.inputPane.className="inputs",this.positionControls=document.createElement("DIV"),this.positionControls.className="positionControls",this.TEXTAREA=document.createElement("TEXTAREA"),(0,i.addClass)(this.TEXTAREA,"handsontableInput"),this.inputPane.appendChild(this.TEXTAREA),this.editorContainer.appendChild(this.cellPointer),this.editorContainer.appendChild(this.moveHandle),this.editorContainer.appendChild(this.inputPane),this.editorContainer.appendChild(this.positionControls),function(){for(var t in this.controls={},this.controls.leftButton=document.createElement("DIV"),this.controls.leftButton.className="leftButton",this.controls.rightButton=document.createElement("DIV"),this.controls.rightButton.className="rightButton",this.controls.upButton=document.createElement("DIV"),this.controls.upButton.className="upButton",this.controls.downButton=document.createElement("DIV"),this.controls.downButton.className="downButton",this.controls)Object.prototype.hasOwnProperty.call(this.controls,t)&&this.positionControls.appendChild(this.controls[t])}.call(this),document.body.appendChild(this.editorContainer)},u.prototype.onBeforeKeyDown=function(t){var e=this.getActiveEditor();if(t.target===e.TEXTAREA&&!(0,r.isImmediatePropagationStopped)(t))switch(t.keyCode){case o.KEY_CODES.ENTER:e.close(),t.preventDefault();break;case o.KEY_CODES.BACKSPACE:(0,r.stopImmediatePropagation)(t)}},u.prototype.open=function(){this.instance.addHook("beforeKeyDown",this.onBeforeKeyDown),(0,i.addClass)(this.editorContainer,"active"),(0,i.removeClass)(this.cellPointer,"hidden"),this.updateEditorPosition()},u.prototype.focus=function(){this.TEXTAREA.focus(),(0,i.setCaretPosition)(this.TEXTAREA,this.TEXTAREA.value.length)},u.prototype.close=function(){this.TEXTAREA.blur(),this.instance.removeHook("beforeKeyDown",this.onBeforeKeyDown),(0,i.removeClass)(this.editorContainer,"active")},u.prototype.scrollToView=function(){var t=this.instance.getSelectedRange().highlight;this.instance.view.scrollViewport(t)},u.prototype.hideCellPointer=function(){(0,i.hasClass)(this.cellPointer,"hidden")||(0,i.addClass)(this.cellPointer,"hidden")},u.prototype.updateEditorPosition=function(t,e){if(t&&e)t=parseInt(t,10),e=parseInt(e,10),this.editorContainer.style.top=e+"px",this.editorContainer.style.left=t+"px";else{var n=this.instance.getSelected(),o=this.instance.getCell(n[0],n[1]);if(c.cellPointer||(c.cellPointer={height:(0,i.outerHeight)(this.cellPointer),width:(0,i.outerWidth)(this.cellPointer)}),c.editorContainer||(c.editorContainer={width:(0,i.outerWidth)(this.editorContainer)}),void 0!==o){var r=this.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer==window?0:(0,i.getScrollLeft)(this.instance.view.wt.wtOverlays.leftOverlay.holder),a=this.instance.view.wt.wtOverlays.topOverlay.trimmingContainer==window?0:(0,i.getScrollTop)(this.instance.view.wt.wtOverlays.topOverlay.holder),s=(0,i.offset)(o),l=(0,i.outerWidth)(o),u={x:r,y:a};this.editorContainer.style.top=parseInt(s.top+(0,i.outerHeight)(o)-u.y+c.cellPointer.height,10)+"px",this.editorContainer.style.left=parseInt(window.innerWidth/2-c.editorContainer.width/2,10)+"px",s.left+l/2>parseInt(this.editorContainer.style.left,10)+c.editorContainer.width?this.editorContainer.style.left=window.innerWidth-c.editorContainer.width+"px":s.left+l/2<parseInt(this.editorContainer.style.left,10)+20&&(this.editorContainer.style.left="0px"),this.cellPointer.style.left=parseInt(s.left-c.cellPointer.width/2-(0,i.offset)(this.editorContainer).left+l/2-u.x,10)+"px"}}},u.prototype.updateEditorData=function(){var t=this.instance.getSelected(),e=this.instance.getDataAtCell(t[0],t[1]);this.row=t[0],this.col=t[1],this.setValue(e),this.updateEditorPosition()},u.prototype.prepareAndSave=function(){var t;this.valueChanged()&&(t=this.instance.getSettings().trimWhitespace?[[String.prototype.trim.call(this.getValue())]]:[[this.getValue()]],this.saveValue(t))},u.prototype.bindEvents=function(){var t=this;this.eventManager.addEventListener(this.controls.leftButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(0,-1,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.rightButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(0,1,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.upButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(-1,0,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.downButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(1,0,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.moveHandle,"touchstart",function(e){if(1==e.touches.length){var n=e.touches[0],o={x:t.editorContainer.offsetLeft,y:t.editorContainer.offsetTop},r={x:n.pageX-o.x,y:n.pageY-o.y};t.eventManager.addEventListener(this,"touchmove",function(e){var n=e.touches[0];t.updateEditorPosition(n.pageX-r.x,n.pageY-r.y),t.hideCellPointer(),e.preventDefault()})}}),this.eventManager.addEventListener(document.body,"touchend",function(e){(0,i.isChildOf)(e.target,t.editorContainer)||(0,i.isChildOf)(e.target,t.instance.rootElement)||t.close()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.leftOverlay.holder,"scroll",function(e){t.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer!=window&&t.hideCellPointer()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.topOverlay.holder,"scroll",function(e){t.instance.view.wt.wtOverlays.topOverlay.trimmingContainer!=window&&t.hideCellPointer()})},u.prototype.destroy=function(){this.eventManager.clear(),this.editorContainer.parentNode.removeChild(this.editorContainer)},e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=a(n(86)),i=a(n(43));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),o(e,[{key:"beginEditing",value:function(t){if(void 0===t&&this.originalValue){void 0!==this.cellProperties.language&&r.default.culture(this.cellProperties.language);var n=r.default.cultureData().delimiters.decimal;t=(""+this.originalValue).replace(".",n)}(function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"beginEditing",this).call(this,t)}}]),e}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=n(0),a=(o=n(43))&&o.__esModule?o:{default:o},s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"createElements",value:function(){(function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"createElements",this).call(this),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,(0,i.empty)(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}}]),e}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(0),a=n(7),s=n(16),l=n(36),u=(o=l)&&o.__esModule?o:{default:o},c=u.default.prototype.extend();c.prototype.init=function(){this.select=document.createElement("SELECT"),(0,i.addClass)(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select),this.registerHooks()},c.prototype.registerHooks=function(){var t=this;this.instance.addHook("afterScrollHorizontally",function(){return t.refreshDimensions()}),this.instance.addHook("afterScrollVertically",function(){return t.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){return t.refreshDimensions()}),this.instance.addHook("afterRowResize",function(){return t.refreshDimensions()})},c.prototype.prepare=function(){u.default.prototype.prepare.apply(this,arguments);var t,e=this.cellProperties.selectOptions;for(var n in t="function"==typeof e?this.prepareOptions(e(this.row,this.col,this.prop)):this.prepareOptions(e),(0,i.empty)(this.select),t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=document.createElement("OPTION");o.value=n,(0,i.fastInnerHTML)(o,t[n]),this.select.appendChild(o)}},c.prototype.prepareOptions=function(t){var e={};if(Array.isArray(t))for(var n=0,o=t.length;n<o;n++)e[t[n]]=t[n];else"object"==(void 0===t?"undefined":r(t))&&(e=t);return e},c.prototype.getValue=function(){return this.select.value},c.prototype.setValue=function(t){this.select.value=t};var h=function(t){var e=this.getActiveEditor();switch(t.keyCode){case s.KEY_CODES.ARROW_UP:var n=e.select.selectedIndex-1;n>=0&&(e.select[n].selected=!0),(0,a.stopImmediatePropagation)(t),t.preventDefault();break;case s.KEY_CODES.ARROW_DOWN:var o=e.select.selectedIndex+1;o<=e.select.length-1&&(e.select[o].selected=!0),(0,a.stopImmediatePropagation)(t),t.preventDefault()}};c.prototype.open=function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.instance.addHook("beforeKeyDown",h)},c.prototype.close=function(){this._opened=!1,this.select.style.display="none",this.instance.removeHook("beforeKeyDown",h)},c.prototype.focus=function(){this.select.focus()},c.prototype.refreshValue=function(){var t=this.instance.getSourceDataAtCell(this.row,this.prop);this.originalValue=t,this.setValue(t),this.refreshDimensions()},c.prototype.refreshDimensions=function(){if(this.state===l.EditorState.EDITING)if(this.TD=this.getEditedCell(),this.TD){var t,e=(0,i.outerWidth)(this.TD)+1,n=(0,i.outerHeight)(this.TD)+1,o=(0,i.offset)(this.TD),r=(0,i.offset)(this.instance.rootElement),a=(0,i.getScrollableElement)(this.TD),s=o.top-r.top-1-(a.scrollTop||0),u=o.left-r.left-1-(a.scrollLeft||0),c=this.checkEditorSection(),h=this.instance.getSettings();switch(h.rowHeaders,h.colHeaders,c){case"top":t=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":t=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"top-left-corner":t=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom-left-corner":t=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.bottomLeftCornerOverlay.clone.wtTable.holder.parentNode);break;case"bottom":t=(0,i.getCssTransform)(this.instance.view.wt.wtOverlays.bottomOverlay.clone.wtTable.holder.parentNode)}0===this.instance.getSelected()[0]&&(s+=1),0===this.instance.getSelected()[1]&&(u+=1);var d=this.select.style;t&&-1!=t?d[t[0]]=t[1]:(0,i.resetCssTransform)(this.select);var f=(0,i.getComputedStyle)(this.TD);parseInt(f.borderTopWidth,10)>0&&(n-=1),parseInt(f.borderLeftWidth,10)>0&&(e-=1),d.height=n+"px",d.minWidth=e+"px",d.top=s+"px",d.left=u+"px",d.margin="0px"}else this.close()},c.prototype.getEditedCell=function(){var t;switch(this.checkEditorSection()){case"top":t=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=101;break;case"corner":t=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=103;break;case"left":t=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.select.style.zIndex=""}return-1!=t&&-2!=t?t:void 0},e.default=c},function(t,e,n){"use strict";n(96),n(113),n(122),n(123),n(107),n(121),n(104),n(105),n(106),n(95),n(118),n(116),n(114),n(119),n(120),n(115),n(117),n(108),n(109),n(110),n(112),n(111),n(93),n(94),n(89),n(92),n(91),n(90),n(68),n(98),n(99),n(101),n(100),n(97),n(103),n(102),n(124),n(127),n(125),n(126),n(129),n(128),n(131),n(130),n(179),n(180),n(181);var o=n(14),r=n(9),i=n(26),a=n(63),s=A(n(64)),l=A(n(177)),u=n(4),c=A(u),h=A(n(8)),d=A(n(67)),f=_(n(1)),p=_(n(25)),g=_(n(65)),v=_(n(88)),m=_(n(34)),y=_(n(35)),w=_(n(20)),b=_(n(6)),C=_(n(2)),k=_(n(66)),S=_(n(27)),x=_(n(16)),T=_(n(0)),O=_(n(7)),R=_(n(178)),E=n(5),M=A(n(87));function _(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function A(t){return t&&t.__esModule?t:{default:t}}function P(t,e){var n=new s.default(t,e||{});return n.init(),n}(0,l.default)(P),P.Core=s.default,P.DefaultSettings=M.default,P.EventManager=c.default,P._getListenersCounter=u.getListenersCounter,P.buildDate="2017-05-30T10:18:32.902Z",P.packageName="handsontable",P.version="0.32.0",P.hooks=h.default.getSingleton(),P.__GhostTable=d.default;var H=[f,p,g,v,m,y,w,b,C,k,S,x],L=[T,O];P.helper={},P.dom={},f.arrayEach(H,function(t){f.arrayEach(Object.getOwnPropertyNames(t),function(e){"_"!==e.charAt(0)&&(P.helper[e]=t[e])})}),f.arrayEach(L,function(t){f.arrayEach(Object.getOwnPropertyNames(t),function(e){"_"!==e.charAt(0)&&(P.dom[e]=t[e])})}),P.cellTypes={},f.arrayEach((0,a.getRegisteredCellTypeNames)(),function(t){P.cellTypes[t]=(0,a.getCellType)(t)}),P.cellTypes.registerCellType=a.registerCellType,P.cellTypes.getCellType=a.getCellType,P.editors={},f.arrayEach((0,o.getRegisteredEditorNames)(),function(t){P.editors[S.toUpperCaseFirst(t)+"Editor"]=(0,o.getEditor)(t)}),P.editors.registerEditor=o.registerEditor,P.editors.getEditor=o.getEditor,P.renderers={},f.arrayEach((0,r.getRegisteredRendererNames)(),function(t){var e=(0,r.getRenderer)(t);"base"===t&&(P.renderers.cellDecorator=e),P.renderers[S.toUpperCaseFirst(t)+"Renderer"]=e}),P.renderers.registerRenderer=r.registerRenderer,P.renderers.getRenderer=r.getRenderer,P.validators={},f.arrayEach((0,i.getRegisteredValidatorNames)(),function(t){P.validators[S.toUpperCaseFirst(t)+"Validator"]=(0,i.getValidator)(t)}),P.validators.registerValidator=i.registerValidator,P.validators.getValidator=i.getValidator,P.plugins={},f.arrayEach(Object.getOwnPropertyNames(R),function(t){var e=R[t];"Base"===t?P.plugins[t+"Plugin"]=e:P.plugins[t]=e}),P.plugins.registerPlugin=E.registerPlugin,t.exports=P},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(){var t={arrayMap:[],weakMap:new WeakMap};return{get:function(o){return e(o)?t.arrayMap[o]:n(o)?t.weakMap.get(o):void 0},set:function(o,r){if(e(o))t.arrayMap[o]=r;else{if(!n(o))throw new Error("Invalid key type");t.weakMap.set(o,r)}},delete:function(o){e(o)?delete t.arrayMap[o]:n(o)&&t.weakMap.delete(o)}};function e(t){return null!==t&&!function(t){return t!=t}(t)&&("string"==typeof t||"number"==typeof t)}function n(t){return null!==t&&("object"==(void 0===t?"undefined":o(t))||"function"==typeof t)}}},function(t,e,n){"use strict";e.__esModule=!0;var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),a=m(n(12)),s=n(1),l=n(34),u=n(0),c=m(n(67)),h=n(2),d=n(6),f=n(5),p=m(n(154)),g=n(27),v=n(11);function m(t){return t&&t.__esModule?t:{default:t}}var y=new WeakMap,w=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return y.set(n,{cachedColumnHeaders:[]}),n.widths=[],n.ghostTable=new c.default(n.hot),n.samplesGenerator=new p.default(function(t,e){return n.hot.getDataAtCell(t,e)}),n.firstCalculation=!0,n.inProgress=!1,n.addHook("beforeColumnResize",function(t,e,o){return n.onBeforeColumnResize(t,e,o)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),i(e,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 50}}]),i(e,[{key:"isEnabled",value:function(){return!1!==this.hot.getSettings().autoColumnSize&&!this.hot.getSettings().colWidths}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){var n=this.hot.getSettings().autoColumnSize;n&&null!=n.useHeaders&&this.ghostTable.setSetting("useHeaders",n.useHeaders),this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("beforeChange",function(e){return t.onBeforeChange(e)}),this.addHook("beforeRender",function(e){return t.onBeforeRender(e)}),this.addHook("modifyColWidth",function(e,n){return t.getColumnWidth(n,e)}),this.addHook("afterInit",function(){return t.onAfterInit()}),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var t=this.findColumnsWhereHeaderWasChanged();t.length&&this.clearCache(t),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"calculateColumnsWidth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"number"==typeof t&&(t={from:t,to:t}),"number"==typeof n&&(n={from:n,to:n}),(0,d.rangeEach)(t.from,t.to,function(t){(o||void 0===e.widths[t]&&!e.hot._getColWidthFromSettings(t))&&e.samplesGenerator.generateColumnSamples(t,n).forEach(function(t,n){return e.ghostTable.addColumn(n,t)})}),this.ghostTable.columns.length&&(this.ghostTable.getWidths(function(t,n){e.widths[t]=n}),this.ghostTable.clean())}},{key:"calculateAllColumnsWidth",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},o=0,r=this.hot.countCols()-1,i=null;this.inProgress=!0,this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateColumnsWidth({from:0,to:this.getSyncCalculationLimit()},n),this.firstCalculation=!1,o=this.getSyncCalculationLimit()+1),o<r?function a(){if(!t.hot)return(0,l.cancelAnimationFrame)(i),void(t.inProgress=!1);t.calculateColumnsWidth({from:o,to:Math.min(o+e.CALCULATION_STEP,r)},n),(o=o+e.CALCULATION_STEP+1)<r?i=(0,l.requestAnimationFrame)(a):((0,l.cancelAnimationFrame)(i),t.inProgress=!1,t.hot.view.wt.wtOverlays.adjustElementsSize(!0),t.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&t.hot.view.wt.wtOverlays.leftOverlay.clone.draw())}():this.inProgress=!1}},{key:"setSamplingOptions",value:function(){var t=this.hot.getSettings().autoColumnSize,e=t&&(0,h.hasOwnProperty)(t,"samplingRatio")?this.hot.getSettings().autoColumnSize.samplingRatio:void 0,n=t&&(0,h.hasOwnProperty)(t,"allowSampleDuplicates")?this.hot.getSettings().autoColumnSize.allowSampleDuplicates:void 0;e&&!isNaN(e)&&this.samplesGenerator.setSampleCount(parseInt(e,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}},{key:"recalculateAllColumnsWidth",value:function(){this.hot.view&&(0,u.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllColumnsWidth())}},{key:"getSyncCalculationLimit",value:function(){var t=e.SYNC_CALCULATION_LIMIT,n=this.hot.countCols()-1;return(0,h.isObject)(this.hot.getSettings().autoColumnSize)&&(t=this.hot.getSettings().autoColumnSize.syncLimit,(0,g.isPercentValue)(t)?t=(0,d.valueAccordingPercent)(n,t):t>>=0),Math.min(t,n)}},{key:"getColumnWidth",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=e;return void 0===o&&(o=this.widths[t],n&&"number"==typeof o&&(o=Math.max(o,v.ViewportColumnsCalculator.DEFAULT_WIDTH))),o}},{key:"getFirstVisibleColumn",value:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getFirstVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getFirstRenderedColumn():-1}},{key:"getLastVisibleColumn",value:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getLastVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getLastRenderedColumn():-1}},{key:"findColumnsWhereHeaderWasChanged",value:function(){var t=this.hot.getColHeader(),e=y.get(this).cachedColumnHeaders;return(0,s.arrayReduce)(t,function(t,n,o){var r=e.length;return(r-1<o||e[o]!==n)&&t.push(o),r-1<o?e.push(n):e[o]=n,t},[])}},{key:"clearCache",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length?(0,s.arrayEach)(e,function(e){t.widths[e]=void 0}):this.widths.length=0}},{key:"isNeedRecalculate",value:function(){return!!(0,s.arrayFilter)(this.widths,function(t){return void 0===t}).length}},{key:"onBeforeRender",value:function(){var t=this.hot.renderCall;this.hot.countRows()&&(this.calculateColumnsWidth({from:this.getFirstVisibleColumn(),to:this.getLastVisibleColumn()},void 0,t),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth())}},{key:"onAfterLoadData",value:function(){var t=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){t.hot&&t.recalculateAllColumnsWidth()},0)}},{key:"onBeforeChange",value:function(t){var e=this,n=(0,s.arrayMap)(t,function(t){var n=o(t,2),r=(n[0],n[1]);return e.hot.propToCol(r)});this.clearCache(n)}},{key:"onBeforeColumnResize",value:function(t,e,n){return n&&(this.calculateColumnsWidth(t,void 0,!0),e=this.getColumnWidth(t,void 0,!1)),e}},{key:"onAfterInit",value:function(){y.get(this).cachedColumnHeaders=this.hot.getColHeader()}},{key:"destroy",value:function(){this.ghostTable.clean(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}();(0,f.registerPlugin)("autoColumnSize",w),e.default=w},function(t,e,n){"use strict";e.__esModule=!0;var o=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=g(n(12)),a=n(1),s=n(34),l=n(0),u=g(n(67)),c=n(2),h=n(6),d=n(5),f=g(n(154)),p=n(27);function g(t){return t&&t.__esModule?t:{default:t}}var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.heights=[],n.ghostTable=new u.default(n.hot),n.samplesGenerator=new f.default(function(t,e){return t>=0?n.hot.getDataAtCell(t,e):-1===t?n.hot.getColHeader(e):null}),n.firstCalculation=!0,n.inProgress=!1,n.addHook("beforeRowResize",function(t,e,o){return n.onBeforeRowResize(t,e,o)}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,null,[{key:"CALCULATION_STEP",get:function(){return 50}},{key:"SYNC_CALCULATION_LIMIT",get:function(){return 500}}]),r(e,[{key:"isEnabled",value:function(){return!0===this.hot.getSettings().autoRowSize||(0,c.isObject)(this.hot.getSettings().autoRowSize)}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.setSamplingOptions(),this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("beforeChange",function(e){return t.onBeforeChange(e)}),this.addHook("beforeColumnMove",function(){return t.recalculateAllRowsHeight()}),this.addHook("beforeColumnResize",function(){return t.recalculateAllRowsHeight()}),this.addHook("beforeColumnSort",function(){return t.clearCache()}),this.addHook("beforeRender",function(e){return t.onBeforeRender(e)}),this.addHook("beforeRowMove",function(e,n){return t.onBeforeRowMove(e,n)}),this.addHook("modifyRowHeight",function(e,n){return t.getRowHeight(n,e)}),this.addHook("modifyColumnHeaderHeight",function(){return t.getColumnHeaderHeight()}),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"calculateRowsHeight",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"==typeof t&&(t={from:t,to:t}),"number"==typeof n&&(n={from:n,to:n}),null!==this.hot.getColHeader(0)){var r=this.samplesGenerator.generateRowSamples(-1,n);this.ghostTable.addColumnHeadersRow(r.get(-1))}(0,h.rangeEach)(t.from,t.to,function(t){(o||void 0===e.heights[t])&&e.samplesGenerator.generateRowSamples(t,n).forEach(function(t,n){e.ghostTable.addRow(n,t)})}),this.ghostTable.rows.length&&(this.ghostTable.getHeights(function(t,n){e.heights[t]=n}),this.ghostTable.clean())}},{key:"calculateAllRowsHeight",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},o=0,r=this.hot.countRows()-1,i=null;this.inProgress=!0,this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateRowsHeight({from:0,to:this.getSyncCalculationLimit()},n),this.firstCalculation=!1,o=this.getSyncCalculationLimit()+1),o<r?function a(){if(!t.hot)return(0,s.cancelAnimationFrame)(i),void(t.inProgress=!1);t.calculateRowsHeight({from:o,to:Math.min(o+e.CALCULATION_STEP,r)},n),(o=o+e.CALCULATION_STEP+1)<r?i=(0,s.requestAnimationFrame)(a):((0,s.cancelAnimationFrame)(i),t.inProgress=!1,t.hot.view.wt.wtOverlays.adjustElementsSize(!0),t.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&t.hot.view.wt.wtOverlays.leftOverlay.clone.draw())}():(this.inProgress=!1,this.hot.view.wt.wtOverlays.adjustElementsSize(!1))}},{key:"setSamplingOptions",value:function(){var t=this.hot.getSettings().autoRowSize,e=t&&(0,c.hasOwnProperty)(t,"samplingRatio")?this.hot.getSettings().autoRowSize.samplingRatio:void 0,n=t&&(0,c.hasOwnProperty)(t,"allowSampleDuplicates")?this.hot.getSettings().autoRowSize.allowSampleDuplicates:void 0;e&&!isNaN(e)&&this.samplesGenerator.setSampleCount(parseInt(e,10)),n&&this.samplesGenerator.setAllowDuplicates(n)}},{key:"recalculateAllRowsHeight",value:function(){(0,l.isVisible)(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())}},{key:"getSyncCalculationLimit",value:function(){var t=e.SYNC_CALCULATION_LIMIT,n=this.hot.countRows()-1;return(0,c.isObject)(this.hot.getSettings().autoRowSize)&&(t=this.hot.getSettings().autoRowSize.syncLimit,(0,p.isPercentValue)(t)?t=(0,h.valueAccordingPercent)(n,t):t>>=0),Math.min(t,n)}},{key:"getRowHeight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=e;return void 0!==this.heights[t]&&this.heights[t]>(e||0)&&(n=this.heights[t]),n}},{key:"getColumnHeaderHeight",value:function(){return this.heights[-1]}},{key:"getFirstVisibleRow",value:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getFirstVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getFirstRenderedRow():-1}},{key:"getLastVisibleRow",value:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getLastVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getLastRenderedRow():-1}},{key:"clearCache",value:function(){this.heights.length=0,this.heights[-1]=void 0}},{key:"clearCacheByRange",value:function(t){var e=this;"number"==typeof t&&(t={from:t,to:t}),(0,h.rangeEach)(Math.min(t.from,t.to),Math.max(t.from,t.to),function(t){e.heights[t]=void 0})}},{key:"isNeedRecalculate",value:function(){return!!(0,a.arrayFilter)(this.heights,function(t){return void 0===t}).length}},{key:"onBeforeRender",value:function(){var t=this.hot.renderCall;this.calculateRowsHeight({from:this.getFirstVisibleRow(),to:this.getLastVisibleRow()},void 0,t);var e=this.hot.getSettings().fixedRowsBottom;if(e){var n=this.hot.countRows()-1;this.calculateRowsHeight({from:n-e,to:n})}this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()}},{key:"onBeforeRowMove",value:function(t,e){this.clearCacheByRange({from:t,to:e}),this.calculateAllRowsHeight()}},{key:"onBeforeRowResize",value:function(t,e,n){return n&&(this.calculateRowsHeight(t,void 0,!0),e=this.getRowHeight(t)),e}},{key:"onAfterLoadData",value:function(){var t=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){t.hot&&t.recalculateAllRowsHeight()},0)}},{key:"onBeforeChange",value:function(t){var e=null;1===t.length?e=t[0][0]:t.length>1&&(e={from:t[0][0],to:t[t.length-1][0]}),null!==e&&this.clearCacheByRange(e)}},{key:"destroy",value:function(){this.ghostTable.clean(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}();(0,d.registerPlugin)("autoRowSize",v),e.default=v},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=d(n(12)),a=d(n(8)),s=n(0),l=d(n(4)),u=n(5),c=n(11),h=n(214);function d(t){return t&&t.__esModule?t:{default:t}}a.default.getSingleton().register("modifyAutofillRange"),a.default.getSingleton().register("beforeAutofill");var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.eventManager=new l.default(n),n.addingStarted=!1,n.mouseDownOnCellCorner=!1,n.mouseDragOutside=!1,n.handleDraggedCells=0,n.directions=[],n.autoInsertRow=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),o(e,[{key:"isEnabled",value:function(){return this.hot.getSettings().fillHandle}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.mapSettings(),this.registerEvents(),this.addHook("afterOnCellCornerMouseDown",function(e){return t.onAfterCellCornerMouseDown(e)}),this.addHook("afterOnCellCornerDblClick",function(e){return t.onCellCornerDblClick(e)}),this.addHook("beforeOnCellMouseOver",function(e,n,o){return t.onBeforeCellMouseOver(n)}),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.clearMappedSettings(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"getSelectionData",value:function(){var t={from:this.hot.getSelectedRange().from,to:this.hot.getSelectedRange().to};return this.hot.getData(t.from.row,t.from.col,t.to.row,t.to.col)}},{key:"fillIn",value:function(){if(this.hot.view.wt.selections.fill.isEmpty())return!1;var t=this.hot.view.wt.selections.fill.getCorners();this.resetSelectionOfDraggedArea();var e=this.getCornersOfSelectedCells(),n=(0,h.getDragDirectionAndRange)(e,t),o=n.directionOfDrag,r=n.startOfDragCoords,i=n.endOfDragCoords;if(this.hot.runHooks("modifyAutofillRange",e,t),r&&r.row>-1&&r.col>-1){var a=this.getSelectionData(),s=(0,h.getDeltas)(r,i,a,o);this.hot.runHooks("beforeAutofill",r,i,a),this.hot.populateFromArray(r.row,r.col,a,i.row,i.col,this.pluginName+".fill",null,o,s),this.setSelection(t)}else this.hot.selection.refreshBorders();return!0}},{key:"reduceSelectionAreaIfNeeded",value:function(t){return t.row<0&&(t.row=0),t.col<0&&(t.col=0),t}},{key:"getCoordsOfDragAndDropBorders",value:function(t){var e=this.hot.getSelectedRange().getTopLeftCorner(),n=this.hot.getSelectedRange().getBottomRightCorner(),o=void 0;if(this.directions.includes(h.DIRECTIONS.vertical)&&(n.row<t.row||e.row>t.row))o=new c.CellCoords(t.row,n.col);else{if(!this.directions.includes(h.DIRECTIONS.horizontal))return;o=new c.CellCoords(n.row,t.col)}return this.reduceSelectionAreaIfNeeded(o)}},{key:"showBorder",value:function(t){var e=this.getCoordsOfDragAndDropBorders(t);e&&this.redrawBorders(e)}},{key:"addRow",value:function(){var t=this;this.hot._registerTimeout(setTimeout(function(){t.hot.alter("insert_row",void 0,1,t.pluginName+".fill"),t.addingStarted=!1},200))}},{key:"addNewRowIfNeeded",value:function(){if(this.hot.view.wt.selections.fill.cellRange&&!1===this.addingStarted&&this.autoInsertRow){var t=this.hot.getSelected(),e=this.hot.view.wt.selections.fill.getCorners(),n=this.hot.countRows();t[2]<n-1&&e[2]===n-1&&(this.addingStarted=!0,this.addRow())}}},{key:"getCornersOfSelectedCells",value:function(){return this.hot.selection.isMultiple()?this.hot.view.wt.selections.area.getCorners():this.hot.view.wt.selections.current.getCorners()}},{key:"getIndexOfLastAdjacentFilledInRow",value:function(t){for(var e=this.hot.getData(),n=this.hot.countRows(),o=void 0,r=t[2]+1;r<n;r++){for(var i=t[1];i<=t[3];i++)if(e[r][i])return-1;var a=e[r][t[1]-1],s=e[r][t[3]+1];(a||s)&&(o=r)}return o}},{key:"addSelectionFromStartAreaToSpecificRowIndex",value:function(t,e){this.hot.view.wt.selections.fill.clear(),this.hot.view.wt.selections.fill.add(new c.CellCoords(t[0],t[1])),this.hot.view.wt.selections.fill.add(new c.CellCoords(e,t[3]))}},{key:"setSelection",value:function(t){this.hot.selection.setRangeStart(new c.CellCoords(t[0],t[1])),this.hot.selection.setRangeEnd(new c.CellCoords(t[2],t[3]))}},{key:"selectAdjacent",value:function(){var t=this.getCornersOfSelectedCells(),e=this.getIndexOfLastAdjacentFilledInRow(t);return-1!==e&&(this.addSelectionFromStartAreaToSpecificRowIndex(t,e),!0)}},{key:"resetSelectionOfDraggedArea",value:function(){this.handleDraggedCells=0,this.hot.view.wt.selections.fill.clear()}},{key:"redrawBorders",value:function(t){this.hot.view.wt.selections.fill.clear(),this.hot.view.wt.selections.fill.add(this.hot.getSelectedRange().from),this.hot.view.wt.selections.fill.add(this.hot.getSelectedRange().to),this.hot.view.wt.selections.fill.add(t),this.hot.view.render()}},{key:"getIfMouseWasDraggedOutside",value:function(t){var e=(0,s.offset)(this.hot.table).top-(window.pageYOffset||document.documentElement.scrollTop)+(0,s.outerHeight)(this.hot.table),n=(0,s.offset)(this.hot.table).left-(window.pageXOffset||document.documentElement.scrollLeft)+(0,s.outerWidth)(this.hot.table);return t.clientY>e&&t.clientX<=n}},{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return t.onMouseUp()}),this.eventManager.addEventListener(document.documentElement,"mousemove",function(e){return t.onMouseMove(e)})}},{key:"onCellCornerDblClick",value:function(){this.selectAdjacent()&&this.fillIn()}},{key:"onAfterCellCornerMouseDown",value:function(){this.handleDraggedCells=1,this.mouseDownOnCellCorner=!0}},{key:"onBeforeCellMouseOver",value:function(t){this.mouseDownOnCellCorner&&!this.hot.view.isMouseDown()&&this.handleDraggedCells&&(this.handleDraggedCells++,this.showBorder(t),this.addNewRowIfNeeded())}},{key:"onMouseUp",value:function(){this.handleDraggedCells&&(this.handleDraggedCells>1&&this.fillIn(),this.handleDraggedCells=0,this.mouseDownOnCellCorner=!1)}},{key:"onMouseMove",value:function(t){var e=this.getIfMouseWasDraggedOutside(t);!1===this.addingStarted&&this.handleDraggedCells>0&&e?(this.mouseDragOutside=!0,this.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&this.autoInsertRow&&this.addRow()}},{key:"clearMappedSettings",value:function(){this.directions.length=0,this.autoInsertRow=!1}},{key:"mapSettings",value:function(){var t=(0,h.getMappedFillHandleSetting)(this.hot.getSettings().fillHandle);this.directions=t.directions,this.autoInsertRow=t.autoInsertRow}},{key:"destroy",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}();(0,u.registerPlugin)("autofill",f),e.default=f},function(t,e,n){"use strict";e.__esModule=!0,e.DIRECTIONS=void 0,e.getDeltas=function(t,e,n,o){var r=n.length,i=n?n[0].length:0,a=[],s=e.row-t.row,l=e.col-t.col;if(-1!==["down","up"].indexOf(o)){for(var u=[],c=0;c<=l;c++){var h=parseInt(n[0][c],10),d=parseInt(n[r-1][c],10),f=("down"===o?d-h:h-d)/(r-1)||0;u.push(f)}a.push(u)}if(-1!==["right","left"].indexOf(o))for(var p=0;p<=s;p++){var g=parseInt(n[p][0],10),v=parseInt(n[p][i-1],10),m=("right"===o?v-g:g-v)/(i-1)||0;a.push([m])}return a},e.getDragDirectionAndRange=function(t,e){var n=void 0,o=void 0,r=void 0;return e[0]===t[0]&&e[1]<t[1]?(r="left",n=new i.CellCoords(e[0],e[1]),o=new i.CellCoords(e[2],t[1]-1)):e[0]===t[0]&&e[3]>t[3]?(r="right",n=new i.CellCoords(e[0],t[3]+1),o=new i.CellCoords(e[2],e[3])):e[0]<t[0]&&e[1]===t[1]?(r="up",n=new i.CellCoords(e[0],e[1]),o=new i.CellCoords(t[0]-1,e[3])):e[2]>t[2]&&e[1]===t[1]&&(r="down",n=new i.CellCoords(t[2]+1,e[1]),o=new i.CellCoords(e[2],e[3])),{directionOfDrag:r,startOfDragCoords:n,endOfDragCoords:o}},e.getMappedFillHandleSetting=function(t){var e={};return!0===t?(e.directions=Object.keys(a),e.autoInsertRow=!0):(0,o.isObject)(t)?((0,r.isDefined)(t.autoInsertRow)?t.direction===a.horizontal?e.autoInsertRow=!1:e.autoInsertRow=t.autoInsertRow:e.autoInsertRow=!1,(0,r.isDefined)(t.direction)?e.directions=[t.direction]:e.directions=Object.keys(a)):"string"==typeof t?(e.directions=[t],e.autoInsertRow=!0):(e.directions=[],e.autoInsertRow=!1),e};var o=n(2),r=n(20),i=n(11),a=e.DIRECTIONS={horizontal:"horizontal",vertical:"vertical"}},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=g(n(62)),s=n(0),l=n(1),u=n(20),c=n(2),h=g(n(12)),d=n(5),f=g(n(270)),p=g(n(8));function g(t){return t&&t.__esModule?t:{default:t}}p.default.getSingleton().register("beforeColumnSort"),p.default.getSingleton().register("afterColumnSort");var v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.sortIndicators=[],n.lastSortedColumn=null,n.sortEmptyCells=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,h.default),r(e,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().columnSorting}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){this.setPluginOptions();var n=this;this.hot.sortIndex=[],this.hot.sort=function(){var t=Array.prototype.slice.call(arguments);return n.sortByColumn.apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(t))},void 0===this.hot.getSettings().observeChanges&&this.enableObserveChangesPlugin(),this.addHook("afterTrimRow",function(e){return t.sort()}),this.addHook("afterUntrimRow",function(e){return t.sort()}),this.addHook("modifyRow",function(e){return t.translateRow(e)}),this.addHook("unmodifyRow",function(e){return t.untranslateRow(e)}),this.addHook("afterUpdateSettings",function(){return t.onAfterUpdateSettings()}),this.addHook("afterGetColHeader",function(e,n){return t.getColHeader(e,n)}),this.addHook("afterOnCellMouseDown",function(e,n){return t.onAfterOnCellMouseDown(e,n)}),this.addHook("afterCreateRow",function(){n.afterCreateRow.apply(n,arguments)}),this.addHook("afterRemoveRow",function(){n.afterRemoveRow.apply(n,arguments)}),this.addHook("afterInit",function(){return t.sortBySettings()}),this.addHook("afterLoadData",function(){t.hot.sortIndex=[],t.hot.view&&t.sortBySettings()}),this.hot.view&&this.sortBySettings(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){this.hot.sort=void 0,i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"onAfterUpdateSettings",value:function(){this.sortBySettings()}},{key:"sortBySettings",value:function(){var t=this.hot.getSettings().columnSorting,e=this.loadSortingState(),n=void 0,o=void 0;void 0===e?(n=t.column,o=t.sortOrder):(n=e.sortColumn,o=e.sortOrder),"number"==typeof n&&(this.lastSortedColumn=n,this.sortByColumn(n,o))}},{key:"setSortingColumn",value:function(t,e){if(void 0===t)return this.hot.sortColumn=void 0,void(this.hot.sortOrder=void 0);this.hot.sortColumn===t&&void 0===e?!1===this.hot.sortOrder?this.hot.sortOrder=void 0:this.hot.sortOrder=!this.hot.sortOrder:this.hot.sortOrder=void 0===e||e,this.hot.sortColumn=t}},{key:"sortByColumn",value:function(t,e){this.setSortingColumn(t,e),void 0!==this.hot.sortColumn&&(!1!==this.hot.runHooks("beforeColumnSort",this.hot.sortColumn,this.hot.sortOrder)&&this.sort(),this.updateOrderClass(),this.updateSortIndicator(),this.hot.runHooks("afterColumnSort",this.hot.sortColumn,this.hot.sortOrder),this.hot.render(),this.saveSortingState())}},{key:"saveSortingState",value:function(){var t={};void 0!==this.hot.sortColumn&&(t.sortColumn=this.hot.sortColumn),void 0!==this.hot.sortOrder&&(t.sortOrder=this.hot.sortOrder),((0,c.hasOwnProperty)(t,"sortColumn")||(0,c.hasOwnProperty)(t,"sortOrder"))&&this.hot.runHooks("persistentStateSave","columnSorting",t)}},{key:"loadSortingState",value:function(){var t={};return this.hot.runHooks("persistentStateLoad","columnSorting",t),t.value}},{key:"updateOrderClass",value:function(){var t=void 0;!0===this.hot.sortOrder?t="ascending":!1===this.hot.sortOrder&&(t="descending"),this.sortOrderClass=t}},{key:"enableObserveChangesPlugin",value:function(){var t=this;this.hot._registerTimeout(setTimeout(function(){t.hot.updateSettings({observeChanges:!0})},0))}},{key:"defaultSort",value:function(t,e){return function(n,o){return"string"==typeof n[1]&&(n[1]=n[1].toLowerCase()),"string"==typeof o[1]&&(o[1]=o[1].toLowerCase()),n[1]===o[1]?0:(0,u.isEmpty)(n[1])?(0,u.isEmpty)(o[1])?0:e.columnSorting.sortEmptyCells&&t?-1:1:(0,u.isEmpty)(o[1])?(0,u.isEmpty)(n[1])?0:e.columnSorting.sortEmptyCells&&t?1:-1:isNaN(n[1])&&!isNaN(o[1])?t?1:-1:!isNaN(n[1])&&isNaN(o[1])?t?-1:1:(isNaN(n[1])||isNaN(o[1])||(n[1]=parseFloat(n[1]),o[1]=parseFloat(o[1])),n[1]<o[1]?t?-1:1:n[1]>o[1]?t?1:-1:0)}}},{key:"dateSort",value:function(t,e){return function(n,o){if(n[1]===o[1])return 0;if((0,u.isEmpty)(n[1]))return(0,u.isEmpty)(o[1])?0:e.columnSorting.sortEmptyCells&&t?-1:1;if((0,u.isEmpty)(o[1]))return(0,u.isEmpty)(n[1])?0:e.columnSorting.sortEmptyCells&&t?1:-1;var r=(0,a.default)(n[1],e.dateFormat),i=(0,a.default)(o[1],e.dateFormat);return r.isValid()?i.isValid()?i.isAfter(r)?t?-1:1:i.isBefore(r)?t?1:-1:0:-1:1}}},{key:"numericSort",value:function(t,e){return function(n,o){var r=parseFloat(n[1]),i=parseFloat(o[1]);if(r===i||isNaN(r)&&isNaN(i))return 0;if(e.columnSorting.sortEmptyCells){if((0,u.isEmpty)(n[1]))return t?-1:1;if((0,u.isEmpty)(o[1]))return t?1:-1}return isNaN(r)?1:isNaN(i)?-1:r<i?t?-1:1:r>i?t?1:-1:0}}},{key:"sort",value:function(){if(void 0!==this.hot.sortOrder){var t=this.hot.getCellMeta(0,this.hot.sortColumn),e=this.hot.countEmptyRows(),n=void 0;this.hot.sortingEnabled=!1,this.hot.sortIndex.length=0,void 0===t.columnSorting.sortEmptyCells&&(t.columnSorting={sortEmptyCells:this.sortEmptyCells});for(var o=0,r=this.hot.getSettings().maxRows===Number.POSITIVE_INFINITY?this.hot.countRows()-this.hot.getSettings().minSpareRows:this.hot.countRows()-e;o<r;o++)this.hot.sortIndex.push([o,this.hot.getDataAtCell(o,this.hot.sortColumn)]);if(t.sortFunction)n=t.sortFunction;else switch(t.type){case"date":n=this.dateSort;break;case"numeric":n=this.numericSort;break;default:n=this.defaultSort}(0,f.default)(this.hot.sortIndex,n(this.hot.sortOrder,t));for(var i=this.hot.sortIndex.length;i<this.hot.countRows();i++)this.hot.sortIndex.push([i,this.hot.getDataAtCell(i,this.hot.sortColumn)]);this.hot.sortingEnabled=!0}else this.hot.sortIndex.length=0}},{key:"updateSortIndicator",value:function(){if(void 0!==this.hot.sortOrder){var t=this.hot.getCellMeta(0,this.hot.sortColumn);this.sortIndicators[this.hot.sortColumn]=t.sortIndicator}}},{key:"translateRow",value:function(t){return this.hot.sortingEnabled&&void 0!==this.hot.sortOrder&&this.hot.sortIndex&&this.hot.sortIndex.length&&this.hot.sortIndex[t]?this.hot.sortIndex[t][0]:t}},{key:"untranslateRow",value:function(t){if(this.hot.sortingEnabled&&this.hot.sortIndex&&this.hot.sortIndex.length)for(var e=0;e<this.hot.sortIndex.length;e++)if(this.hot.sortIndex[e][0]==t)return e}},{key:"getColHeader",value:function(t,e){if(t<0||!e.parentNode)return!1;var n=e.querySelector(".colHeader"),o=(e.getAttribute("colspan"),e.parentNode.parentNode.childNodes),r=Array.prototype.indexOf.call(o,e.parentNode);r-=o.length,n&&(this.hot.getSettings().columnSorting&&t>=0&&-1===r&&(0,s.addClass)(n,"columnSorting"),(0,s.removeClass)(n,"descending"),(0,s.removeClass)(n,"ascending"),this.sortIndicators[t]&&t===this.hot.sortColumn&&("ascending"===this.sortOrderClass?(0,s.addClass)(n,"ascending"):"descending"===this.sortOrderClass&&(0,s.addClass)(n,"descending")))}},{key:"isSorted",value:function(){return void 0!==this.hot.sortColumn}},{key:"afterCreateRow",value:function(t,e){if(this.isSorted()){for(var n=0;n<this.hot.sortIndex.length;n++)this.hot.sortIndex[n][0]>=t&&(this.hot.sortIndex[n][0]+=e);for(var o=0;o<e;o++)this.hot.sortIndex.splice(t+o,0,[t+o,this.hot.getSourceData()[t+o][this.hot.sortColumn+this.hot.colOffset()]]);this.saveSortingState()}}},{key:"afterRemoveRow",value:function(t,e){if(this.isSorted()){var n=this.hot.sortIndex.splice(t,e);n=(0,l.arrayMap)(n,function(t){return t[0]}),this.hot.sortIndex=(0,l.arrayMap)(this.hot.sortIndex,function(t,e){var o=function(t){return(0,l.arrayReduce)(n,function(e,n){return t>n&&e++,e},0)}(t[0]);return o&&(t[0]-=o),t}),this.saveSortingState()}}},{key:"setPluginOptions",value:function(){var t=this.hot.getSettings().columnSorting;"object"===(void 0===t?"undefined":o(t))?this.sortEmptyCells=t.sortEmptyCells||!1:this.sortEmptyCells=!1}},{key:"onAfterOnCellMouseDown",value:function(t,e){e.row>-1||(0,s.hasClass)(t.realTarget,"columnSorting")&&(e.col!==this.lastSortedColumn&&(this.hot.sortOrder=!0),this.lastSortedColumn=e.col,this.sortByColumn(e.col))}}]),e}();(0,d.registerPlugin)("columnSorting",v),e.default=v},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.hidden=!0,this.hide()}return o(t,null,[{key:"CLASS_EDITOR_CONTAINER",get:function(){return"htCommentsContainer"}},{key:"CLASS_EDITOR",get:function(){return"htComments"}},{key:"CLASS_INPUT",get:function(){return"htCommentTextArea"}},{key:"CLASS_CELL",get:function(){return"htCommentCell"}}]),o(t,[{key:"setPosition",value:function(t,e){this.editorStyle.left=t+"px",this.editorStyle.top=e+"px"}},{key:"setSize",value:function(t,e){if(t&&e){var n=this.getInputElement();n.style.width=t+"px",n.style.height=e+"px"}}},{key:"resetSize",value:function(){var t=this.getInputElement();t.style.width="",t.style.height=""}},{key:"setReadOnlyState",value:function(t){this.getInputElement().readOnly=t}},{key:"show",value:function(){this.editorStyle.display="block",this.hidden=!1}},{key:"hide",value:function(){this.editorStyle.display="none",this.hidden=!0}},{key:"isVisible",value:function(){return"block"===this.editorStyle.display}},{key:"setValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t=t||"",this.getInputElement().value=t}},{key:"getValue",value:function(){return this.getInputElement().value}},{key:"isFocused",value:function(){return document.activeElement===this.getInputElement()}},{key:"focus",value:function(){this.getInputElement().focus()}},{key:"createEditor",value:function(){var e,n=document.querySelector("."+t.CLASS_EDITOR_CONTAINER),o=void 0;return n||(n=document.createElement("div"),(0,r.addClass)(n,t.CLASS_EDITOR_CONTAINER),document.body.appendChild(n)),o=document.createElement("div"),(0,r.addClass)(o,t.CLASS_EDITOR),e=document.createElement("textarea"),(0,r.addClass)(e,t.CLASS_INPUT),o.appendChild(e),n.appendChild(o),o}},{key:"getInputElement",value:function(){return this.editor.querySelector("."+t.CLASS_INPUT)}},{key:"destroy",value:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}}]),t}();e.default=i},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=n(0),a=n(2),s=n(35),l=p(n(4)),u=n(11),c=n(5),h=p(n(12)),d=p(n(216)),f=n(17);function p(t){return t&&t.__esModule?t:{default:t}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(294);var v=new WeakMap,m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.editor=null,n.eventManager=null,n.range={},n.mouseDown=!1,n.contextMenuEvent=!1,n.timer=null,n.displayDelay=250,v.set(n,{tempEditorDimensions:{},cellBelowCursor:null}),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,h.default),o(e,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().comments}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.editor||(this.editor=new d.default),this.eventManager||(this.eventManager=new l.default(this)),this.addHook("afterContextMenuDefaultOptions",function(e){return t.addToContextMenu(e)}),this.addHook("afterRenderer",function(e,n,o,r,i,a){return t.onAfterRenderer(e,a)}),this.addHook("afterScrollHorizontally",function(){return t.hide()}),this.addHook("afterScrollVertically",function(){return t.hide()}),this.addHook("afterBeginEditing",function(e){return t.onAfterBeginEditing(e)}),this.registerListeners(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"registerListeners",value:function(){var t=this;this.eventManager.addEventListener(document,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(document,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(document,"mouseup",function(e){return t.onMouseUp(e)}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(e){return t.onEditorBlur(e)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mousedown",function(e){return t.onEditorMouseDown(e)}),this.eventManager.addEventListener(this.editor.getInputElement(),"mouseup",function(e){return t.onEditorMouseUp(e)})}},{key:"setRange",value:function(t){this.range=t}},{key:"clearRange",value:function(){this.range={}}},{key:"targetIsCellWithComment",value:function(t){var e=(0,i.closest)(t.target,"TD","TBODY");return!!(e&&(0,i.hasClass)(e,"htCommentCell")&&(0,i.closest)(e,[this.hot.rootElement]))}},{key:"targetIsCommentTextArea",value:function(t){return this.editor.getInputElement()===t.target}},{key:"setComment",value:function(t){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var e=this.editor.getValue(),n="";null!=t?n=t:null!=e&&(n=e);var o=this.range.from.row,r=this.range.from.col;this.updateCommentMeta(o,r,g({},"value",n)),this.hot.render()}},{key:"setCommentAtCell",value:function(t,e,n){this.setRange({from:new u.CellCoords(t,e)}),this.setComment(n)}},{key:"removeComment",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.setCellMeta(this.range.from.row,this.range.from.col,"comment",void 0),t&&this.hot.render(),this.hide()}},{key:"removeCommentAtCell",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.setRange({from:new u.CellCoords(t,e)}),this.removeComment(n)}},{key:"getComment",value:function(){var t=this.range.from.row,e=this.range.from.col;return this.getCommentMeta(t,e,"value")}},{key:"getCommentAtCell",value:function(t,e){return this.getCommentMeta(t,e,"value")}},{key:"show",value:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditor(!0),this.editor.setValue(t.comment?t.comment.value:""),this.editor.hidden&&this.editor.show(),!0}},{key:"showAtCell",value:function(t,e){return this.setRange({from:new u.CellCoords(t,e)}),this.show()}},{key:"hide",value:function(){this.editor.hidden||this.editor.hide()}},{key:"refreshEditor",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.range.from&&this.editor.isVisible()){var t=(0,i.getScrollableElement)(this.hot.view.wt.wtTable.TABLE),e=this.hot.view.wt.wtTable.getCell(this.range.from),n=this.range.from.row,o=this.range.from.col,r=(0,i.offset)(e),a=this.hot.view.wt.wtTable.getStretchedColumnWidth(o),s=r.top<0?0:r.top,l=r.left;this.hot.view.wt.wtViewport.hasVerticalScroll()&&t!==window&&(s-=this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition()),this.hot.view.wt.wtViewport.hasHorizontalScroll()&&t!==window&&(l-=this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition());var u=l+a,c=s,h=this.getCommentMeta(n,o,"style"),d=this.getCommentMeta(n,o,"readOnly");h?this.editor.setSize(h.width,h.height):this.editor.resetSize(),this.editor.setReadOnlyState(d),this.editor.setPosition(u,c)}}},{key:"checkSelectionCommentsConsistency",value:function(){var t=this.hot.getSelectedRange();if(!t)return!1;var e=!1,n=t.from;return this.getCommentMeta(n.row,n.col,"value")&&(e=!0),e}},{key:"updateCommentMeta",value:function(t,e,n){var o=this.hot.getCellMeta(t,e).comment,r=void 0;o?(r=(0,a.deepClone)(o),(0,a.deepExtend)(r,n)):r=n,this.hot.setCellMeta(t,e,"comment",r)}},{key:"getCommentMeta",value:function(t,e,n){var o=this.hot.getCellMeta(t,e);if(o.comment)return o.comment[n]}},{key:"onMouseDown",value:function(t){if(this.mouseDown=!0,this.hot.view&&this.hot.view.wt){if(!this.contextMenuEvent&&!this.targetIsCommentTextArea(t)){var e=(0,i.closest)(t.target,"TD","TBODY"),n=null;e&&(n=this.hot.view.wt.wtTable.getCoords(e)),(!e||this.range.from&&n&&(this.range.from.row!==n.row||this.range.from.col!==n.col))&&this.hide()}this.contextMenuEvent=!1}}},{key:"onMouseOver",value:function(t){var e=this;if(!this.mouseDown&&!this.editor.isFocused()){var n=v.get(this);n.cellBelowCursor=document.elementFromPoint(t.clientX,t.clientY),(0,s.debounce)(function(){if(!(0,i.hasClass)(t.target,"wtBorder")&&n.cellBelowCursor===t.target&&e.editor)if(e.targetIsCellWithComment(t)){var o=e.hot.view.wt.wtTable.getCoords(t.target),r={from:new u.CellCoords(o.row,o.col)};e.setRange(r),e.show()}else!(0,i.isChildOf)(t.target,document)||e.targetIsCommentTextArea(t)||e.editor.isFocused()||e.hide()},this.displayDelay)()}}},{key:"onMouseUp",value:function(t){this.mouseDown=!1}},{key:"onAfterRenderer",value:function(t,e){e.comment&&e.comment.value&&(0,i.addClass)(t,e.commentedCellClassName)}},{key:"onEditorBlur",value:function(t){this.setComment()}},{key:"onEditorMouseDown",value:function(t){v.get(this).tempEditorDimensions={width:(0,i.outerWidth)(t.target),height:(0,i.outerHeight)(t.target)}}},{key:"onEditorMouseUp",value:function(t){var e=v.get(this),n=(0,i.outerWidth)(t.target),o=(0,i.outerHeight)(t.target);n===e.tempEditorDimensions.width+1&&o===e.tempEditorDimensions.height+2||this.updateCommentMeta(this.range.from.row,this.range.from.col,g({},"style",{width:n,height:o}))}},{key:"onContextMenuAddComment",value:function(){var t=this,e=this.hot.getSelectedRange();this.contextMenuEvent=!0,this.setRange({from:e.from}),this.show(),setTimeout(function(){t.hot&&(t.hot.deselectCell(),t.editor.focus())},10)}},{key:"onContextMenuRemoveComment",value:function(t){this.contextMenuEvent=!0;for(var e=t.start.row;e<=t.end.row;e++)for(var n=t.start.col;n<=t.end.col;n++)this.removeCommentAtCell(e,n,!1);this.hot.render()}},{key:"onContextMenuMakeReadOnly",value:function(t){this.contextMenuEvent=!0;for(var e=t.start.row;e<=t.end.row;e++)for(var n=t.start.col;n<=t.end.col;n++){var o=!!this.getCommentMeta(e,n,"readOnly");this.updateCommentMeta(e,n,g({},"readOnly",!o))}}},{key:"addToContextMenu",value:function(t){var e=this;t.items.push((0,c.getPlugin)(this.hot,"contextMenu").constructor.SEPARATOR,{key:"commentsAddEdit",name:function(){return e.checkSelectionCommentsConsistency()?"Edit comment":"Add comment"},callback:function(){return e.onContextMenuAddComment()},disabled:function(){return!(this.getSelected()&&!this.selection.selectedHeader.corner)}},{key:"commentsRemove",name:function(){return"Delete comment"},callback:function(t,n){return e.onContextMenuRemoveComment(n)},disabled:function(){return e.hot.selection.selectedHeader.corner}},{key:"commentsReadOnly",name:function(){var t=this,e="Read only comment";return(0,f.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var o=t.getCellMeta(e,n).comment;if(o&&(o=o.readOnly),o)return!0})&&(e=(0,f.markLabelAsSelected)(e)),e},callback:function(t,n){return e.onContextMenuMakeReadOnly(n)},disabled:function(){return e.hot.selection.selectedHeader.corner||!e.checkSelectionCommentsConsistency()}})}},{key:"onAfterBeginEditing",value:function(t,e){this.hide()}},{key:"destroy",value:function(){this.editor&&this.editor.destroy(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}();(0,c.registerPlugin)("comments",m),e.default=m},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(1),i=n(2),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.commands={},this.commonCallback=null}return o(t,[{key:"registerCommand",value:function(t,e){this.commands[t]=e}},{key:"setCommonCallback",value:function(t){this.commonCallback=t}},{key:"execute",value:function(t){for(var e=this,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];var s=t.split(":");t=s[0];var l=2===s.length?s[1]:null,u=this.commands[t];if(!u)throw new Error("Menu command '"+t+"' not exists.");if(l&&u.submenu&&(u=function(t,e){var n=void 0;return(0,r.arrayEach)(e,function(e){var o=e.key?e.key.split(":"):null;if(Array.isArray(o)&&o[1]===t)return n=e,!1}),n}(l,u.submenu.items)),!0!==u.disabled&&("function"!=typeof u.disabled||!0!==u.disabled.call(this.hot))&&!(0,i.hasOwnProperty)(u,"submenu")){var c=[];"function"==typeof u.callback&&c.push(u.callback),"function"==typeof this.commonCallback&&c.push(this.commonCallback),o.unshift(s.join(":")),(0,r.arrayEach)(c,function(t){return t.apply(e.hot,o)})}}}]),t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var o=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=v(n(12)),a=v(n(8)),s=n(1),l=v(n(218)),u=v(n(4)),c=v(n(221)),h=v(n(222)),d=n(5),f=n(7),p=n(0),g=n(50);function v(t){return t&&t.__esModule?t:{default:t}}n(295),a.default.getSingleton().register("afterContextMenuDefaultOptions"),a.default.getSingleton().register("afterContextMenuShow"),a.default.getSingleton().register("afterContextMenuHide"),a.default.getSingleton().register("afterContextMenuExecute");var m=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.eventManager=new u.default(n),n.commandExecutor=new l.default(n.hot),n.itemsFactory=null,n.menu=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,null,[{key:"DEFAULT_ITEMS",get:function(){return[g.ROW_ABOVE,g.ROW_BELOW,g.SEPARATOR,g.COLUMN_LEFT,g.COLUMN_RIGHT,g.SEPARATOR,g.REMOVE_ROW,g.REMOVE_COLUMN,g.SEPARATOR,g.UNDO,g.REDO,g.SEPARATOR,g.READ_ONLY,g.SEPARATOR,g.ALIGNMENT]}}]),r(e,[{key:"isEnabled",value:function(){return this.hot.getSettings().contextMenu}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){this.itemsFactory=new c.default(this.hot,e.DEFAULT_ITEMS);var n=this.hot.getSettings().contextMenu,r={items:this.itemsFactory.getItems(n)};this.registerEvents(),"function"==typeof n.callback&&this.commandExecutor.setCommonCallback(n.callback),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this),this.callOnPluginsReady(function(){t.hot.runHooks("afterContextMenuDefaultOptions",r),t.itemsFactory.setPredefinedItems(r.items);var e=t.itemsFactory.getItems(n);t.menu=new h.default(t.hot,{className:"htContextMenu",keepInViewport:!0}),t.hot.runHooks("beforeContextMenuSetItems",e),t.menu.setMenuItems(e),t.menu.addLocalHook("afterOpen",function(){return t.onMenuAfterOpen()}),t.menu.addLocalHook("afterClose",function(){return t.onMenuAfterClose()}),t.menu.addLocalHook("executeCommand",function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.executeCommand.apply(t,n)}),(0,s.arrayEach)(e,function(e){return t.commandExecutor.registerCommand(e.key,e)})})}}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"contextmenu",function(e){return t.onContextMenu(e)})}},{key:"open",value:function(t){this.menu&&(this.menu.open(),this.menu.setPosition({top:parseInt((0,f.pageY)(t),10)-(0,p.getWindowScrollTop)(),left:parseInt((0,f.pageX)(t),10)-(0,p.getWindowScrollLeft)()}),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv)}},{key:"close",value:function(){this.menu&&this.menu.close()}},{key:"executeCommand",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.commandExecutor.execute.apply(this.commandExecutor,e)}},{key:"onContextMenu",value:function(t){var e=this.hot.getSettings(),n=e.rowHeaders,o=e.colHeaders,r=t.realTarget;this.close(),(0,p.hasClass)(r,"handsontableInput")||(t.preventDefault(),(0,f.stopPropagation)(t),(n||o||function(t){return"TD"===t.nodeName||"TD"===t.parentNode.nodeName}(r)||(0,p.hasClass)(r,"current")&&(0,p.hasClass)(r,"wtBorder"))&&this.open(t))}},{key:"onMenuAfterOpen",value:function(){this.hot.runHooks("afterContextMenuShow",this)}},{key:"onMenuAfterClose",value:function(){this.hot.listen(),this.hot.runHooks("afterContextMenuHide",this)}},{key:"destroy",value:function(){this.close(),this.menu&&this.menu.destroy(),o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}();m.SEPARATOR={name:g.SEPARATOR},(0,d.registerPlugin)("contextMenu",m),e.default=m},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(0),i=n(7),a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(0,r.getWindowScrollTop)(),o=(0,r.getWindowScrollLeft)(),a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0;this.type=this.getSourceType(e),"literal"===this.type?(a=parseInt(e.top,10),l=parseInt(e.left,10),c=e.height||0,h=e.width||0,s=a,u=l,a+=n,l+=o):"event"===this.type&&(a=parseInt((0,i.pageY)(e),10),l=parseInt((0,i.pageX)(e),10),c=e.target.clientHeight,h=e.target.clientWidth,s=a-n,u=l-o),this.top=a,this.topRelative=s,this.left=l,this.leftRelative=u,this.scrollTop=n,this.scrollLeft=o,this.cellHeight=c,this.cellWidth=h}return o(t,[{key:"getSourceType",value:function(t){var e="literal";return t instanceof Event&&(e="event"),e}},{key:"fitsAbove",value:function(t){return this.topRelative>=t.offsetHeight}},{key:"fitsBelow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerHeight;return this.topRelative+t.offsetHeight<=e}},{key:"fitsOnRight",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=e}},{key:"fitsOnLeft",value:function(t){return this.leftRelative>=t.offsetWidth}}]),t}();e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=n(2),i=n(1),a=n(50),s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.predefinedItems=(0,a.predefinedItems)(),this.defaultOrderPattern=n}return o(t,[{key:"setPredefinedItems",value:function(t){var e=this,n={};this.defaultOrderPattern.length=0,(0,r.objectEach)(t,function(t,o){var r="";t.name===a.SEPARATOR?(n[a.SEPARATOR]=t,r=a.SEPARATOR):isNaN(parseInt(o,10))?(t.key=void 0===t.key?o:t.key,n[o]=t,r=t.key):(n[t.key]=t,r=t.key),e.defaultOrderPattern.push(r)}),this.predefinedItems=n}},{key:"getItems",value:function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[];return t&&t.items?t=t.items:Array.isArray(t)||(t=e),(0,r.isObject)(t)?(0,r.objectEach)(t,function(t,e){var i=n["string"==typeof t?t:e];i||(i=t),(0,r.isObject)(t)?(0,r.extend)(i,t):"string"==typeof i&&(i={name:i}),void 0===i.key&&(i.key=e),o.push(i)}):(0,i.arrayEach)(t,function(t,e){var i=n[t];!i&&a.ITEMS.indexOf(t)>=0||(i||(i={name:t,key:""+e}),(0,r.isObject)(t)&&(0,r.extend)(i,t),void 0===i.key&&(i.key=e),o.push(i))}),o}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,this.defaultOrderPattern,this.predefinedItems)}}]),t}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=v(n(64)),i=n(0),a=n(1),s=v(n(220)),l=v(n(4)),u=n(2),c=n(35),h=n(17),d=n(16),f=v(n(150)),p=n(50),g=n(7);function v(t){return t&&t.__esModule?t:{default:t}}var m=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hot=e,this.options=n||{parent:null,name:null,className:"",keepInViewport:!0,standalone:!1},this.eventManager=new l.default(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this.origOutsideClickDeselects=null,this.keyEvent=!1,this.offset={above:0,below:0,left:0,right:0},this._afterScrollCallback=null,this.registerEvents()}return o(t,[{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"mousedown",function(e){return t.onDocumentMouseDown(e)})}},{key:"setMenuItems",value:function(t){this.menuItems=t}},{key:"setOffset",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.offset[t]=e}},{key:"isSubMenu",value:function(){return null!==this.parentMenu}},{key:"open",value:function(){var t=this;this.container.removeAttribute("style"),this.container.style.display="block";var e=(0,c.debounce)(function(e){return t.openSubMenu(e)},300),n=(0,a.arrayFilter)(this.menuItems,function(e){return(0,h.isItemHidden)(e,t.hot)}),o={data:n=(0,h.filterSeparators)(n,p.SEPARATOR),colHeaders:!1,colWidths:[200],autoRowSize:!1,readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:function(e,n,o,r,i,a){return t.menuItemRenderer(e,n,o,r,i,a)}}],renderAllRows:!0,fragmentSelection:"cell",disableVisualSelection:"area",beforeKeyDown:function(e){return t.onBeforeKeyDown(e)},afterOnCellMouseOver:function(n,o,r){t.isAllSubMenusClosed()?e(o.row):t.openSubMenu(o.row)},rowHeights:function(t){return n[t].name===p.SEPARATOR?1:23}};this.origOutsideClickDeselects=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1,this.hotMenu=new r.default(this.container,o),this.hotMenu.addHook("afterInit",function(){return t.onAfterInit()}),this.hotMenu.addHook("afterSelection",function(e,n,o,r,i){return t.onAfterSelection(e,n,o,r,i)}),this.hotMenu.init(),this.hotMenu.listen(),this.blockMainTableCallbacks(),this.runLocalHooks("afterOpen")}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isOpened()&&(t&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.getSettings().outsideClickDeselects=this.origOutsideClickDeselects,this.runLocalHooks("afterClose"),this.parentMenu&&this.parentMenu.hotMenu.listen()))}},{key:"openSubMenu",value:function(e){if(!this.hotMenu)return!1;var n=this.hotMenu.getCell(e,0);if(this.closeAllSubMenus(),!n||!(0,h.hasSubMenu)(n))return!1;var o=this.hotMenu.getSourceDataAtRow(e),r=new t(this.hot,{parent:this,name:o.name,className:this.options.className,keepInViewport:!0});return r.setMenuItems(o.submenu.items),r.open(),r.setPosition(n.getBoundingClientRect()),this.hotSubMenus[o.key]=r,r}},{key:"closeSubMenu",value:function(t){var e=this.hotMenu.getSourceDataAtRow(t),n=this.hotSubMenus[e.key];n&&(n.destroy(),delete this.hotSubMenus[e.key])}},{key:"closeAllSubMenus",value:function(){var t=this;(0,a.arrayEach)(this.hotMenu.getData(),function(e,n){return t.closeSubMenu(n)})}},{key:"isAllSubMenusClosed",value:function(){return 0===Object.keys(this.hotSubMenus).length}},{key:"destroy",value:function(){this.clearLocalHooks(),this.close(),this.parentMenu=null,this.eventManager.destroy()}},{key:"isOpened",value:function(){return null!==this.hotMenu}},{key:"executeCommand",value:function(t){if(this.isOpened()&&this.hotMenu.getSelected()){var e=this.hotMenu.getSourceDataAtRow(this.hotMenu.getSelected()[0]);if(this.runLocalHooks("select",e,t),!1!==e.isCommand&&e.name!==p.SEPARATOR){var n=this.hot.getSelectedRange(),o=n?(0,h.normalizeSelection)(n):{},r=!0;(!0===e.disabled||"function"==typeof e.disabled&&!0===e.disabled.call(this.hot)||e.submenu)&&(r=!1),this.runLocalHooks("executeCommand",e.key,o,t),this.isSubMenu()&&this.parentMenu.runLocalHooks("executeCommand",e.key,o,t),r&&this.close(!0)}}}},{key:"setPosition",value:function(t){var e=new s.default(t);this.options.keepInViewport?(e.fitsBelow(this.container)?this.setPositionBelowCursor(e):e.fitsAbove(this.container)?this.setPositionAboveCursor(e):this.setPositionBelowCursor(e),e.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(e):this.setPositionOnLeftOfCursor(e)):(this.setPositionBelowCursor(e),this.setPositionOnRightOfCursor(e))}},{key:"setPositionAboveCursor",value:function(t){var e=this.offset.above+t.top-this.container.offsetHeight;this.isSubMenu()&&(e=t.top+t.cellHeight-this.container.offsetHeight+3),this.container.style.top=e+"px"}},{key:"setPositionBelowCursor",value:function(t){var e=this.offset.below+t.top;this.isSubMenu()&&(e=t.top-1),this.container.style.top=e+"px"}},{key:"setPositionOnRightOfCursor",value:function(t){var e;e=this.isSubMenu()?1+t.left+t.cellWidth:this.offset.right+1+t.left,this.container.style.left=e+"px"}},{key:"setPositionOnLeftOfCursor",value:function(t){var e=this.offset.left+t.left-this.container.offsetWidth+(0,i.getScrollbarWidth)()+4;this.container.style.left=e+"px"}},{key:"selectFirstCell",value:function(){var t=this.hotMenu.getCell(0,0);(0,h.isSeparator)(t)||(0,h.isDisabled)(t)||(0,h.isSelectionDisabled)(t)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)}},{key:"selectLastCell",value:function(){var t=this.hotMenu.countRows()-1,e=this.hotMenu.getCell(t,0);(0,h.isSeparator)(e)||(0,h.isDisabled)(e)||(0,h.isSelectionDisabled)(e)?this.selectPrevCell(t,0):this.hotMenu.selectCell(t,0)}},{key:"selectNextCell",value:function(t,e){var n=t+1,o=n<this.hotMenu.countRows()?this.hotMenu.getCell(n,e):null;o&&((0,h.isSeparator)(o)||(0,h.isDisabled)(o)||(0,h.isSelectionDisabled)(o)?this.selectNextCell(n,e):this.hotMenu.selectCell(n,e))}},{key:"selectPrevCell",value:function(t,e){var n=t-1,o=n>=0?this.hotMenu.getCell(n,e):null;o&&((0,h.isSeparator)(o)||(0,h.isDisabled)(o)||(0,h.isSelectionDisabled)(o)?this.selectPrevCell(n,e):this.hotMenu.selectCell(n,e))}},{key:"menuItemRenderer",value:function(t,e,n,o,r,a){var s=this,l=t.getSourceDataAtRow(n),c=document.createElement("div"),h=function(t){return t.disableSelection};"function"==typeof a&&(a=a.call(this.hot)),(0,i.empty)(e),(0,i.addClass)(c,"htItemWrapper"),e.appendChild(c),function(t){return new RegExp(p.SEPARATOR,"i").test(t.name)}(l)?(0,i.addClass)(e,"htSeparator"):"function"==typeof l.renderer?((0,i.addClass)(e,"htCustomMenuRenderer"),e.appendChild(l.renderer(t,c,n,o,r,a))):(0,i.fastInnerHTML)(c,a),function(t){return!0===t.disabled||"function"==typeof t.disabled&&!0===t.disabled.call(s.hot)}(l)?((0,i.addClass)(e,"htDisabled"),this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()})):h(l)?((0,i.addClass)(e,"htSelectionDisabled"),this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()})):function(t){return(0,u.hasOwnProperty)(t,"submenu")}(l)?((0,i.addClass)(e,"htSubmenu"),h(l)?this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(e,"mouseenter",function(){return t.selectCell(n,o,void 0,void 0,!1,!1)})):((0,i.removeClass)(e,"htSubmenu"),(0,i.removeClass)(e,"htDisabled"),h(l)?this.eventManager.addEventListener(e,"mouseenter",function(){return t.deselectCell()}):this.eventManager.addEventListener(e,"mouseenter",function(){return t.selectCell(n,o,void 0,void 0,!1,!1)}))}},{key:"createContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t&&(t=t.replace(/[^A-z0-9]/g,"_"),t=this.options.className+"Sub_"+t);var e=void 0;return(e=t?document.querySelector("."+this.options.className+"."+t):document.querySelector("."+this.options.className))||(e=document.createElement("div"),(0,i.addClass)(e,"htMenu "+this.options.className),t&&(0,i.addClass)(e,t),document.getElementsByTagName("body")[0].appendChild(e)),e}},{key:"blockMainTableCallbacks",value:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)}},{key:"releaseMainTableCallbacks",value:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)}},{key:"onBeforeKeyDown",value:function(t){var e=this.hotMenu.getSelected(),n=!1;switch(this.keyEvent=!0,t.keyCode){case d.KEY_CODES.ESCAPE:this.close(),n=!0;break;case d.KEY_CODES.ENTER:e&&(this.hotMenu.getSourceDataAtRow(e[0]).submenu?n=!0:(this.executeCommand(t),this.close(!0)));break;case d.KEY_CODES.ARROW_DOWN:e?this.selectNextCell(e[0],e[1]):this.selectFirstCell(),n=!0;break;case d.KEY_CODES.ARROW_UP:e?this.selectPrevCell(e[0],e[1]):this.selectLastCell(),n=!0;break;case d.KEY_CODES.ARROW_RIGHT:if(e){var o=this.openSubMenu(e[0]);o&&o.selectFirstCell()}n=!0;break;case d.KEY_CODES.ARROW_LEFT:e&&this.isSubMenu()&&(this.close(),this.parentMenu&&this.parentMenu.hotMenu.listen(),n=!0)}n&&(t.preventDefault(),(0,g.stopImmediatePropagation)(t)),this.keyEvent=!1}},{key:"onAfterInit",value:function(){var t=this.hotMenu.getSettings().data,e=this.hotMenu.view.wt.wtTable.hider.style,n=this.hotMenu.view.wt.wtTable.holder.style,o=parseInt(e.width,10),r=(0,a.arrayReduce)(t,function(t,e){return t+(e.name===p.SEPARATOR?1:26)},0);n.width=o+22+"px",n.height=r+4+"px",e.height=n.height}},{key:"onAfterSelection",value:function(t,e,n,o,r){!1===this.keyEvent&&(r.value=!0)}},{key:"onDocumentMouseDown",value:function(t){this.isOpened()&&(this.container&&(0,i.isChildOf)(t.target,this.container)&&this.executeCommand(t),this.options.standalone&&this.hotMenu&&!(0,i.isChildOf)(t.target,this.hotMenu.rootElement)?this.close(!0):(this.isAllSubMenusClosed()||this.isSubMenu())&&!(0,i.isChildOf)(t.target,".htMenu")&&(0,i.isChildOf)(t.target,document)&&this.close(!0))}}]),t}();(0,u.mixin)(m,f.default),e.default=m},function(t,e,n){"use strict";e.__esModule=!0,e.KEY=void 0,e.default=function(){return{key:i,name:"Alignment",disabled:function(){return!(this.getSelectedRange()&&!this.selection.selectedHeader.corner)},submenu:{items:[{key:i+":left",name:function(){var t=this,e="Left";return(0,o.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var o=t.getCellMeta(e,n).className;if(o&&-1!==o.indexOf("htLeft"))return!0})&&(e=(0,o.markLabelAsSelected)(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=(0,o.getAlignmentClasses)(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"horizontal","htLeft"),(0,o.align)(e,"horizontal","htLeft",function(e,n){return t.getCellMeta(e,n)},function(e,n,o,r){return t.setCellMeta(e,n,o,r)}),this.render()},disabled:!1},{key:i+":center",name:function(){var t=this,e="Center";return(0,o.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var o=t.getCellMeta(e,n).className;if(o&&-1!==o.indexOf("htCenter"))return!0})&&(e=(0,o.markLabelAsSelected)(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=(0,o.getAlignmentClasses)(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"horizontal","htCenter"),(0,o.align)(e,"horizontal","htCenter",function(e,n){return t.getCellMeta(e,n)},function(e,n,o,r){return t.setCellMeta(e,n,o,r)}),this.render()},disabled:!1},{key:i+":right",name:function(){var t=this,e="Right";return(0,o.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var o=t.getCellMeta(e,n).className;if(o&&-1!==o.indexOf("htRight"))return!0})&&(e=(0,o.markLabelAsSelected)(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=(0,o.getAlignmentClasses)(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"horizontal","htRight"),(0,o.align)(e,"horizontal","htRight",function(e,n){return t.getCellMeta(e,n)},function(e,n,o,r){return t.setCellMeta(e,n,o,r)}),this.render()},disabled:!1},{key:i+":justify",name:function(){var t=this,e="Justify";return(0,o.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var o=t.getCellMeta(e,n).className;if(o&&-1!==o.indexOf("htJustify"))return!0})&&(e=(0,o.markLabelAsSelected)(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=(0,o.getAlignmentClasses)(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"horizontal","htJustify"),(0,o.align)(e,"horizontal","htJustify",function(e,n){return t.getCellMeta(e,n)},function(e,n,o,r){return t.setCellMeta(e,n,o,r)}),this.render()},disabled:!1},{name:r.KEY},{key:i+":top",name:function(){var t=this,e="Top";return(0,o.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var o=t.getCellMeta(e,n).className;if(o&&-1!==o.indexOf("htTop"))return!0})&&(e=(0,o.markLabelAsSelected)(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=(0,o.getAlignmentClasses)(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"vertical","htTop"),(0,o.align)(e,"vertical","htTop",function(e,n){return t.getCellMeta(e,n)},function(e,n,o,r){return t.setCellMeta(e,n,o,r)}),this.render()},disabled:!1},{key:i+":middle",name:function(){var t=this,e="Middle";return(0,o.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var o=t.getCellMeta(e,n).className;if(o&&-1!==o.indexOf("htMiddle"))return!0})&&(e=(0,o.markLabelAsSelected)(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=(0,o.getAlignmentClasses)(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"vertical","htMiddle"),(0,o.align)(e,"vertical","htMiddle",function(e,n){return t.getCellMeta(e,n)},function(e,n,o,r){return t.setCellMeta(e,n,o,r)}),this.render()},disabled:!1},{key:i+":bottom",name:function(){var t=this,e="Bottom";return(0,o.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){var o=t.getCellMeta(e,n).className;if(o&&-1!==o.indexOf("htBottom"))return!0})&&(e=(0,o.markLabelAsSelected)(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=(0,o.getAlignmentClasses)(e,function(e,n){return t.getCellMeta(e,n).className});this.runHooks("beforeCellAlignment",n,e,"vertical","htBottom"),(0,o.align)(e,"vertical","htBottom",function(e,n){return t.getCellMeta(e,n)},function(e,n,o,r){return t.setCellMeta(e,n,o,r)}),this.render()},disabled:!1}]}}};var o=n(17),r=n(70),i=e.KEY="alignment"},function(t,e,n){"use strict";e.__esModule=!0,e.KEY=void 0,e.default=function(){return{key:r,name:"Clear column",callback:function(t,e){var n=e.start.col;this.countRows()&&this.populateFromArray(0,n,[[null]],Math.max(e.start.row,e.end.row),n,"ContextMenu.clearColumn")},disabled:function(){var t=(0,o.getValidSelection)(this);if(!t)return!0;var e=[t[0],0,t[0],this.countCols()-1].join(",")==t.join(",");return t[1]<0||this.countCols()>=this.getSettings().maxCols||e}}};var o=n(17),r=e.KEY="clear_column"},function(t,e,n){"use strict";e.__esModule=!0,e.KEY=void 0,e.default=function(){return{key:r,name:"Insert column on the left",callback:function(t,e){this.alter("insert_col",e.start.col,1,"ContextMenu.columnLeft")},disabled:function(){var t=(0,o.getValidSelection)(this);if(!t)return!0;if(!this.isColumnModificationAllowed())return!0;var e=[t[0],0,t[0],this.countCols()-1].join(",")==t.join(","),n=1===this.countCols();return t[1]<0||this.countCols()>=this.getSettings().maxCols||!n&&e},hidden:function(){return!this.getSettings().allowInsertColumn}}};var o=n(17),r=e.KEY="col_left"},function(t,e,n){"use strict";e.__esModule=!0,e.KEY=void 0,e.default=function(){return{key:r,name:"Insert column on the right",callback:function(t,e){this.alter("insert_col",e.end.col+1,1,"ContextMenu.columnRight")},disabled:function(){var t=(0,o.getValidSelection)(this);if(!t)return!0;if(!this.isColumnModificationAllowed())return!0;var e=[t[0],0,t[0],this.countCols()-1].join(",")==t.join(","),n=1===this.countCols();return t[1]<0||this.countCols()>=this.getSettings().maxCols||!n&&e},hidden:function(){return!this.getSettings().allowInsertColumn}}};var o=n(17),r=e.KEY="col_right"},function(t,e,n){"use strict";e.__esModule=!0,e.KEY=void 0,e.default=function(){return{key:r,name:function(){var t=this,e="Read only";return(0,o.checkSelectionConsistency)(this.getSelectedRange(),function(e,n){return t.getCellMeta(e,n).readOnly})&&(e=(0,o.markLabelAsSelected)(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=(0,o.checkSelectionConsistency)(e,function(e,n){return t.getCellMeta(e,n).readOnly});e.forAll(function(e,o){t.setCellMeta(e,o,"readOnly",!n)}),this.render()},disabled:function(){return!(this.getSelectedRange()&&!this.selection.selectedHeader.corner)}}};var o=n(17),r=e.KEY="make_read_only"},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){return{key:o,name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}}};var o=e.KEY="redo"},function(t,e,n){"use strict";e.__esModule=!0,e.KEY=void 0,e.default=function(){return{key:r,name:"Remove column",callback:function(t,e){var n=e.end.col-e.start.col+1;this.alter("remove_col",e.start.col,n,"ContextMenu.removeColumn")},disabled:function(){var t=(0,o.getValidSelection)(this),e=this.countCols();return!t||this.selection.selectedHeader.rows||this.selection.selectedHeader.corner||!this.isColumnModificationAllowed()||!e},hidden:function(){return!this.getSettings().allowRemoveColumn}}};var o=n(17),r=e.KEY="remove_col"},function(t,e,n){"use strict";e.__esModule=!0,e.KEY=void 0,e.default=function(){return{key:r,name:"Remove row",callback:function(t,e){var n=e.end.row-e.start.row+1;this.alter("remove_row",e.start.row,n,"ContextMenu.removeRow")},disabled:function(){var t=(0,o.getValidSelection)(this),e=this.countRows();return!t||this.selection.selectedHeader.cols||this.selection.selectedHeader.corner||!e},hidden:function(){return!this.getSettings().allowRemoveRow}}};var o=n(17),r=e.KEY="remove_row"},function(t,e,n){"use strict";e.__esModule=!0,e.KEY=void 0,e.default=function(){return{key:r,name:"Insert row above",callback:function(t,e){this.alter("insert_row",e.start.row,1,"ContextMenu.rowAbove")},disabled:function(){return!(0,o.getValidSelection)(this)||this.selection.selectedHeader.cols||this.countRows()>=this.getSettings().maxRows},hidden:function(){return!this.getSettings().allowInsertRow}}};var o=n(17),r=e.KEY="row_above"},function(t,e,n){"use strict";e.__esModule=!0,e.KEY=void 0,e.default=function(){return{key:r,name:"Insert row below",callback:function(t,e){this.alter("insert_row",e.end.row+1,1,"ContextMenu.rowBelow")},disabled:function(){return!(0,o.getValidSelection)(this)||this.selection.selectedHeader.cols||this.countRows()>=this.getSettings().maxRows},hidden:function(){return!this.getSettings().allowInsertRow}}};var o=n(17),r=e.KEY="row_below"},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(){return{key:o,name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}}};var o=e.KEY="undo"},function(t,e,n){"use strict";e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=f(n(300)),s=f(n(12)),l=n(0),u=n(1),c=f(n(4)),h=n(5),d=n(50);function f(t){return t&&t.__esModule?t:{default:t}}var p=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.eventManager=new c.default(n),n.swfPath=null,n.outsideClickDeselectsCache=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),r(e,[{key:"isEnabled",value:function(){return this.hot.getSettings().contextMenuCopyPaste}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){"object"===o(this.hot.getSettings().contextMenuCopyPaste)&&(this.swfPath=this.hot.getSettings().contextMenuCopyPaste.swfPath),void 0===a.default&&console.error("To be able to use the Copy/Paste feature from the context menu, you need to manually include ZeroClipboard.js file to your website.");try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){void 0===navigator.mimeTypes["application/x-shockwave-flash"]&&console.error("To be able to use the Copy/Paste feature from the context menu, your browser needs to have Flash Plugin installed.")}this.swfPath&&a.default.config({swfPath:this.swfPath}),this.hot.addHook("afterContextMenuShow",function(){return t.onAfterContextMenuShow()}),this.hot.addHook("afterContextMenuDefaultOptions",function(e){return t.onAfterContextMenuDefaultOptions(e)}),this.registerEvents(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this)}}},{key:"disablePlugin",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(document,"mouseenter",function(){return t.removeCurrentClass()}),this.eventManager.addEventListener(document,"mouseleave",function(){return t.removeZeroClipboardClass()})}},{key:"getCopyValue",value:function(){return this.hot.copyPaste.setCopyableText(),this.hot.copyPaste.copyPasteInstance.triggerCopy(),this.hot.copyPaste.copyPasteInstance.elTextarea.value}},{key:"onAfterContextMenuDefaultOptions",value:function(t){t.items.unshift({key:"copy",name:"Copy",disabled:function(){return this.selection.selectedHeader.corner}},{key:"paste",name:"Paste",callback:function(){this.copyPaste.triggerPaste()},disabled:function(){return this.selection.selectedHeader.corner}},{name:d.SEPARATOR})}},{key:"onAfterContextMenuShow",value:function(){var t=this,e=this.hot.getPlugin("contextMenu"),n=e.menu.hotMenu.getSourceData();(0,u.arrayEach)(n,function(n,o){if("copy"===n.key){var r=new a.default(e.menu.hotMenu.getCell(o,0));return r.off(),r.on("copy",function(e){e.clipboardData.setData("text/plain",t.getCopyValue()),t.hot.getSettings().outsideClickDeselects=t.outsideClickDeselectsCache}),!1}})}},{key:"removeCurrentClass",value:function(){var t=this.hot.getPlugin("contextMenu");if(t.enabled){if(t.menu.isOpened()){var e=t.menu.hotMenu.rootElement.querySelector("td.current");e&&(0,l.removeClass)(e,"current")}this.outsideClickDeselectsCache=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1}}},{key:"removeZeroClipboardClass",value:function(){var t=this.hot.getPlugin("contextMenu");if(t.enabled){if(t.menu.isOpened()){var e=t.menu.hotMenu.rootElement.querySelector("td.zeroclipboard-is-hover");e&&(0,l.removeClass)(e,"zeroclipboard-is-hover")}this.hot.getSettings().outsideClickDeselects=this.outsideClickDeselectsCache}}}]),e}();(0,h.registerPlugin)("contextMenuCopyPaste",p),e.default=p},function(t,e,n){"use strict";e.__esModule=!0;var o=d(n(184)),r=d(n(132)),i=d(n(8)),a=n(16),s=n(1),l=n(6),u=n(7),c=n(0),h=n(11);function d(t){return t&&t.__esModule?t:{default:t}}function f(t){var e=this;function n(){t.isListening()}function i(){if(t.isListening()){var n=e.getRangedData(e.copyableRanges);t.getSettings().fragmentSelection&&r.default.stringify(n)!=(0,c.getSelectionText)()||(t.runHooks("beforeCopy",n,e.copyableRanges)?(t.copyPaste.copyPasteInstance.copyable(r.default.stringify(n)),t.runHooks("afterCopy",n,e.copyableRanges)):t.copyPaste.copyPasteInstance.copyable(""))}}function d(n){var o,i,a,l,u,c,d,f,p,g;if(t.isListening()&&t.selection.isSelected()){o=n,i=r.default.parse(o),a=t.getSelected(),l=new h.CellCoords(a[0],a[1]),u=new h.CellCoords(a[2],a[3]),d=(c=new h.CellRange(l,l,u)).getTopLeftCorner(),f=c.getBottomRightCorner(),p=d,g=new h.CellCoords(Math.max(f.row,i.length-1+d.row),Math.max(f.col,i[0].length-1+d.col));var v=u.row-l.row>=i.length-1,m=u.col-l.col>=i[0].length-1;t.addHookOnce("afterChange",function(e,n){var o=e?e.length:0;if(o){var r={row:0,col:0},i=-1;(0,s.arrayEach)(e,function(t,n){var a=o>n+1?e[n+1]:null;a&&(v||(r.row+=Math.max(a[0]-t[0]-1,0)),!m&&t[1]>i&&(i=t[1],r.col+=Math.max(a[1]-t[1]-1,0)))}),t.selectCell(p.row,p.col,g.row+r.row,g.col+r.col)}}),t.runHooks("beforePaste",i,e.copyableRanges)&&(t.populateFromArray(p.row,p.col,i,g.row,g.col,"CopyPaste.paste",t.getSettings().pasteMode),t.runHooks("afterPaste",i,e.copyableRanges))}}function f(n){if(t.getSelected()&&!(t.getActiveEditor()&&t.getActiveEditor().isOpened()||(0,u.isImmediatePropagationStopped)(n))){if((0,a.isCtrlKey)(n.keyCode)){if(t.getSettings().fragmentSelection&&(0,c.getSelectionText)())return;return e.setCopyableText(),void(0,u.stopImmediatePropagation)(n)}var o;(n.ctrlKey||n.metaKey)&&!n.altKey&&(n.keyCode==a.KEY_CODES.A&&t._registerTimeout(setTimeout(e.setCopyableText.bind(e),0)),n.keyCode==a.KEY_CODES.X&&(o=e.getRangedData(e.copyableRanges),t.getSettings().fragmentSelection&&r.default.stringify(o)!=(0,c.getSelectionText)()||(t.runHooks("beforeCut",o,e.copyableRanges)?(t.copyPaste.copyPasteInstance.copyable(r.default.stringify(o)),t.selection.empty(),t.runHooks("afterCut",o,e.copyableRanges)):t.copyPaste.copyPasteInstance.copyable(""))),n.keyCode==a.KEY_CODES.C&&i())}}this.copyPasteInstance=(0,o.default)(),this.copyPasteInstance.onCut(n),this.copyPasteInstance.triggerCopy=i,this.copyPasteInstance.onPaste(d),this.onPaste=d,this.copyableRanges=[],t.addHook("beforeKeyDown",f),this.destroy=function(){this.copyPasteInstance&&(this.copyPasteInstance.removeCallback(n),this.copyPasteInstance.removeCallback(d),this.copyPasteInstance.destroy(),this.copyPasteInstance=null),t.removeHook("beforeKeyDown",f)},t.addHook("afterDestroy",this.destroy.bind(this)),this.triggerPaste=this.copyPasteInstance.triggerPaste.bind(this.copyPasteInstance),this.triggerCut=this.copyPasteInstance.triggerCut.bind(this.copyPasteInstance),this.setCopyableText=function(){var e=t.getSettings(),n=e.copyRowsLimit,o=e.copyColsLimit,r=t.getSelectedRange(),i=r.getTopLeftCorner(),a=r.getBottomRightCorner(),s=i.row,l=i.col,u=a.row,c=a.col,h=Math.min(u,s+n-1),d=Math.min(c,l+o-1);this.copyableRanges.length=0,this.copyableRanges.push({startRow:s,startCol:l,endRow:h,endCol:d}),this.copyableRanges=t.runHooks("modifyCopyableRange",this.copyableRanges);var f=this.getRangedCopyableData(this.copyableRanges);t.copyPaste.copyPasteInstance.copyable(f),u===h&&c===d||t.runHooks("afterCopyLimit",u-s+1,c-l+1,n,o)},this.getRangedCopyableData=function(e){var n=[],o=[],i=[];return(0,s.arrayEach)(e,function(t){(0,l.rangeEach)(t.startRow,t.endRow,function(t){-1===o.indexOf(t)&&o.push(t)}),(0,l.rangeEach)(t.startCol,t.endCol,function(t){-1===i.indexOf(t)&&i.push(t)})}),(0,s.arrayEach)(o,function(e){var o=[];(0,s.arrayEach)(i,function(n){o.push(t.getCopyableData(e,n))}),n.push(o)}),r.default.stringify(n)},this.getRangedData=function(e){var n=[],o=[],r=[];return(0,s.arrayEach)(e,function(t){(0,l.rangeEach)(t.startRow,t.endRow,function(t){-1===o.indexOf(t)&&o.push(t)}),(0,l.rangeEach)(t.startCol,t.endCol,function(t){-1===r.indexOf(t)&&r.push(t)})}),(0,s.arrayEach)(o,function(e){var o=[];(0,s.arrayEach)(r,function(n){o.push(t.getCopyableData(e,n))}),n.push(o)}),n}}function p(){var t=!1!==this.getSettings().copyPaste;t&&!this.copyPaste?this.copyPaste=new f(this):!t&&this.copyPaste&&(this.copyPaste.destroy(),this.copyPaste=null)}i.default.getSingleton().register("afterCopyLimit"),i.default.getSingleton().register("modifyCopyableRange"),i.default.getSingleton().register("beforeCut"),i.default.getSingleton().register("afterCut"),i.default.getSingleton().register("beforePaste"),i.default.getSingleton().register("afterPaste"),i.default.getSingleton().register("beforeCopy"),i.default.getSingleton().register("afterCopy"),i.default.getSingleton().add("afterInit",p),i.default.getSingleton().add("afterUpdateSettings",p),e.default=f},function(t,e,n){"use strict";var o,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=(o=n(8))&&o.__esModule?o:{default:o},s=(n(5),n(2)),l=n(11),u=function(t){var e={row:t.row,col:t.col},n=new l.Selection(t,new l.CellRange(e,e,e)),o=function(t){for(var e=0;e<r.view.wt.selections.length;e++)if(r.view.wt.selections[e].settings.className==t)return e;return-1}(t.className);o>=0?r.view.wt.selections[o]=n:r.view.wt.selections.push(n)},c=function(t,e,n){var o=f(t,e);o=p(o,n),this.setCellMeta(t,e,"borders",o),u(o)},h=function(t){for(var e=t.range,n=e.from.row;n<=e.to.row;n++)for(var o=e.from.col;o<=e.to.col;o++){var r=f(n,o),i=0;n==e.from.row&&(i++,(0,s.hasOwnProperty)(t,"top")&&(r.top=t.top)),n==e.to.row&&(i++,(0,s.hasOwnProperty)(t,"bottom")&&(r.bottom=t.bottom)),o==e.from.col&&(i++,(0,s.hasOwnProperty)(t,"left")&&(r.left=t.left)),o==e.to.col&&(i++,(0,s.hasOwnProperty)(t,"right")&&(r.right=t.right)),i>0&&(this.setCellMeta(n,o,"borders",r),u(r))}},d=function(t,e){return"border_row"+t+"col"+e},f=function(t,e){return{className:d(t,e),border:{width:1,color:"#000",cornerVisible:!1},row:t,col:e,top:{hide:!0},right:{hide:!0},bottom:{hide:!0},left:{hide:!0}}},p=function(t,e){return(0,s.hasOwnProperty)(e,"border")&&(t.border=e.border),(0,s.hasOwnProperty)(e,"top")&&(t.top=e.top),(0,s.hasOwnProperty)(e,"right")&&(t.right=e.right),(0,s.hasOwnProperty)(e,"bottom")&&(t.bottom=e.bottom),(0,s.hasOwnProperty)(e,"left")&&(t.left=e.left),t},g=function(t){for(var e=document.querySelectorAll("."+t),n=0;n<e.length;n++)if(e[n]&&"TD"!=e[n].nodeName){var o=e[n].parentNode;o.parentNode&&o.parentNode.removeChild(o)}},v=function(t,e){var n=d(t,e);g(n),this.removeCellMeta(t,e,"borders")},m=function(t,e,n,o){var r=this.getCellMeta(t,e).borders;r&&null!=r.border||(r=f(t,e)),r[n]=o?{hide:!0}:{width:1,color:"#000"},this.setCellMeta(t,e,"borders",r);var i=d(t,e);g(i),u(r),this.render()},y=function(t,e,n){if(t.from.row==t.to.row&&t.from.col==t.to.col)"noBorders"==e?v.call(this,t.from.row,t.from.col):m.call(this,t.from.row,t.from.col,e,n);else switch(e){case"noBorders":for(var o=t.from.col;o<=t.to.col;o++)for(var r=t.from.row;r<=t.to.row;r++)v.call(this,r,o);break;case"top":for(var i=t.from.col;i<=t.to.col;i++)m.call(this,t.from.row,i,e,n);break;case"right":for(var a=t.from.row;a<=t.to.row;a++)m.call(this,a,t.to.col,e);break;case"bottom":for(var s=t.from.col;s<=t.to.col;s++)m.call(this,t.to.row,s,e);break;case"left":for(var l=t.from.row;l<=t.to.row;l++)m.call(this,l,t.from.col,e)}},w=function(t,e){var n=!1;return t.getSelectedRange().forAll(function(o,r){var i=t.getCellMeta(o,r).borders;if(i){if(!e)return n=!0,!1;if(!(0,s.hasOwnProperty)(i[e],"hide"))return n=!0,!1}}),n},b=function(t){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+t};a.default.getSingleton().add("beforeInit",function(){var t;("boolean"==typeof(t=this.getSettings().customBorders)&&!0===t||"object"===(void 0===t?"undefined":i(t))&&t.length>0)&&(this.customBorders||(r=this,this.customBorders=new function(){}))}),a.default.getSingleton().add("afterContextMenuDefaultOptions",function(t){this.getSettings().customBorders&&(t.items.push({name:"---------"}),t.items.push({key:"borders",name:"Borders",disabled:function(){return this.selection.selectedHeader.corner},submenu:{items:[{key:"borders:top",name:function(){var t="Top";return w(this,"top")&&(t=b(t)),t},callback:function(){var t=w(this,"top");y.call(this,this.getSelectedRange(),"top",t)}},{key:"borders:right",name:function(){var t="Right";return w(this,"right")&&(t=b(t)),t},callback:function(){var t=w(this,"right");y.call(this,this.getSelectedRange(),"right",t)}},{key:"borders:bottom",name:function(){var t="Bottom";return w(this,"bottom")&&(t=b(t)),t},callback:function(){var t=w(this,"bottom");y.call(this,this.getSelectedRange(),"bottom",t)}},{key:"borders:left",name:function(){var t="Left";return w(this,"left")&&(t=b(t)),t},callback:function(){var t=w(this,"left");y.call(this,this.getSelectedRange(),"left",t)}},{key:"borders:no_borders",name:"Remove border(s)",callback:function(){y.call(this,this.getSelectedRange(),"noBorders")},disabled:function(){return!w(this)}}]}}))}),a.default.getSingleton().add("afterInit",function(){var t=this.getSettings().customBorders;if(t){for(var e=0;e<t.length;e++)t[e].range?h.call(this,t[e]):c.call(this,t[e].row,t[e].col,t[e]);this.render(),this.view.wt.draw(!0)}})},function(t,e,n){"use strict";e.__esModule=!0;var o,r=a(n(8)),i=a(n(4));function a(t){return t&&t.__esModule?t:{default:t}}function s(){this.boundaries=null,this.callback=null}n(5),s.prototype.setBoundaries=function(t){this.boundaries=t},s.prototype.setCallback=function(t){this.callback=t},s.prototype.check=function(t,e){var n=0,o=0;e<this.boundaries.top?o=e-this.boundaries.top:e>this.boundaries.bottom&&(o=e-this.boundaries.bottom),t<this.boundaries.left?n=t-this.boundaries.left:t>this.boundaries.right&&(n=t-this.boundaries.right),this.callback(n,o)};var l=function(t){t.dragToScrollListening=!1;var e=t.view.wt.wtTable.holder;o=new s,e!==window&&(o.setBoundaries(e.getBoundingClientRect()),o.setCallback(function(t,n){t<0?e.scrollLeft-=50:t>0&&(e.scrollLeft+=50),n<0?e.scrollTop-=20:n>0&&(e.scrollTop+=20)}),t.dragToScrollListening=!0)};r.default.getSingleton().add("afterInit",function(){var t=this,e=new i.default(this);e.addEventListener(document,"mouseup",function(){t.dragToScrollListening=!1}),e.addEventListener(document,"mousemove",function(e){t.dragToScrollListening&&o.check(e.clientX,e.clientY)})}),r.default.getSingleton().add("afterDestroy",function(){new i.default(this).clear()}),r.default.getSingleton().add("afterOnCellMouseDown",function(){l(this)}),r.default.getSingleton().add("afterOnCellCornerMouseDown",function(){l(this)}),e.default=s},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return{key:"freeze_column",name:"Freeze this column",callback:function(){var e=this.getSelectedRange().from.col;t.freezeColumn(e),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),e=!1;return void 0===t?e=!0:(t.from.col!==t.to.col||t.from.col<=this.getSettings().fixedColumnsLeft-1)&&(e=!0),e}}}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){return{key:"unfreeze_column",name:"Unfreeze this column",callback:function(){var e=this.getSelectedRange().from.col;t.unfreezeColumn(e),this.render(),this.view.wt.wtOverlays.adjustElementsSize(!0)},hidden:function(){var t=this.getSelectedRange(),e=!1;return void 0===t?e=!0:(t.from.col!==t.to.col||t.from.col>=this.getSettings().fixedColumnsLeft)&&(e=!0),e}}}},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=c(n(12)),a=n(5),s=n(1),l=c(n(238)),u=c(n(239));function c(t){return t&&t.__esModule?t:{default:t}}n(296);var h=new WeakMap,d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return h.set(n,{moveByFreeze:!1,afterFirstUse:!1}),n.frozenColumnsBasePositions=[],n.manualColumnMovePlugin=void 0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),o(e,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnFreeze}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.addHook("afterContextMenuDefaultOptions",function(e){return t.addContextMenuEntry(e)}),this.addHook("afterInit",function(){return t.onAfterInit()}),this.addHook("beforeColumnMove",function(e,n){return t.onBeforeColumnMove(e,n)}),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){var t=h.get(this);t.afterFirstUse=!1,t.moveByFreeze=!1,r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updatePlugin",this).call(this)}},{key:"freezeColumn",value:function(t){var e=h.get(this),n=this.hot.getSettings();e.afterFirstUse||(e.afterFirstUse=!0),n.fixedColumnsLeft===this.hot.countCols()||t<=n.fixedColumnsLeft-1||(e.moveByFreeze=!0,t!==this.getMovePlugin().columnsMapper.getValueByIndex(t)&&(this.frozenColumnsBasePositions[n.fixedColumnsLeft]=t),this.getMovePlugin().moveColumn(t,n.fixedColumnsLeft++))}},{key:"unfreezeColumn",value:function(t){var e=h.get(this),n=this.hot.getSettings();if(e.afterFirstUse||(e.afterFirstUse=!0),!(n.fixedColumnsLeft<=0||t>n.fixedColumnsLeft-1)){var o=this.getBestColumnReturnPosition(t);e.moveByFreeze=!0,n.fixedColumnsLeft--,this.getMovePlugin().moveColumn(t,o+1)}}},{key:"getMovePlugin",value:function(){return this.manualColumnMovePlugin||(this.manualColumnMovePlugin=this.hot.getPlugin("manualColumnMove")),this.manualColumnMovePlugin}},{key:"getBestColumnReturnPosition",value:function(t){var e=this.getMovePlugin(),n=this.hot.getSettings().fixedColumnsLeft,o=e.columnsMapper.getValueByIndex(n),r=void 0;if(null==this.frozenColumnsBasePositions[t])for(r=e.columnsMapper.getValueByIndex(t);o<r;)n++,o=e.columnsMapper.getValueByIndex(n);else{for(r=this.frozenColumnsBasePositions[t],this.frozenColumnsBasePositions[t]=void 0;o<=r;)n++,o=e.columnsMapper.getValueByIndex(n);n=o}return n-1}},{key:"addContextMenuEntry",value:function(t){t.items.push({name:"---------"},(0,l.default)(this),(0,u.default)(this))}},{key:"onAfterInit",value:function(){this.getMovePlugin().isEnabled()||this.getMovePlugin().enablePlugin()}},{key:"onBeforeColumnMove",value:function(t,e){var n=h.get(this);if(n.afterFirstUse&&!n.moveByFreeze){var o=this.hot.getSettings().fixedColumnsLeft,r=e<o;if(r||(0,s.arrayEach)(t,function(t,e,n){if(t<o)return r=!0,!1}),r)return!1}n.moveByFreeze&&(n.moveByFreeze=!1)}},{key:"destroy",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}();(0,a.registerPlugin)("manualColumnFreeze",d),e.default=d},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=(o=n(149))&&o.__esModule?o:{default:o},a=n(1),s=n(2),l=n(6),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.manualColumnMove=e}return r(t,[{key:"createMap",value:function(t){var e=this,n=void 0===t?this._arrayMap.length:t;this._arrayMap.length=0,(0,l.rangeEach)(n-1,function(t){e._arrayMap[t]=t})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveColumn",value:function(t,e){var n=this._arrayMap[t];this._arrayMap[t]=null,this._arrayMap.splice(e,0,n)}},{key:"clearNull",value:function(){this._arrayMap=(0,a.arrayFilter)(this._arrayMap,function(t){return null!==t})}}]),t}();(0,s.mixin)(u,i.default),e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=v(n(12)),a=v(n(8)),s=n(1),l=n(0),u=n(6),c=v(n(4)),h=n(5),d=v(n(241)),f=v(n(243)),p=v(n(244)),g=n(11);function v(t){return t&&t.__esModule?t:{default:t}}n(297),a.default.getSingleton().register("beforeColumnMove"),a.default.getSingleton().register("afterColumnMove"),a.default.getSingleton().register("unmodifyCol");var m=new WeakMap,y=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return m.set(n,{columnsToMove:[],countCols:0,fixedColumns:0,pressed:void 0,disallowMoving:void 0,target:{eventPageX:void 0,coords:void 0,TD:void 0,col:void 0}}),n.removedColumns=[],n.columnsMapper=new d.default(n),n.eventManager=new c.default(n),n.backlight=new f.default(t),n.guideline=new p.default(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),o(e,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualColumnMove}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(e,n,o,r){return t.onBeforeOnCellMouseDown(e,n,o,r)}),this.addHook("beforeOnCellMouseOver",function(e,n,o,r){return t.onBeforeOnCellMouseOver(e,n,o,r)}),this.addHook("afterScrollVertically",function(){return t.onAfterScrollVertically()}),this.addHook("modifyCol",function(e,n){return t.onModifyCol(e,n)}),this.addHook("beforeRemoveCol",function(e,n){return t.onBeforeRemoveCol(e,n)}),this.addHook("afterRemoveCol",function(e,n){return t.onAfterRemoveCol(e,n)}),this.addHook("afterCreateCol",function(e,n){return t.onAfterCreateCol(e,n)}),this.addHook("afterLoadData",function(e){return t.onAfterLoadData(e)}),this.addHook("unmodifyCol",function(e){return t.onUnmodifyCol(e)}),this.registerEvents(),(0,l.addClass)(this.hot.rootElement,"ht__manualColumnMove"),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var t=this.hot.getSettings().manualColumnMove;Array.isArray(t)&&this.columnsMapper.clearMap(),(0,l.removeClass)(this.hot.rootElement,"ht__manualColumnMove"),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"moveColumn",value:function(t,e){this.moveColumns([t],e)}},{key:"moveColumns",value:function(t,e){var n=this,o=m.get(this),r=this.hot.runHooks("beforeColumnMove",t,e);o.disallowMoving=!r,!1!==r&&((0,s.arrayEach)(t,function(t,e,o){o[e]=n.columnsMapper.getValueByIndex(t)}),(0,s.arrayEach)(t,function(t,o){var r=n.columnsMapper.getIndexByValue(t);r!==e&&n.columnsMapper.moveColumn(r,e+o)}),this.columnsMapper.clearNull()),this.hot.runHooks("afterColumnMove",t,e)}},{key:"changeSelection",value:function(t,e){var n=this.hot.selection,o=this.hot.countRows()-1;n.setRangeStartOnly(new g.CellCoords(0,t)),n.setRangeEnd(new g.CellCoords(o,e),!1)}},{key:"getColumnsWidth",value:function(t,e){for(var n=0,o=t;o<e;o++)n+=o<0?this.hot.view.wt.wtTable.getColumnWidth(o)||0:this.hot.view.wt.wtTable.getStretchedColumnWidth(o)||0;return n}},{key:"initialSettings",value:function(){var t=this.hot.getSettings().manualColumnMove;Array.isArray(t)?this.moveColumns(t,0):void 0!==t&&this.persistentStateLoad()}},{key:"isFixedColumnsLeft",value:function(t){return t<this.hot.getSettings().fixedColumnsLeft}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualColumnMove",this.columnsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var t={};this.hot.runHooks("persistentStateLoad","manualColumnMove",t),t.value&&(this.columnsMapper._arrayMap=t.value)}},{key:"prepareColumnsToMoving",value:function(t,e){var n=[];return(0,u.rangeEach)(t,e,function(t){n.push(t)}),n}},{key:"refreshPositions",value:function(){var t=m.get(this),e=this.hot.view.wt.wtTable.getFirstVisibleColumn(),n=this.hot.view.wt.wtTable.getLastVisibleColumn(),o=this.hot.view.wt.wtTable,r=this.hot.view.wt.wtOverlays.scrollableElement,i="number"==typeof r.scrollX?r.scrollX:r.scrollLeft,a=this.hot.view.THEAD.offsetLeft+this.getColumnsWidth(0,t.coordsColumn),s=t.target.eventPageX-(t.rootElementOffset-(void 0===r.scrollX?i:0)),l=o.hider.offsetWidth,u=o.TBODY.offsetLeft,c=this.backlight.getOffset().left,h=this.backlight.getSize().width,d=0;if(t.rootElementOffset+o.holder.offsetWidth+i<t.target.eventPageX&&t.coordsColumn<t.countCols&&t.coordsColumn++,t.hasRowHeaders&&(d=this.hot.view.wt.wtOverlays.leftOverlay.clone.wtTable.getColumnHeader(-1).offsetWidth),this.isFixedColumnsLeft(t.coordsColumn)&&(a+=i),a+=d,t.coordsColumn<0)t.fixedColumns>0?t.target.col=0:t.target.col=e>0?e-1:e;else if(t.target.TD.offsetWidth/2+a<=s){var f=t.coordsColumn>=t.countCols?t.countCols-1:t.coordsColumn;t.target.col=f+1,a+=t.target.TD.offsetWidth,t.target.col>n&&this.hot.scrollViewportTo(void 0,n+1,void 0,!0)}else t.target.col=t.coordsColumn,t.target.col<=e&&t.target.col>=t.fixedColumns&&this.hot.scrollViewportTo(void 0,e-1);t.target.col<=e&&t.target.col>=t.fixedColumns&&this.hot.scrollViewportTo(void 0,e-1);var p=s,g=a;s+h+c>=l?p=l-h-c:s+c<u+d&&(p=u+d+Math.abs(c)),a>=l-1?g=l-1:0===g?g=1:void 0!==r.scrollX&&t.coordsColumn<t.fixedColumns&&(g-=t.rootElementOffset<=r.scrollX?t.rootElementOffset:0),this.backlight.setPosition(null,p),this.guideline.setPosition(null,g)}},{key:"updateColumnsMapper",value:function(){var t=this.hot.countSourceCols(),e=this.columnsMapper._arrayMap.length;if(0===e)this.columnsMapper.createMap(t||this.hot.getSettings().startCols);else if(e<t){var n=t-e;this.columnsMapper.insertItems(e,n)}else if(e>t){var o=t-1,r=[];(0,s.arrayEach)(this.columnsMapper._arrayMap,function(t,e,n){t>o&&r.push(e)}),this.columnsMapper.removeItems(r)}}},{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return t.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeOnCellMouseDown",value:function(t,e,n,o){var r=this.hot.view.wt.wtTable,i=this.hot.selection.selectedHeader.cols,a=this.hot.getSelectedRange(),s=m.get(this),u=t.realTarget.className.indexOf("columnSorting")>-1;if(!a||!i||s.pressed||0!==t.button||u)return s.pressed=!1,s.columnsToMove.length=0,void(0,l.removeClass)(this.hot.rootElement,["on-moving--columns","show-ui"]);var c=this.guideline.isBuilt()&&!this.guideline.isAppended(),h=this.backlight.isBuilt()&&!this.backlight.isAppended();c&&h&&(this.guideline.appendTo(r.hider),this.backlight.appendTo(r.hider));var d=a.from,f=a.to,p=Math.min(d.col,f.col),g=Math.max(d.col,f.col);if(e.row<0&&e.col>=p&&e.col<=g){o.column=!0,s.pressed=!0,s.target.eventPageX=t.pageX,s.coordsColumn=e.col,s.target.TD=n,s.target.col=e.col,s.columnsToMove=this.prepareColumnsToMoving(p,g),s.hasRowHeaders=!!this.hot.getSettings().rowHeaders,s.countCols=this.hot.countCols(),s.fixedColumns=this.hot.getSettings().fixedColumnsLeft,s.rootElementOffset=(0,l.offset)(this.hot.rootElement).left;var v=s.hasRowHeaders?-1:0,y=r.holder.scrollTop+r.getColumnHeaderHeight(0)+1,w=e.col<s.fixedColumns,b=this.hot.view.wt.wtOverlays.scrollableElement,C=b.scrollX?b.scrollX-s.rootElementOffset:0,k=t.layerX-(w?C:0),S=Math.abs(this.getColumnsWidth(p,e.col)+k);this.backlight.setPosition(y,this.getColumnsWidth(v,p)+S),this.backlight.setSize(this.getColumnsWidth(p,g+1),r.hider.offsetHeight-y),this.backlight.setOffset(null,-1*S),(0,l.addClass)(this.hot.rootElement,"on-moving--columns")}else(0,l.removeClass)(this.hot.rootElement,"after-selection--columns"),s.pressed=!1,s.columnsToMove.length=0}},{key:"onMouseMove",value:function(t){var e=m.get(this);if(e.pressed){if(t.realTarget===this.backlight.element){var n=this.backlight.getSize().width;this.backlight.setSize(0),setTimeout(function(){this.backlight.setPosition(n)})}e.target.eventPageX=t.pageX,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(t,e,n,o){var r=this.hot.getSelectedRange(),i=m.get(this);r&&i.pressed&&(i.columnsToMove.indexOf(e.col)>-1?(0,l.removeClass)(this.hot.rootElement,"show-ui"):(0,l.addClass)(this.hot.rootElement,"show-ui"),o.row=!0,o.column=!0,o.cell=!0,i.coordsColumn=e.col,i.target.TD=n)}},{key:"onMouseUp",value:function(){var t=m.get(this);if(t.coordsColumn=void 0,t.pressed=!1,t.backlightWidth=0,(0,l.removeClass)(this.hot.rootElement,["on-moving--columns","show-ui","after-selection--columns"]),this.hot.selection.selectedHeader.cols&&(0,l.addClass)(this.hot.rootElement,"after-selection--columns"),!(t.columnsToMove.length<1||void 0===t.target.col||t.columnsToMove.indexOf(t.target.col)>-1)){if(this.moveColumns(t.columnsToMove,t.target.col),this.persistentStateSave(),this.hot.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),!t.disallowMoving){var e=this.columnsMapper.getIndexByValue(t.columnsToMove[0]),n=this.columnsMapper.getIndexByValue(t.columnsToMove[t.columnsToMove.length-1]);this.changeSelection(e,n)}t.columnsToMove.length=0}}},{key:"onAfterScrollVertically",value:function(){var t=this.hot.view.wt.wtTable,e=t.getColumnHeaderHeight(0)+1+t.holder.scrollTop;this.backlight.setPosition(e),this.backlight.setSize(null,t.hider.offsetHeight-e)}},{key:"onAfterCreateCol",value:function(t,e){this.columnsMapper.shiftItems(t,e)}},{key:"onBeforeRemoveCol",value:function(t,e){var n=this;this.removedColumns.length=0,!1!==t&&(0,u.rangeEach)(t,t+e-1,function(t){n.removedColumns.push(n.hot.runHooks("modifyCol",t,n.pluginName))})}},{key:"onAfterRemoveCol",value:function(t,e){this.columnsMapper.unshiftItems(this.removedColumns)}},{key:"onAfterLoadData",value:function(t){this.updateColumnsMapper()}},{key:"onModifyCol",value:function(t,e){if(e!==this.pluginName){var n=this.columnsMapper.getValueByIndex(t);t=null===n?t:n}return t}},{key:"onUnmodifyCol",value:function(t){var e=this.columnsMapper.getIndexByValue(t);return null===e?t:e}},{key:"onAfterPluginsInitialized",value:function(){this.updateColumnsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}();(0,h.registerPlugin)("ManualColumnMove",y),e.default=y},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=(o=n(151))&&o.__esModule?o:{default:o},a=n(0),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"build",value:function(){(function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"build",this).call(this),(0,a.addClass)(this._element,"ht__manualColumnMove--backlight")}}]),e}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=(o=n(151))&&o.__esModule?o:{default:o},a=n(0),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"build",value:function(){(function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"build",this).call(this),(0,a.addClass)(this._element,"ht__manualColumnMove--guideline")}}]),e}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=d(n(12)),a=n(0),s=d(n(4)),l=n(7),u=n(1),c=n(6),h=n(5);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.currentTH=null,n.currentCol=null,n.selectedCols=[],n.currentWidth=null,n.newSize=null,n.startY=null,n.startWidth=null,n.startOffset=null,n.handle=document.createElement("DIV"),n.guide=document.createElement("DIV"),n.eventManager=new s.default(n),n.pressed=null,n.dblclick=0,n.autoresizeTimeout=null,n.manualColumnWidths=[],(0,a.addClass)(n.handle,"manualColumnResizer"),(0,a.addClass)(n.guide,"manualColumnResizerGuide"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),o(e,[{key:"isEnabled",value:function(){return this.hot.getSettings().manualColumnResize}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){this.manualColumnWidths=[];var n=this.hot.getSettings().manualColumnResize,o=this.loadManualColumnWidths();this.addHook("modifyColWidth",function(e,n){return t.onModifyColWidth(e,n)}),this.addHook("beforeStretchingColumnWidth",function(e,n){return t.onBeforeStretchingColumnWidth(e,n)}),this.addHook("beforeColumnResize",function(e,n,o){return t.onBeforeColumnResize(e,n,o)}),void 0!==o?this.manualColumnWidths=o:Array.isArray(n)?this.manualColumnWidths=n:this.manualColumnWidths=[],this.bindEvents(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var t=this.hot.getSettings().manualColumnResize;Array.isArray(t)?this.manualColumnWidths=t:t||(this.manualColumnWidths=[])}},{key:"disablePlugin",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"saveManualColumnWidths",value:function(){this.hot.runHooks("persistentStateSave","manualColumnWidths",this.manualColumnWidths)}},{key:"loadManualColumnWidths",value:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualColumnWidths",t),t.value}},{key:"setupHandlePosition",value:function(t){var e=this;if(!t.parentNode)return!1;this.currentTH=t;var n=this.hot.view.wt.wtTable.getCoords(t).col,o=(0,a.outerHeight)(this.currentTH);if(n>=0){var r=this.currentTH.getBoundingClientRect();if(this.currentCol=n,this.selectedCols=[],this.hot.selection.isSelected()&&this.hot.selection.selectedHeader.cols){var i=this.hot.getSelectedRange(),s=i.from,l=i.to,u=s.col,h=l.col;u>=h&&(u=l.col,h=s.col),this.currentCol>=u&&this.currentCol<=h?(0,c.rangeEach)(u,h,function(t){return e.selectedCols.push(t)}):this.selectedCols.push(this.currentCol)}else this.selectedCols.push(this.currentCol);this.startOffset=r.left-6,this.startWidth=parseInt(r.width,10),this.handle.style.top=r.top+"px",this.handle.style.left=this.startOffset+this.startWidth+"px",this.handle.style.height=o+"px",this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.left=this.startOffset+this.currentWidth+"px"}},{key:"setupGuidePosition",value:function(){var t=parseInt((0,a.outerHeight)(this.handle),10),e=parseInt(this.handle.style.top,10)+t,n=parseInt(this.hot.view.maximumVisibleElementHeight(0),10);(0,a.addClass)(this.handle,"active"),(0,a.addClass)(this.guide,"active"),this.guide.style.top=e+"px",this.guide.style.left=this.handle.style.left,this.guide.style.height=n-t+"px",this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.left=this.handle.style.left}},{key:"hideHandleAndGuide",value:function(){(0,a.removeClass)(this.handle,"active"),(0,a.removeClass)(this.guide,"active")}},{key:"checkIfColumnHeader",value:function(t){if(t!=this.hot.rootElement){var e=t.parentNode;return"THEAD"===e.tagName||this.checkIfColumnHeader(e)}return!1}},{key:"getTHFromTargetElement",value:function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:this.getTHFromTargetElement(t.parentNode):null}},{key:"onMouseOver",value:function(t){if(this.checkIfColumnHeader(t.target)){var e=this.getTHFromTargetElement(t.target);if(!e)return;var n=e.getAttribute("colspan");!e||null!==n&&1!==n||this.pressed||this.setupHandlePosition(e)}}},{key:"afterMouseDownTimeout",value:function(){var t=this,e=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(n,o){var r=t.hot.runHooks("beforeColumnResize",n,t.newSize,!0);void 0!==r&&(t.newSize=r),"all"===t.hot.getSettings().stretchH?t.clearManualSize(n):t.setManualSize(n,t.newSize),o&&e(),t.saveManualColumnWidths(),t.hot.runHooks("afterColumnResize",n,t.newSize,!0)};this.dblclick>=2&&(this.selectedCols.length>1?((0,u.arrayEach)(this.selectedCols,function(t){n(t)}),e()):(0,u.arrayEach)(this.selectedCols,function(t){n(t,!0)})),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(t){var e=this;(0,a.hasClass)(t.target,"manualColumnResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return e.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startX=(0,l.pageX)(t),this.newSize=this.startWidth)}},{key:"onMouseMove",value:function(t){var e=this;this.pressed&&(this.currentWidth=this.startWidth+((0,l.pageX)(t)-this.startX),(0,u.arrayEach)(this.selectedCols,function(t){e.newSize=e.setManualSize(t,e.currentWidth)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(t){var e=this,n=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.wt.wtOverlays.adjustElementsSize(!0)},o=function(t,o){e.hot.runHooks("beforeColumnResize",t,e.newSize),o&&n(),e.saveManualColumnWidths(),e.hot.runHooks("afterColumnResize",t,e.newSize)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startWidth&&(this.selectedCols.length>1?((0,u.arrayEach)(this.selectedCols,function(t){o(t)}),n()):(0,u.arrayEach)(this.selectedCols,function(t){o(t,!0)})),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return t.onMouseUp(e)})}},{key:"setManualSize",value:function(t,e){return e=Math.max(e,20),t=this.hot.runHooks("modifyCol",t),this.manualColumnWidths[t]=e,e}},{key:"clearManualSize",value:function(t){t=this.hot.runHooks("modifyCol",t),this.manualColumnWidths[t]=void 0}},{key:"onModifyColWidth",value:function(t,e){return this.enabled&&(e=this.hot.runHooks("modifyCol",e),this.hot.getSettings().manualColumnResize&&this.manualColumnWidths[e])?this.manualColumnWidths[e]:t}},{key:"onBeforeStretchingColumnWidth",value:function(t,e){var n=this.manualColumnWidths[e];return void 0===n&&(n=t),n}},{key:"onBeforeColumnResize",value:function(){this.hot.view.wt.wtViewport.hasOversizedColumnHeadersMarked={}}}]),e}();(0,h.registerPlugin)("manualColumnResize",f),e.default=f},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=v(n(12)),a=v(n(8)),s=n(1),l=n(0),u=n(6),c=v(n(4)),h=n(5),d=v(n(247)),f=v(n(248)),p=v(n(249)),g=n(11);function v(t){return t&&t.__esModule?t:{default:t}}n(298),a.default.getSingleton().register("beforeRowMove"),a.default.getSingleton().register("afterRowMove"),a.default.getSingleton().register("unmodifyRow");var m=new WeakMap,y=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return m.set(n,{rowsToMove:[],pressed:void 0,disallowMoving:void 0,target:{eventPageY:void 0,coords:void 0,TD:void 0,row:void 0}}),n.removedRows=[],n.rowsMapper=new d.default(n),n.eventManager=new c.default(n),n.backlight=new f.default(t),n.guideline=new p.default(t),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),o(e,[{key:"isEnabled",value:function(){return!!this.hot.getSettings().manualRowMove}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.addHook("beforeOnCellMouseDown",function(e,n,o,r){return t.onBeforeOnCellMouseDown(e,n,o,r)}),this.addHook("beforeOnCellMouseOver",function(e,n,o,r){return t.onBeforeOnCellMouseOver(e,n,o,r)}),this.addHook("afterScrollHorizontally",function(){return t.onAfterScrollHorizontally()}),this.addHook("modifyRow",function(e,n){return t.onModifyRow(e,n)}),this.addHook("beforeRemoveRow",function(e,n){return t.onBeforeRemoveRow(e,n)}),this.addHook("afterRemoveRow",function(e,n){return t.onAfterRemoveRow(e,n)}),this.addHook("afterCreateRow",function(e,n){return t.onAfterCreateRow(e,n)}),this.addHook("afterLoadData",function(e){return t.onAfterLoadData(e)}),this.addHook("beforeColumnSort",function(e,n){return t.onBeforeColumnSort(e,n)}),this.addHook("unmodifyRow",function(e){return t.onUnmodifyRow(e)}),this.registerEvents(),(0,l.addClass)(this.hot.rootElement,"ht__manualRowMove"),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.disablePlugin(),this.enablePlugin(),this.onAfterPluginsInitialized(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){var t=this.hot.getSettings().manualRowMove;Array.isArray(t)&&this.rowsMapper.clearMap(),(0,l.removeClass)(this.hot.rootElement,"ht__manualRowMove"),this.unregisterEvents(),this.backlight.destroy(),this.guideline.destroy(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"moveRow",value:function(t,e){this.moveRows([t],e)}},{key:"moveRows",value:function(t,e){var n=this,o=m.get(this),r=this.hot.runHooks("beforeRowMove",t,e);o.disallowMoving=!1===r,o.disallowMoving||((0,s.arrayEach)(t,function(t,e,o){o[e]=n.rowsMapper.getValueByIndex(t)}),(0,s.arrayEach)(t,function(t,o){var r=n.rowsMapper.getIndexByValue(t);r!==e&&n.rowsMapper.moveRow(r,e+o)}),this.rowsMapper.clearNull()),this.hot.runHooks("afterRowMove",t,e)}},{key:"changeSelection",value:function(t,e){var n=this.hot.selection,o=this.hot.countCols()-1;n.setRangeStartOnly(new g.CellCoords(t,0)),n.setRangeEnd(new g.CellCoords(e,o),!1)}},{key:"getRowsHeight",value:function(t,e){for(var n=0,o=t;o<e;o++)n+=this.hot.view.wt.wtTable.getRowHeight(o)||23;return n}},{key:"initialSettings",value:function(){var t=this.hot.getSettings().manualRowMove;if(Array.isArray(t))this.moveRows(t,0);else if(void 0!==t){var e=this.persistentStateLoad();e.length&&this.moveRows(e,0)}}},{key:"isFixedRowTop",value:function(t){return t<this.hot.getSettings().fixedRowsTop}},{key:"isFixedRowBottom",value:function(t){return t>this.hot.getSettings().fixedRowsBottom}},{key:"persistentStateSave",value:function(){this.hot.runHooks("persistentStateSave","manualRowMove",this.rowsMapper._arrayMap)}},{key:"persistentStateLoad",value:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualRowMove",t),t.value?t.value:[]}},{key:"prepareRowsToMoving",value:function(){var t=this.hot.getSelectedRange(),e=[];if(!t)return e;var n=t.from,o=t.to,r=Math.min(n.row,o.row),i=Math.max(n.row,o.row);return(0,u.rangeEach)(r,i,function(t){e.push(t)}),e}},{key:"refreshPositions",value:function(){var t=m.get(this),e=t.target.coords,n=this.hot.view.wt.wtTable.getFirstVisibleRow(),o=this.hot.view.wt.wtTable.getLastVisibleRow(),r=this.hot.getSettings().fixedRowsTop,i=this.hot.countRows();e.row<r&&n>0&&this.hot.scrollViewportTo(n-1),e.row>=o&&o<i&&this.hot.scrollViewportTo(o+1,void 0,!0);var a=this.hot.view.wt.wtTable,s=t.target.TD,u=(0,l.offset)(this.hot.rootElement),c=this.hot.view.THEAD.offsetHeight+this.getRowsHeight(0,e.row),h=t.target.eventPageY-u.top+a.holder.scrollTop,d=a.hider.offsetHeight,f=a.TBODY.offsetTop,p=this.backlight.getOffset().top,g=this.backlight.getSize().height;u.top+a.holder.offsetHeight<t.target.eventPageY&&t.target.coords.row++,this.isFixedRowTop(e.row)&&(c+=a.holder.scrollTop),e.row<0?t.target.row=n>0?n-1:n:s.offsetHeight/2+c<=h?(t.target.row=e.row+1,c+=0===e.row?s.offsetHeight-1:s.offsetHeight):t.target.row=e.row;var v=h,y=c;h+g+p>=d?v=d-g-p:h+p<f&&(v=f+Math.abs(p)),c>=d-1&&(y=d-1);var w=0;this.hot.view.wt.wtOverlays.topOverlay&&(w=this.hot.view.wt.wtOverlays.topOverlay.clone.wtTable.TABLE.offsetHeight),e.row>=r&&y-a.holder.scrollTop<w&&this.hot.scrollViewportTo(e.row),this.backlight.setPosition(v),this.guideline.setPosition(y)}},{key:"updateRowsMapper",value:function(){var t=this.hot.countSourceRows(),e=this.rowsMapper._arrayMap.length;if(0===e)this.rowsMapper.createMap(t||this.hot.getSettings().startRows);else if(e<t){var n=t-e;this.rowsMapper.insertItems(e,n)}else if(e>t){var o=t-1,r=[];(0,s.arrayEach)(this.rowsMapper._arrayMap,function(t,e,n){t>o&&r.push(e)}),this.rowsMapper.removeItems(r)}}},{key:"registerEvents",value:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(document.documentElement,"mouseup",function(){return t.onMouseUp()})}},{key:"unregisterEvents",value:function(){this.eventManager.clear()}},{key:"onBeforeColumnSort",value:function(t,e){m.get(this).disallowMoving=void 0!==e}},{key:"onBeforeOnCellMouseDown",value:function(t,e,n,o){var r=this.hot.view.wt.wtTable,i=this.hot.selection.selectedHeader.rows,a=this.hot.getSelectedRange(),s=m.get(this);if(!a||!i||s.pressed||0!==t.button)return s.pressed=!1,s.rowsToMove.length=0,void(0,l.removeClass)(this.hot.rootElement,["on-moving--rows","show-ui"]);var u=this.guideline.isBuilt()&&!this.guideline.isAppended(),c=this.backlight.isBuilt()&&!this.backlight.isAppended();u&&c&&(this.guideline.appendTo(r.hider),this.backlight.appendTo(r.hider));var h=a.from,d=a.to,f=Math.min(h.row,d.row),p=Math.max(h.row,d.row);if(e.col<0&&e.row>=f&&e.row<=p){o.row=!0,s.pressed=!0,s.target.eventPageY=t.pageY,s.target.coords=e,s.target.TD=n,s.rowsToMove=this.prepareRowsToMoving();var g=r.holder.scrollLeft+r.getColumnWidth(-1);this.backlight.setPosition(null,g),this.backlight.setSize(r.hider.offsetWidth-g,this.getRowsHeight(f,p+1)),this.backlight.setOffset(-1*(this.getRowsHeight(f,e.row)+t.layerY),null),(0,l.addClass)(this.hot.rootElement,"on-moving--rows"),this.refreshPositions()}else(0,l.removeClass)(this.hot.rootElement,"after-selection--rows"),s.pressed=!1,s.rowsToMove.length=0}},{key:"onMouseMove",value:function(t){var e=m.get(this);if(e.pressed){if(t.realTarget===this.backlight.element){var n=this.backlight.getSize().height;this.backlight.setSize(null,0),setTimeout(function(){this.backlight.setPosition(null,n)})}e.target.eventPageY=t.pageY,this.refreshPositions()}}},{key:"onBeforeOnCellMouseOver",value:function(t,e,n,o){var r=this.hot.getSelectedRange(),i=m.get(this);r&&i.pressed&&(i.rowsToMove.indexOf(e.row)>-1?(0,l.removeClass)(this.hot.rootElement,"show-ui"):(0,l.addClass)(this.hot.rootElement,"show-ui"),o.row=!0,o.column=!0,o.cell=!0,i.target.coords=e,i.target.TD=n)}},{key:"onMouseUp",value:function(){var t=m.get(this),e=t.target.row,n=t.rowsToMove.length;if(t.pressed=!1,t.backlightHeight=0,(0,l.removeClass)(this.hot.rootElement,["on-moving--rows","show-ui","after-selection--rows"]),this.hot.selection.selectedHeader.rows&&(0,l.addClass)(this.hot.rootElement,"after-selection--rows"),!(n<1||void 0===e||t.rowsToMove.indexOf(e)>-1||t.rowsToMove[n-1]===e-1)){if(this.moveRows(t.rowsToMove,e),this.persistentStateSave(),this.hot.render(),!t.disallowMoving){var o=this.rowsMapper.getIndexByValue(t.rowsToMove[0]),r=this.rowsMapper.getIndexByValue(t.rowsToMove[n-1]);this.changeSelection(o,r)}t.rowsToMove.length=0}}},{key:"onAfterScrollHorizontally",value:function(){var t=this.hot.view.wt.wtTable,e=t.getColumnWidth(-1)+t.holder.scrollLeft;this.backlight.setPosition(null,e),this.backlight.setSize(t.hider.offsetWidth-e)}},{key:"onAfterCreateRow",value:function(t,e){this.rowsMapper.shiftItems(t,e)}},{key:"onBeforeRemoveRow",value:function(t,e){var n=this;this.removedRows.length=0,!1!==t&&(0,u.rangeEach)(t,t+e-1,function(t){n.removedRows.push(n.hot.runHooks("modifyRow",t,n.pluginName))})}},{key:"onAfterRemoveRow",value:function(t,e){this.rowsMapper.unshiftItems(this.removedRows)}},{key:"onAfterLoadData",value:function(t){this.updateRowsMapper()}},{key:"onModifyRow",value:function(t,e){if(e!==this.pluginName){var n=this.rowsMapper.getValueByIndex(t);t=null===n?t:n}return t}},{key:"onUnmodifyRow",value:function(t){var e=this.rowsMapper.getIndexByValue(t);return null===e?t:e}},{key:"onAfterPluginsInitialized",value:function(){this.updateRowsMapper(),this.initialSettings(),this.backlight.build(),this.guideline.build()}},{key:"destroy",value:function(){this.backlight.destroy(),this.guideline.destroy(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}}]),e}();(0,h.registerPlugin)("ManualRowMove",y),e.default=y},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=(o=n(149))&&o.__esModule?o:{default:o},a=n(1),s=n(2),l=n(6),u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.manualRowMove=e}return r(t,[{key:"createMap",value:function(t){var e=this,n=void 0===t?this._arrayMap.length:t;this._arrayMap.length=0,(0,l.rangeEach)(n-1,function(t){e._arrayMap[t]=t})}},{key:"destroy",value:function(){this._arrayMap=null}},{key:"moveRow",value:function(t,e){var n=this._arrayMap[t];this._arrayMap[t]=null,this._arrayMap.splice(e,0,n)}},{key:"clearNull",value:function(){this._arrayMap=(0,a.arrayFilter)(this._arrayMap,function(t){return null!==t})}}]),t}();(0,s.mixin)(u,i.default),e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=(o=n(152))&&o.__esModule?o:{default:o},a=n(0),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"build",value:function(){(function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"build",this).call(this),(0,a.addClass)(this._element,"ht__manualRowMove--backlight")}}]),e}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=(o=n(152))&&o.__esModule?o:{default:o},a=n(0),s=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"build",value:function(){(function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"build",this).call(this),(0,a.addClass)(this._element,"ht__manualRowMove--guideline")}}]),e}();e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=d(n(12)),a=n(0),s=d(n(4)),l=n(7),u=n(1),c=n(6),h=n(5);function d(t){return t&&t.__esModule?t:{default:t}}var f=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.currentTH=null,n.currentRow=null,n.selectedRows=[],n.currentHeight=null,n.newSize=null,n.startY=null,n.startHeight=null,n.startOffset=null,n.handle=document.createElement("DIV"),n.guide=document.createElement("DIV"),n.eventManager=new s.default(n),n.pressed=null,n.dblclick=0,n.autoresizeTimeout=null,n.manualRowHeights=[],(0,a.addClass)(n.handle,"manualRowResizer"),(0,a.addClass)(n.guide,"manualRowResizerGuide"),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),o(e,[{key:"isEnabled",value:function(){return this.hot.getSettings().manualRowResize}},{key:"enablePlugin",value:function(){var t=this;if(!this.enabled){this.manualRowHeights=[];var n=this.hot.getSettings().manualRowResize,o=this.loadManualRowHeights();void 0!==o?this.manualRowHeights=o:Array.isArray(n)?this.manualRowHeights=n:this.manualRowHeights=[],this.addHook("modifyRowHeight",function(e,n){return t.onModifyRowHeight(e,n)}),this.bindEvents(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this)}}},{key:"updatePlugin",value:function(){var t=this.hot.getSettings().manualRowResize;Array.isArray(t)?this.manualRowHeights=t:t||(this.manualRowHeights=[])}},{key:"disablePlugin",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"saveManualRowHeights",value:function(){this.hot.runHooks("persistentStateSave","manualRowHeights",this.manualRowHeights)}},{key:"loadManualRowHeights",value:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualRowHeights",t),t.value}},{key:"setupHandlePosition",value:function(t){var e=this;this.currentTH=t;var n=this.hot.view.wt.wtTable.getCoords(t).row,o=(0,a.outerWidth)(this.currentTH);if(n>=0){var r=this.currentTH.getBoundingClientRect();if(this.currentRow=n,this.selectedRows=[],this.hot.selection.isSelected()&&this.hot.selection.selectedHeader.rows){var i=this.hot.getSelectedRange(),s=i.from,l=i.to,u=s.row,h=l.row;u>=h&&(u=l.row,h=s.row),this.currentRow>=u&&this.currentRow<=h?(0,c.rangeEach)(u,h,function(t){return e.selectedRows.push(t)}):this.selectedRows.push(this.currentRow)}else this.selectedRows.push(this.currentRow);this.startOffset=r.top-6,this.startHeight=parseInt(r.height,10),this.handle.style.left=r.left+"px",this.handle.style.top=this.startOffset+this.startHeight+"px",this.handle.style.width=o+"px",this.hot.rootElement.appendChild(this.handle)}}},{key:"refreshHandlePosition",value:function(){this.handle.style.top=this.startOffset+this.currentHeight+"px"}},{key:"setupGuidePosition",value:function(){var t=parseInt((0,a.outerWidth)(this.handle),10),e=parseInt(this.handle.style.left,10)+t,n=parseInt(this.hot.view.maximumVisibleElementWidth(0),10);(0,a.addClass)(this.handle,"active"),(0,a.addClass)(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left=e+"px",this.guide.style.width=n-t+"px",this.hot.rootElement.appendChild(this.guide)}},{key:"refreshGuidePosition",value:function(){this.guide.style.top=this.handle.style.top}},{key:"hideHandleAndGuide",value:function(){(0,a.removeClass)(this.handle,"active"),(0,a.removeClass)(this.guide,"active")}},{key:"checkIfRowHeader",value:function(t){if(t!=this.hot.rootElement){var e=t.parentNode;return"TBODY"===e.tagName||this.checkIfRowHeader(e)}return!1}},{key:"getTHFromTargetElement",value:function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:this.getTHFromTargetElement(t.parentNode):null}},{key:"onMouseOver",value:function(t){if(this.checkIfRowHeader(t.target)){var e=this.getTHFromTargetElement(t.target);e&&(this.pressed||this.setupHandlePosition(e))}}},{key:"afterMouseDownTimeout",value:function(){var t=this,e=function(){t.hot.forceFullRender=!0,t.hot.view.render(),t.hot.view.wt.wtOverlays.adjustElementsSize(!0)},n=function(n,o){var r=t.hot.runHooks("beforeRowResize",n,t.newSize,!0);void 0!==r&&(t.newSize=r),t.setManualSize(n,t.newSize),o&&e(),t.hot.runHooks("afterRowResize",n,t.newSize,!0)};this.dblclick>=2&&(this.selectedRows.length>1?((0,u.arrayEach)(this.selectedRows,function(t){n(t)}),e()):(0,u.arrayEach)(this.selectedRows,function(t){n(t,!0)})),this.dblclick=0,this.autoresizeTimeout=null}},{key:"onMouseDown",value:function(t){var e=this;(0,a.hasClass)(t.target,"manualRowResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null==this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return e.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startY=(0,l.pageY)(t),this.newSize=this.startHeight)}},{key:"onMouseMove",value:function(t){var e=this;this.pressed&&(this.currentHeight=this.startHeight+((0,l.pageY)(t)-this.startY),(0,u.arrayEach)(this.selectedRows,function(t){e.newSize=e.setManualSize(t,e.currentHeight)}),this.refreshHandlePosition(),this.refreshGuidePosition())}},{key:"onMouseUp",value:function(t){var e=this,n=function(){e.hot.forceFullRender=!0,e.hot.view.render(),e.hot.view.wt.wtOverlays.adjustElementsSize(!0)},o=function(t,o){e.hot.runHooks("beforeRowResize",t,e.newSize),o&&n(),e.saveManualRowHeights(),e.hot.runHooks("afterRowResize",t,e.newSize)};this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startHeight&&(this.selectedRows.length>1?((0,u.arrayEach)(this.selectedRows,function(t){o(t)}),n()):(0,u.arrayEach)(this.selectedRows,function(t){o(t,!0)})),this.setupHandlePosition(this.currentTH))}},{key:"bindEvents",value:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return t.onMouseUp(e)})}},{key:"setManualSize",value:function(t,e){return t=this.hot.runHooks("modifyRow",t),this.manualRowHeights[t]=e,e}},{key:"onModifyRowHeight",value:function(t,e){if(this.enabled){var n=this.hot.getPlugin("autoRowSize"),o=n?n.heights[e]:null;e=this.hot.runHooks("modifyRow",e);var r=this.manualRowHeights[e];if(void 0!==r&&(r===o||r>(t||0)))return r}return t}}]),e}();(0,h.registerPlugin)("manualRowResize",f),e.default=f},function(t,e,n){"use strict";e.__esModule=!0;var o,r=(o=n(8))&&o.__esModule?o:{default:o},i=(n(5),n(7)),a=n(11);function s(){var t=[];return t.getInfo=function(t,e){for(var n=0,o=this.length;n<o;n++)if(this[n].row<=t&&this[n].row+this[n].rowspan-1>=t&&this[n].col<=e&&this[n].col+this[n].colspan-1>=e)return this[n]},t.setInfo=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e].row===t.row&&this[e].col===t.col)return void(this[e]=t);this.push(t)},t.removeInfo=function(t,e){for(var n=0,o=this.length;n<o;n++)if(this[n].row===t&&this[n].col===e){this.splice(n,1);break}},t}function l(t){if(this.mergedCellInfoCollection=new s,Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.mergedCellInfoCollection.setInfo(t[e])}l.prototype.canMergeRange=function(t){return!t.isSingle()},l.prototype.mergeRange=function(t){if(this.canMergeRange(t)){var e=t.getTopLeftCorner(),n=t.getBottomRightCorner(),o={};o.row=e.row,o.col=e.col,o.rowspan=n.row-e.row+1,o.colspan=n.col-e.col+1,this.mergedCellInfoCollection.setInfo(o)}},l.prototype.mergeOrUnmergeSelection=function(t){this.mergedCellInfoCollection.getInfo(t.from.row,t.from.col)?this.unmergeSelection(t.from):this.mergeSelection(t)},l.prototype.mergeSelection=function(t){this.mergeRange(t)},l.prototype.unmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.row,t.col);this.mergedCellInfoCollection.removeInfo(e.row,e.col)},l.prototype.applySpanProperties=function(t,e,n){var o=this.mergedCellInfoCollection.getInfo(e,n);o?o.row===e&&o.col===n?(t.setAttribute("rowspan",o.rowspan),t.setAttribute("colspan",o.colspan)):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"))},l.prototype.modifyTransform=function(t,e,n){var o,r,i=function(t,e){return e.col>=t.col&&e.col<=t.col+t.colspan-1},s=function(t){return new a.CellCoords(e.to.row+t.row,e.to.col+t.col)},l={row:n.row,col:n.col};if("modifyTransformStart"==t){var u;this.lastDesiredCoords||(this.lastDesiredCoords=new a.CellCoords(null,null));for(var c=new a.CellCoords(e.highlight.row,e.highlight.col),h=this.mergedCellInfoCollection.getInfo(c.row,c.col),d=0,f=this.mergedCellInfoCollection.length;d<f;d++){var p=this.mergedCellInfoCollection[d];if(p=new a.CellCoords(p.row+p.rowspan-1,p.col+p.colspan-1),e.includes(p))break}if(h){var g=new a.CellCoords(h.row,h.col),v=new a.CellCoords(h.row+h.rowspan-1,h.col+h.colspan-1);new a.CellRange(g,g,v).includes(this.lastDesiredCoords)||(this.lastDesiredCoords=new a.CellCoords(null,null)),l.row=this.lastDesiredCoords.row?this.lastDesiredCoords.row-c.row:l.row,l.col=this.lastDesiredCoords.col?this.lastDesiredCoords.col-c.col:l.col,n.row>0?l.row=h.row+h.rowspan-1-c.row+n.row:n.row<0&&(l.row=c.row-h.row+n.row),n.col>0?l.col=h.col+h.colspan-1-c.col+n.col:n.col<0&&(l.col=c.col-h.col+n.col)}u=new a.CellCoords(e.highlight.row+l.row,e.highlight.col+l.col);var m=this.mergedCellInfoCollection.getInfo(u.row,u.col);m&&(this.lastDesiredCoords=u,l={row:m.row-c.row,col:m.col-c.col})}else if("modifyTransformEnd"==t)for(var y=0,w=this.mergedCellInfoCollection.length;y<w;y++){var b=this.mergedCellInfoCollection[y],C=new a.CellCoords(b.row,b.col),k=new a.CellCoords(b.row+b.rowspan-1,b.col+b.colspan-1),S=new a.CellRange(C,C,k),x=e.getBordersSharedWith(S);if(S.isEqual(e))e.setDirection("NW-SE");else if(x.length>0){var T=e.highlight.isEqual(S.from);x.indexOf("top")>-1?e.to.isSouthEastOf(S.from)&&T?e.setDirection("NW-SE"):e.to.isSouthWestOf(S.from)&&T&&e.setDirection("NE-SW"):x.indexOf("bottom")>-1&&(e.to.isNorthEastOf(S.from)&&T?e.setDirection("SW-NE"):e.to.isNorthWestOf(S.from)&&T&&e.setDirection("SE-NW"))}var O=(o=b,(r=u=s(l)).row>=o.row&&r.row<=o.row+o.rowspan-1),R=i(b,u);e.includesRange(S)&&(S.includes(u)||O||R)&&(O&&(l.row<0?l.row-=b.rowspan-1:l.row>0&&(l.row+=b.rowspan-1)),R&&(l.col<0?l.col-=b.colspan-1:l.col>0&&(l.col+=b.colspan-1)))}0!==l.row&&(n.row=l.row),0!==l.col&&(n.col=l.col)},l.prototype.shiftCollection=function(t,e,n){var o=[0,0];switch(t){case"right":o[0]+=1;break;case"left":o[0]-=1;break;case"down":o[1]+=1;break;case"up":o[1]-=1}for(var r=0;r<this.mergedCellInfoCollection.length;r++){var i=this.mergedCellInfoCollection[r];"right"===t||"left"===t?e<=i.col&&(i.col+=o[0]):e<=i.row&&(i.row+=o[1])}};var u=function(t){return function(e){if(this.getSettings().mergeCells){var n=this.getSelectedRange();if(this.mergeCells.modifyTransform(t,n,e),"modifyTransformEnd"===t){var o=this.countRows(),r=this.countCols();n.from.row<0?n.from.row=0:n.from.row>0&&n.from.row>=o&&(n.from.row=n.from-1),n.from.col<0?n.from.col=0:n.from.col>0&&n.from.col>=r&&(n.from.col=r-1)}}}},c=r.default.getSingleton();c.add("beforeInit",function(){var t=this.getSettings().mergeCells;t&&(this.mergeCells||(this.mergeCells=new l(t)))}),c.add("afterInit",function(){var t=this;t.mergeCells&&(t.view.wt.wtTable.getCell=function(e){if(t.getSettings().mergeCells){var n=t.mergeCells.mergedCellInfoCollection.getInfo(e.row,e.col);n&&(e=n)}return a.Table.prototype.getCell.call(this,e)})}),c.add("afterUpdateSettings",function(){var t=this.getSettings().mergeCells;if(t)if(this.mergeCells){if(this.mergeCells.mergedCellInfoCollection=new s,Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.mergeCells.mergedCellInfoCollection.setInfo(t[e])}else this.mergeCells=new l(t);else this.mergeCells&&(this.mergeCells.mergedCellInfoCollection=new s)}),c.add("beforeKeyDown",function(t){this.mergeCells&&(t.ctrlKey||t.metaKey)&&!t.altKey&&77===t.keyCode&&(this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render(),(0,i.stopImmediatePropagation)(t))}),c.add("modifyTransformStart",u("modifyTransformStart")),c.add("modifyTransformEnd",u("modifyTransformEnd")),c.add("beforeSetRangeEnd",function(t){if(this.lastDesiredCoords=null,this.getSettings().mergeCells){var e=this.getSelectedRange();e.highlight=new a.CellCoords(e.highlight.row,e.highlight.col),e.to=t;var n=!1;do{n=!1;for(var o=0,r=this.mergeCells.mergedCellInfoCollection.length;o<r;o++){var i=this.mergeCells.mergedCellInfoCollection[o],s=new a.CellCoords(i.row,i.col),l=new a.CellCoords(i.row+i.rowspan-1,i.col+i.colspan-1),u=new a.CellRange(s,s,l);e.expandByRange(u)&&(t.row=e.to.row,t.col=e.to.col,n=!0)}}while(n)}}),c.add("beforeDrawBorders",function(t,e){if(e&&"area"==e&&this.getSettings().mergeCells)for(var n=this.getSelectedRange(),o=new a.CellRange(n.from,n.from,n.from),r=new a.CellRange(n.to,n.to,n.to),i=0,s=this.mergeCells.mergedCellInfoCollection.length;i<s;i++){var l=this.mergeCells.mergedCellInfoCollection[i],u=new a.CellCoords(l.row,l.col),c=new a.CellCoords(l.row+l.rowspan-1,l.col+l.colspan-1),h=new a.CellRange(u,u,c);o.expandByRange(h)&&(t[0]=o.from.row,t[1]=o.from.col),r.expandByRange(h)&&(t[2]=r.from.row,t[3]=r.from.col)}}),c.add("afterIsMultipleSelection",function(t){if(t&&this.mergeCells){var e=this.mergeCells.mergedCellInfoCollection,n=this.getSelectedRange();for(var o in e)if(n.highlight.row==e[o].row&&n.highlight.col==e[o].col&&n.to.row==e[o].row+e[o].rowspan-1&&n.to.col==e[o].col+e[o].colspan-1)return!1}return t}),c.add("afterRenderer",function(t,e,n,o,r,i){this.mergeCells&&this.mergeCells.applySpanProperties(t,e,n)}),c.add("afterContextMenuDefaultOptions",function(t){this.getSettings().mergeCells&&(t.items.push({name:"---------"}),t.items.push({key:"mergeCells",name:function(){var t=this.getSelected();return this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1])?"Unmerge cells":"Merge cells"},callback:function(){this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render()},disabled:function(){return this.selection.selectedHeader.corner}}))}),c.add("afterGetCellMeta",function(t,e,n){if(this.getSettings().mergeCells){var o=this.mergeCells.mergedCellInfoCollection.getInfo(t,e);!o||o.row==t&&o.col==e||(n.copyable=!1)}}),c.add("afterViewportRowCalculatorOverride",function t(e){if(this.getSettings().mergeCells)for(var n,o=this.countCols(),r=0;r<o;r++){if((n=this.mergeCells.mergedCellInfoCollection.getInfo(e.startRow,r))&&n.row<e.startRow)return e.startRow=n.row,t.call(this,e);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(e.endRow,r)){var i=n.row+n.rowspan-1;if(i>e.endRow)return e.endRow=i,t.call(this,e)}}}),c.add("afterViewportColumnCalculatorOverride",function t(e){if(this.getSettings().mergeCells)for(var n,o=this.countRows(),r=0;r<o;r++){if((n=this.mergeCells.mergedCellInfoCollection.getInfo(r,e.startColumn))&&n.col<e.startColumn)return e.startColumn=n.col,t.call(this,e);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(r,e.endColumn)){var i=n.col+n.colspan-1;if(i>e.endColumn)return e.endColumn=i,t.call(this,e)}}}),c.add("modifyAutofillRange",function(t,e){if(this.getSettings().mergeCells&&!this.selection.isMultiple()){var n=this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1]);n&&(t[0]=n.row,t[1]=n.col,t[2]=n.row+n.rowspan-1,t[3]=n.col+n.colspan-1)}}),c.add("afterCreateCol",function(t,e){this.mergeCells&&this.mergeCells.shiftCollection("right",t,e)}),c.add("afterRemoveCol",function(t,e){this.mergeCells&&this.mergeCells.shiftCollection("left",t,e)}),c.add("afterCreateRow",function(t,e){this.mergeCells&&this.mergeCells.shiftCollection("down",t,e)}),c.add("afterRemoveRow",function(t,e){this.mergeCells&&this.mergeCells.shiftCollection("up",t,e)}),e.default=l},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=(c(n(8)),n(0)),i=n(25),a=c(n(12)),s=c(n(4)),l=n(5),u=n(11);function c(t){return t&&t.__esModule?t:{default:t}}var h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.dragged=[],n.eventManager=null,n.lastSetCell=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),o(e,[{key:"isEnabled",value:function(){return(0,i.isMobileBrowser)()}},{key:"enablePlugin",value:function(){this.enabled||(this.eventManager||(this.eventManager=new s.default(this)),this.registerListeners(),function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this))}},{key:"registerListeners",value:function(){var t=this;function e(e){if(1===t.dragged.length)return t.dragged.splice(0,t.dragged.length),!0;var n=t.dragged.indexOf(e);if(-1==n)return!1;0===n?t.dragged=t.dragged.slice(0,1):1==n&&(t.dragged=t.dragged.slice(-1))}this.eventManager.addEventListener(this.hot.rootElement,"touchstart",function(e){var n=void 0;return(0,r.hasClass)(e.target,"topLeftSelectionHandle-HitArea")?(n=t.hot.getSelectedRange(),t.dragged.push("topLeft"),t.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},e.preventDefault(),!1):(0,r.hasClass)(e.target,"bottomRightSelectionHandle-HitArea")?(n=t.hot.getSelectedRange(),t.dragged.push("bottomRight"),t.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},e.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchend",function(n){return(0,r.hasClass)(n.target,"topLeftSelectionHandle-HitArea")?(e.call(t,"topLeft"),t.touchStartRange=void 0,n.preventDefault(),!1):(0,r.hasClass)(n.target,"bottomRightSelectionHandle-HitArea")?(e.call(t,"bottomRight"),t.touchStartRange=void 0,n.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchmove",function(e){var n,o=(0,r.getWindowScrollTop)(),i=(0,r.getWindowScrollLeft)(),a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,h=void 0;0!==t.dragged.length&&(n=document.elementFromPoint(e.touches[0].screenX-i,e.touches[0].screenY-o))&&n!==t.lastSetCell&&("TD"!=n.nodeName&&"TH"!=n.nodeName||(-1==(a=t.hot.getCoords(n)).col&&(a.col=0),l=(s=t.hot.getSelectedRange()).getWidth(),u=s.getHeight(),c=s.getDirection(),1==l&&1==u&&t.hot.selection.setRangeEnd(a),null!==(h=t.getCurrentRangeCoords(s,a,t.touchStartRange.direction,c,t.dragged[0])).start&&t.hot.selection.setRangeStart(h.start),t.hot.selection.setRangeEnd(h.end),t.lastSetCell=n),e.preventDefault())})}},{key:"getCurrentRangeCoords",value:function(t,e,n,o,r){var i=t.getTopLeftCorner(),a=t.getBottomRightCorner(),s=t.getBottomLeftCorner(),l=t.getTopRightCorner(),c={start:null,end:null};switch(n){case"NE-SW":switch(o){case"NE-SW":case"NW-SE":c="topLeft"==r?{start:new u.CellCoords(e.row,t.highlight.col),end:new u.CellCoords(s.row,e.col)}:{start:new u.CellCoords(t.highlight.row,e.col),end:new u.CellCoords(e.row,i.col)};break;case"SE-NW":"bottomRight"==r&&(c={start:new u.CellCoords(a.row,e.col),end:new u.CellCoords(e.row,i.col)})}break;case"NW-SE":switch(o){case"NE-SW":"topLeft"==r?c={start:e,end:s}:c.end=e;break;case"NW-SE":"topLeft"==r?c={start:e,end:a}:c.end=e;break;case"SE-NW":"topLeft"==r?c={start:e,end:i}:c.end=e;break;case"SW-NE":"topLeft"==r?c={start:e,end:l}:c.end=e}break;case"SW-NE":switch(o){case"NW-SE":c="bottomRight"==r?{start:new u.CellCoords(e.row,i.col),end:new u.CellCoords(s.row,e.col)}:{start:new u.CellCoords(i.row,e.col),end:new u.CellCoords(e.row,a.col)};break;case"SW-NE":c="topLeft"==r?{start:new u.CellCoords(t.highlight.row,e.col),end:new u.CellCoords(e.row,a.col)}:{start:new u.CellCoords(e.row,i.col),end:new u.CellCoords(i.row,e.col)};break;case"SE-NW":"bottomRight"==r?c={start:new u.CellCoords(e.row,l.col),end:new u.CellCoords(i.row,e.col)}:"topLeft"==r&&(c={start:s,end:e})}break;case"SE-NW":switch(o){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==r&&(c.end=e);break;case"SE-NW":"topLeft"==r?c.end=e:c={start:e,end:i}}}return c}},{key:"isDragged",value:function(){return this.dragged.length>0}}]),e}();(0,l.registerPlugin)("multipleSelectionHandles",h),e.default=h},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=l(n(133)),i=l(n(150)),a=n(2),s=n(255);function l(t){return t&&t.__esModule?t:{default:t}}var u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.observedData=null,this.observer=null,this.paused=!1,this.setObservedData(e)}return o(t,[{key:"setObservedData",value:function(t){var e=this;this.observer&&r.default.unobserve(this.observedData,this.observer),this.observedData=t,this.observer=r.default.observe(this.observedData,function(t){return e.onChange(t)})}},{key:"isPaused",value:function(){return this.paused}},{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"onChange",value:function(t){this.runLocalHooks("change",(0,s.cleanPatches)(t))}},{key:"destroy",value:function(){r.default.unobserve(this.observedData,this.observer),this.observedData=null,this.observer=null}}]),t}();(0,a.mixin)(u,i.default),e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),r=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},i=u(n(12)),a=(u(n(133)),u(n(253))),s=n(1),l=n(5);function u(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.observer=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),o(e,[{key:"isEnabled",value:function(){return this.hot.getSettings().observeChanges}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.observer||(this.observer=new a.default(this.hot.getSourceData()),this._exposePublicApi()),this.observer.addLocalHook("change",function(e){return t.onDataChange(e)}),this.addHook("afterCreateRow",function(){return t.onAfterTableAlter()}),this.addHook("afterRemoveRow",function(){return t.onAfterTableAlter()}),this.addHook("afterCreateCol",function(){return t.onAfterTableAlter()}),this.addHook("afterRemoveCol",function(){return t.onAfterTableAlter()}),this.addHook("afterChange",function(e,n){return t.onAfterTableAlter(n)}),this.addHook("afterLoadData",function(e){return t.onAfterLoadData(e)}),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this))}},{key:"disablePlugin",value:function(){this.observer&&(this.observer.destroy(),this.observer=null,this._deletePublicApi()),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"onDataChange",value:function(t){var e=this;if(!this.observer.isPaused()){var n=this.pluginName+".change",o={add:function(t){isNaN(t.col)?e.hot.runHooks("afterCreateRow",t.row,1,n):e.hot.runHooks("afterCreateCol",t.col,1,n)},remove:function(t){isNaN(t.col)?e.hot.runHooks("afterRemoveRow",t.row,1,n):e.hot.runHooks("afterRemoveCol",t.col,1,n)},replace:function(t){e.hot.runHooks("afterChange",[t.row,t.col,null,t.value],n)}};(0,s.arrayEach)(t,function(t){o[t.op]&&o[t.op](t)}),this.hot.render()}this.hot.runHooks("afterChangesObserved")}},{key:"onAfterTableAlter",value:function(t){var e=this;"loadData"!==t&&(this.observer.pause(),this.hot.addHookOnce("afterChangesObserved",function(){return e.observer.resume()}))}},{key:"onAfterLoadData",value:function(t){t||this.observer.setObservedData(this.hot.getSourceData())}},{key:"destroy",value:function(){this.observer&&(this.observer.destroy(),this._deletePublicApi()),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"_exposePublicApi",value:function(){var t=this,e=this.hot;e.pauseObservingChanges=function(){return t.observer.pause()},e.resumeObservingChanges=function(){return t.observer.resume()},e.isPausedObservingChanges=function(){return t.observer.isPaused()}}},{key:"_deletePublicApi",value:function(){var t=this.hot;delete t.pauseObservingChanges,delete t.resumeObservingChanges,delete t.isPausedObservingChanges}}]),e}();e.default=c,(0,l.registerPlugin)("observeChanges",c)},function(t,e,n){"use strict";e.__esModule=!0;var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.cleanPatches=function(t){var e=[];return t=(0,r.arrayFilter)(t,function(t){return!/[\/]length/gi.test(t.path)&&!!i(t.path)}),t=(0,r.arrayMap)(t,function(t){var e=i(t.path);return t.row=e.row,t.col=e.col,t}),t=(0,r.arrayFilter)(t,function(t){if(-1!==["add","remove"].indexOf(t.op)&&!isNaN(t.col)){if(-1!==e.indexOf(t.col))return!1;e.push(t.col)}return!0}),e.length=0,t},e.parsePath=i;var r=n(1);function i(t){var e=t.match(/^\/(\d+)\/?(.*)?$/);if(!e)return null;var n=o(e,3),r=n[1],i=n[2];return{row:parseInt(r,10),col:/^\d*$/.test(i)?parseInt(i,10):i}}},function(t,e,n){"use strict";e.__esModule=!0;var o,r=(o=n(8))&&o.__esModule?o:{default:o},i=(n(5),n(2));function a(t){var e,n,o,r=function(){window.localStorage[t+"__persistentStateKeys"]=JSON.stringify(e)};o="string"==typeof(n=window.localStorage[t+"__persistentStateKeys"])?JSON.parse(n):void 0,e=o||[],this.saveValue=function(n,o){window.localStorage[t+"_"+n]=JSON.stringify(o),-1==e.indexOf(n)&&(e.push(n),r())},this.loadValue=function(e,n){e=void 0===e?n:e;var o=window.localStorage[t+"_"+e];return void 0===o?void 0:JSON.parse(o)},this.reset=function(e){window.localStorage.removeItem(t+"_"+e)},this.resetAll=function(){for(var n=0;n<e.length;n++)window.localStorage.removeItem(t+"_"+e[n]);e=[],r()}}function s(){var t=this;this.init=function(){var n=this.getSettings().persistentState;t.enabled=!!n,t.enabled?(this.storage||(this.storage=new a(this.rootElement.id)),this.resetState=t.resetValue,function(){for(var t in e)(0,i.hasOwnProperty)(e,t)&&this.addHook(t,e[t])}.call(this)):function(){for(var t in e)(0,i.hasOwnProperty)(e,t)&&this.removeHook(t,e[t])}.call(this)},this.saveValue=function(t,e){this.storage.saveValue(t,e)},this.loadValue=function(t,e){e.value=this.storage.loadValue(t)},this.resetValue=function(t){void 0===t?this.storage.resetAll():this.storage.reset(t)};var e={persistentStateSave:t.saveValue,persistentStateLoad:t.loadValue,persistentStateReset:t.resetValue};for(var n in e)(0,i.hasOwnProperty)(e,n)&&r.default.getSingleton().register(n)}var l=new s;r.default.getSingleton().add("beforeInit",l.init),r.default.getSingleton().add("afterUpdateSettings",l.init),e.default=s},function(t,e,n){"use strict";e.__esModule=!0;var o,r,i,a,s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=(o=n(8))&&o.__esModule?o:{default:o},u=n(0),c=n(9);function h(t){this.query=function(e,n,o){var r=t.countRows(),i=t.countCols(),a=[];n||(n=h.global.getDefaultCallback()),o||(o=h.global.getDefaultQueryMethod());for(var s=0;s<r;s++)for(var l=0;l<i;l++){var u=t.getDataAtCell(s,l),c=t.getCellMeta(s,l),d=c.search.callback||n,f=(c.search.queryMethod||o)(e,u);if(f){var p={row:s,col:l,data:u};a.push(p)}d&&d(t,s,l,u,f)}return a}}h.DEFAULT_CALLBACK=function(t,e,n,o,r){t.getCellMeta(e,n).isSearchResult=r},h.DEFAULT_QUERY_METHOD=function(t,e){return!(void 0===t||null==t||!t.toLowerCase||0===t.length)&&void 0!==e&&null!=e&&-1!=e.toString().toLowerCase().indexOf(t.toLowerCase())},h.DEFAULT_SEARCH_RESULT_CLASS="htSearchResult",h.global=(r=h.DEFAULT_CALLBACK,i=h.DEFAULT_QUERY_METHOD,a=h.DEFAULT_SEARCH_RESULT_CLASS,{getDefaultCallback:function(){return r},setDefaultCallback:function(t){r=t},getDefaultQueryMethod:function(){return i},setDefaultQueryMethod:function(t){i=t},getDefaultSearchResultClass:function(){return a},setDefaultSearchResultClass:function(t){a=t}});var d=(0,c.getRenderer)("base");function f(){this.getSettings().search?this.search=new h(this):delete this.search}(0,c.registerRenderer)("base",function(t,e,n,o,r,i,a){d.apply(this,arguments),function(t,e,n,o,r,i,a){var l=null!==a.search&&"object"==s(a.search)&&a.search.searchResultClass||h.global.getDefaultSearchResultClass();a.isSearchResult?(0,u.addClass)(e,l):(0,u.removeClass)(e,l)}.apply(this,arguments)}),l.default.getSingleton().add("afterInit",f),l.default.getSingleton().add("afterUpdateSettings",f),e.default=h},function(t,e,n){"use strict";e.__esModule=!0;var o,r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},a=n(0),s=n(1),l=(o=n(12))&&o.__esModule?o:{default:o},u=n(5),c=n(34),h=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.scrollbars=[],n.clones=[],n.lockedCollection=!1,n.freezeOverlays=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.default),r(e,[{key:"isEnabled",value:function(){return(0,c.isTouchSupported)()}},{key:"enablePlugin",value:function(){var t=this;this.enabled||(this.addHook("afterRender",function(){return t.onAfterRender()}),this.registerEvents(),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"enablePlugin",this).call(this))}},{key:"updatePlugin",value:function(){this.lockedCollection=!1,i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updatePlugin",this).call(this)}},{key:"disablePlugin",value:function(){i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disablePlugin",this).call(this)}},{key:"registerEvents",value:function(){var t=this;this.addHook("beforeTouchScroll",function(){return t.onBeforeTouchScroll()}),this.addHook("afterMomentumScroll",function(){return t.onAfterMomentumScroll()})}},{key:"onAfterRender",value:function(){if(!this.lockedCollection){var t=this.hot.view.wt.wtOverlays,e=t.topOverlay,n=t.bottomOverlay,o=t.leftOverlay,r=t.topLeftCornerOverlay,i=t.bottomLeftCornerOverlay;this.lockedCollection=!0,this.scrollbars.length=0,this.scrollbars.push(e),n.clone&&this.scrollbars.push(n),this.scrollbars.push(o),r&&this.scrollbars.push(r),i&&i.clone&&this.scrollbars.push(i),this.clones.length=0,e.needFullRender&&this.clones.push(e.clone.wtTable.holder.parentNode),n.needFullRender&&this.clones.push(n.clone.wtTable.holder.parentNode),o.needFullRender&&this.clones.push(o.clone.wtTable.holder.parentNode),r&&this.clones.push(r.clone.wtTable.holder.parentNode),i&&i.clone&&this.clones.push(i.clone.wtTable.holder.parentNode)}}},{key:"onBeforeTouchScroll",value:function(){this.freezeOverlays=!0,(0,s.arrayEach)(this.clones,function(t){(0,a.addClass)(t,"hide-tween")})}},{key:"onAfterMomentumScroll",value:function(){var t=this;this.freezeOverlays=!1,(0,s.arrayEach)(this.clones,function(t){(0,a.removeClass)(t,"hide-tween"),(0,a.addClass)(t,"show-tween")}),setTimeout(function(){(0,s.arrayEach)(t.clones,function(t){(0,a.removeClass)(t,"show-tween")})},400),(0,s.arrayEach)(this.scrollbars,function(t){t.refresh(),t.resetFixedPosition()}),this.hot.view.wt.wtOverlays.syncScrollWithMaster()}}]),e}();(0,u.registerPlugin)("touchScroll",h),e.default=h},function(t,e,n){"use strict";var o,r=(o=n(8))&&o.__esModule?o:{default:o},i=n(1),a=n(6),s=n(2),l=n(7),u=n(11);function c(t){var e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,t.addHook("afterChange",function(t,n){t&&"UndoRedo.undo"!==n&&"UndoRedo.redo"!==n&&e.done(new c.ChangeAction(t))}),t.addHook("afterCreateRow",function(t,n,o){if("UndoRedo.undo"!==o&&"UndoRedo.undo"!==o&&"auto"!==o){var r=new c.CreateRowAction(t,n);e.done(r)}}),t.addHook("beforeRemoveRow",function(t,n,o,r){if("UndoRedo.undo"!==r&&"UndoRedo.redo"!==r&&"auto"!==r){var i=e.instance.getSourceDataArray();t=(i.length+t)%i.length;var a=(0,s.deepClone)(i.slice(t,t+n));e.done(new c.RemoveRowAction(t,a))}}),t.addHook("afterCreateCol",function(t,n,o){"UndoRedo.undo"!==o&&"UndoRedo.redo"!==o&&"auto"!==o&&e.done(new c.CreateColumnAction(t,n))}),t.addHook("beforeRemoveCol",function(n,o,r,i){if("UndoRedo.undo"!==i&&"UndoRedo.redo"!==i&&"auto"!==i){var s=e.instance.getSourceDataArray();n=(e.instance.countCols()+n)%e.instance.countCols();var l=[],u=[],h=[];(0,a.rangeEach)(s.length-1,function(e){var r=[],i=s[e];(0,a.rangeEach)(n,n+(o-1),function(e){r.push(i[t.runHooks("modifyCol",e)])}),l.push(r)}),(0,a.rangeEach)(o-1,function(e){h.push(t.runHooks("modifyCol",n+e))}),Array.isArray(t.getSettings().colHeaders)&&(0,a.rangeEach)(o-1,function(e){u.push(t.getSettings().colHeaders[t.runHooks("modifyCol",n+e)]||null)});var d=e.instance.getPlugin("manualColumnMove"),f=d.isEnabled()?d.columnsMapper.__arrayMap:[],p=new c.RemoveColumnAction(n,h,l,u,f);e.done(p)}}),t.addHook("beforeCellAlignment",function(t,n,o,r){var i=new c.CellAlignmentAction(t,n,o,r);e.done(i)}),t.addHook("beforeFilter",function(t){e.done(new c.FiltersAction(t))}),t.addHook("beforeRowMove",function(t,n){!1!==t&&e.done(new c.RowMoveAction(t,n))})}function h(){void 0===this.getSettings().undo||this.getSettings().undo?this.undoRedo||(this.undoRedo=new c(this),function(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}(this),this.addHook("beforeKeyDown",d),this.addHook("afterChange",f)):this.undoRedo&&(delete this.undoRedo,function(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}(this),this.removeHook("beforeKeyDown",d),this.removeHook("afterChange",f))}function d(t){(t.ctrlKey||t.metaKey)&&!t.altKey&&(89===t.keyCode||t.shiftKey&&90===t.keyCode?(this.undoRedo.redo(),(0,l.stopImmediatePropagation)(t)):90===t.keyCode&&(this.undoRedo.undo(),(0,l.stopImmediatePropagation)(t)))}function f(t,e){if("loadData"===e)return this.undoRedo.clear()}c.prototype.done=function(t){this.ignoreNewActions||(this.doneActions.push(t),this.undoneActions.length=0)},c.prototype.undo=function(){if(this.isUndoAvailable()){var t=this.doneActions.pop(),e=(0,s.deepClone)(t),n=this.instance;if(!1===n.runHooks("beforeUndo",e))return;this.ignoreNewActions=!0;var o=this;t.undo(this.instance,function(){o.ignoreNewActions=!1,o.undoneActions.push(t)}),n.runHooks("afterUndo",e)}},c.prototype.redo=function(){if(this.isRedoAvailable()){var t=this.undoneActions.pop(),e=(0,s.deepClone)(t),n=this.instance;if(!1===n.runHooks("beforeRedo",e))return;this.ignoreNewActions=!0;var o=this;t.redo(this.instance,function(){o.ignoreNewActions=!1,o.doneActions.push(t)}),n.runHooks("afterRedo",e)}},c.prototype.isUndoAvailable=function(){return this.doneActions.length>0},c.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},c.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},c.Action=function(){},c.Action.prototype.undo=function(){},c.Action.prototype.redo=function(){},c.ChangeAction=function(t){this.changes=t,this.actionType="change"},(0,s.inherit)(c.ChangeAction,c.Action),c.ChangeAction.prototype.undo=function(t,e){for(var n=(0,s.deepClone)(this.changes),o=t.countEmptyRows(!0),r=t.countEmptyCols(!0),i=0,a=n.length;i<a;i++)n[i].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(n,null,null,"UndoRedo.undo");for(var l=0,u=n.length;l<u;l++)t.getSettings().minSpareRows&&n[l][0]+1+t.getSettings().minSpareRows===t.countRows()&&o==t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(n[l][0]+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&n[l][1]+1+t.getSettings().minSpareCols===t.countCols()&&r==t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(n[l][1]+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())},c.ChangeAction.prototype.redo=function(t,e){for(var n=(0,s.deepClone)(this.changes),o=0,r=n.length;o<r;o++)n[o].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(n,null,null,"UndoRedo.redo")},c.CreateRowAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_row"},(0,s.inherit)(c.CreateRowAction,c.Action),c.CreateRowAction.prototype.undo=function(t,e){var n=t.countRows(),o=t.getSettings().minSpareRows;this.index>=n&&this.index-o<n&&(this.index-=o),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount,"UndoRedo.undo")},c.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row",this.index,this.amount,"UndoRedo.redo")},c.RemoveRowAction=function(t,e){this.index=t,this.data=e,this.actionType="remove_row"},(0,s.inherit)(c.RemoveRowAction,c.Action),c.RemoveRowAction.prototype.undo=function(t,e){t.alter("insert_row",this.index,this.data.length,"UndoRedo.undo"),t.addHookOnce("afterRender",e),t.populateFromArray(this.index,0,this.data,void 0,void 0,"UndoRedo.undo")},c.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length,"UndoRedo.redo")},c.CreateColumnAction=function(t,e){this.index=t,this.amount=e,this.actionType="insert_col"},(0,s.inherit)(c.CreateColumnAction,c.Action),c.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.undo")},c.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col",this.index,this.amount,"UndoRedo.redo")},c.RemoveColumnAction=function(t,e,n,o,r){this.index=t,this.indexes=e,this.data=n,this.amount=this.data[0].length,this.headers=o,this.columnPositions=r.slice(0),this.actionType="remove_col"},(0,s.inherit)(c.RemoveColumnAction,c.Action),c.RemoveColumnAction.prototype.undo=function(t,e){var n,o=this,r=void 0,s=this.indexes.slice(0).sort(),l=function(t,e,n){return n[o.indexes.indexOf(s[e])]},u=[];(0,a.rangeEach)(this.data.length-1,function(t){u[t]=(0,i.arrayMap)(o.data[t],l)}),n=(0,i.arrayMap)(this.headers,l);var c=[];t.runHooks("beforeCreateCol",this.indexes[0],this.indexes[this.indexes.length-1],"UndoRedo.undo"),(0,a.rangeEach)(this.data.length-1,function(e){r=t.getSourceDataAtRow(e),(0,a.rangeEach)(s.length-1,function(t){r.splice(s[t],0,u[e][t]),c.push([e,s[t],null,u[e][t]])})}),t.getPlugin("formulas")&&t.getPlugin("formulas").onAfterSetDataAtCell(c),void 0!==this.headers&&(0,a.rangeEach)(n.length-1,function(e){t.getSettings().colHeaders.splice(s[e],0,n[e])}),t.getPlugin("manualColumnMove")&&(t.getPlugin("manualColumnMove").columnsMapper.__arrayMap=this.columnPositions),t.addHookOnce("afterRender",e),t.runHooks("afterCreateCol",this.indexes[0],this.indexes[this.indexes.length-1],"UndoRedo.undo"),t.getPlugin("formulas")&&t.getPlugin("formulas").recalculateFull(),t.render()},c.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount,"UndoRedo.redo")},c.CellAlignmentAction=function(t,e,n,o){this.stateBefore=t,this.range=e,this.type=n,this.alignment=o},c.CellAlignmentAction.prototype.undo=function(t,e){if(t.getPlugin("contextMenu").isEnabled()){for(var n=this.range.from.row;n<=this.range.to.row;n++)for(var o=this.range.from.col;o<=this.range.to.col;o++)t.setCellMeta(n,o,"className",this.stateBefore[n][o]||" htLeft");t.addHookOnce("afterRender",e),t.render()}},c.CellAlignmentAction.prototype.redo=function(t,e){t.getPlugin("contextMenu").isEnabled()&&(t.selectCell(this.range.from.row,this.range.from.col,this.range.to.row,this.range.to.col),t.getPlugin("contextMenu").executeCommand("alignment:"+this.alignment.replace("ht","").toLowerCase()),t.addHookOnce("afterRender",e),t.render())},c.FiltersAction=function(t){this.formulaStacks=t,this.actionType="filter"},(0,s.inherit)(c.FiltersAction,c.Action),c.FiltersAction.prototype.undo=function(t,e){var n=t.getPlugin("filters");t.addHookOnce("afterRender",e),n.formulaCollection.importAllFormulas(this.formulaStacks.slice(0,this.formulaStacks.length-1)),n.filter()},c.FiltersAction.prototype.redo=function(t,e){var n=t.getPlugin("filters");t.addHookOnce("afterRender",e),n.formulaCollection.importAllFormulas(this.formulaStacks),n.filter()},c.RowMoveAction=function(t,e){this.rows=t.slice(),this.target=e},(0,s.inherit)(c.RowMoveAction,c.Action),c.RowMoveAction.prototype.undo=function(t,e){var n=t.getPlugin("manualRowMove");t.addHookOnce("afterRender",e);for(var o=this.rows[0]<this.target?-1*this.rows.length:0,r=this.rows[0]>this.target?this.rows[0]+this.rows.length:this.rows[0],i=[],a=this.rows.length+o,s=o;s<a;s++)i.push(this.target+s);n.moveRows(i.slice(),r),t.render(),t.selection.setRangeStartOnly(new u.CellCoords(this.rows[0],0)),t.selection.setRangeEnd(new u.CellCoords(this.rows[this.rows.length-1],t.countCols()-1))},c.RowMoveAction.prototype.redo=function(t,e){var n=t.getPlugin("manualRowMove");t.addHookOnce("afterRender",e),n.moveRows(this.rows.slice(),this.target),t.render();var o=this.rows[0]<this.target?this.target-this.rows.length:this.target;t.selection.setRangeStartOnly(new u.CellCoords(o,0)),t.selection.setRangeEnd(new u.CellCoords(o+this.rows.length-1,t.countCols()-1))};var p=r.default.getSingleton();p.add("afterInit",h),p.add("afterUpdateSettings",h),p.register("beforeUndo"),p.register("afterUndo"),p.register("beforeRedo"),p.register("afterRedo")},function(t,e,n){"use strict";e.__esModule=!0;var o=n(0);e.default=function(t,e,n,r,i,a,s){s.className&&(e.className?e.className=e.className+" "+s.className:e.className=s.className),s.readOnly&&(0,o.addClass)(e,s.readOnlyCellClassName),!1===s.valid&&s.invalidCellClassName?(0,o.addClass)(e,s.invalidCellClassName):(0,o.removeClass)(e,s.invalidCellClassName),!1===s.wordWrap&&s.noWordWrapClassName&&(0,o.addClass)(e,s.noWordWrapClassName),!a&&s.placeholder&&(0,o.addClass)(e,s.placeholderCellClassName)}},function(t,e,n){"use strict";e.__esModule=!0;var o,r=n(0),i=(o=n(4))&&o.__esModule?o:{default:o},a=n(11),s=n(9),l=document.createElement("DIV");l.className="htAutocompleteWrapper";var u=document.createElement("DIV");u.className="htAutocompleteArrow",u.appendChild(document.createTextNode(String.fromCharCode(9660))),e.default=function(t,e,n,o,c,h,d){l.cloneNode(!0);var f=u.cloneNode(!0);if(d.allowHtml?(0,s.getRenderer)("html").apply(this,arguments):(0,s.getRenderer)("text").apply(this,arguments),e.appendChild(f),(0,r.addClass)(e,"htAutocomplete"),e.firstChild||e.appendChild(document.createTextNode(String.fromCharCode(160))),!t.acArrowListener){var p=new i.default(t);t.acArrowListener=function(i){(0,r.hasClass)(i.target,"htAutocompleteArrow")&&t.view.wt.getSetting("onCellDblClick",null,new a.CellCoords(n,o),e)},p.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",function(){p.destroy()})}}},function(t,e,n){"use strict";e.__esModule=!0;var o,r=n(0),i=n(27),a=(o=n(4))&&o.__esModule?o:{default:o},s=n(16),l=n(35),u=n(7),c=n(9),h=new WeakMap,d=new WeakMap;function f(t){return"INPUT"===t.tagName&&"checkbox"===t.getAttribute("type")}e.default=function(t,e,n,o,p,g,v){(0,c.getRenderer)("base").apply(this,arguments),function(t){var e=d.get(t);e||((e=new a.default(t)).addEventListener(t.rootElement,"click",function(e){return function(t,e){if(!f(t.target))return!1;var n=parseInt(t.target.getAttribute("data-row"),10),o=parseInt(t.target.getAttribute("data-col"),10);e.getCellMeta(n,o).readOnly&&t.preventDefault()}(e,t)}),e.addEventListener(t.rootElement,"mouseup",function(e){return function(t,e){f(t.target)&&setTimeout(e.listen,10)}(e,t)}),e.addEventListener(t.rootElement,"change",function(e){return function(t,e){if(!f(t.target))return!1;var n=parseInt(t.target.getAttribute("data-row"),10),o=parseInt(t.target.getAttribute("data-col"),10),r=e.getCellMeta(n,o);if(!r.readOnly){var i;i=t.target.checked?void 0===r.uncheckedTemplate||r.checkedTemplate:void 0!==r.uncheckedTemplate&&r.uncheckedTemplate,e.setDataAtCell(n,o,i)}}(e,t)}),d.set(t,e))}(t);var m=function(){var t=document.createElement("input");return t.className="htCheckboxRendererInput",t.type="checkbox",t.setAttribute("autocomplete","off"),t.setAttribute("tabindex","-1"),t.cloneNode(!1)}(),y=v.label,w=!1;if(void 0===v.checkedTemplate&&(v.checkedTemplate=!0),void 0===v.uncheckedTemplate&&(v.uncheckedTemplate=!1),(0,r.empty)(e),g===v.checkedTemplate||(0,i.equalsIgnoreCase)(g,v.checkedTemplate)?m.checked=!0:g===v.uncheckedTemplate||(0,i.equalsIgnoreCase)(g,v.uncheckedTemplate)?m.checked=!1:null===g?(0,r.addClass)(m,"noValue"):(m.style.display="none",(0,r.addClass)(m,"htBadValue"),w=!0),m.setAttribute("data-row",n),m.setAttribute("data-col",o),!w&&y){var b="";y.value?b="function"==typeof y.value?y.value.call(this,n,o,p,g):y.value:y.property&&(b=t.getDataAtRowProp(n,y.property));var C=function(t){var e=document.createElement("label");return e.className="htCheckboxRendererLabel",e.appendChild(document.createTextNode(t)),e.cloneNode(!0)}(b);"before"===y.position?C.appendChild(m):C.insertBefore(m,C.firstChild),m=C}function k(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getSelectedRange();if(n){for(var o=n.getTopLeftCorner(),r=n.getBottomRightCorner(),i=[],a=o.row;a<=r.row;a+=1)for(var s=o.col;s<=r.col;s+=1){var l=t.getCellMeta(a,s);if("checkbox"!==l.type)return;if(!0!==l.readOnly){void 0===l.checkedTemplate&&(l.checkedTemplate=!0),void 0===l.uncheckedTemplate&&(l.uncheckedTemplate=!1);var u=t.getDataAtCell(a,s);!1===e?u===l.checkedTemplate?i.push([a,s,l.uncheckedTemplate]):-1!==[l.uncheckedTemplate,null,void 0].indexOf(u)&&i.push([a,s,l.checkedTemplate]):i.push([a,s,l.uncheckedTemplate])}}i.length>0&&t.setDataAtCell(i)}}e.appendChild(m),w&&e.appendChild(document.createTextNode("#bad-value#")),h.has(t)||(h.set(t,!0),t.addHook("beforeKeyDown",function(e){var n=(0,l.partial)(s.isKey,e.keyCode);n("SPACE|ENTER|DELETE|BACKSPACE")&&!(0,u.isImmediatePropagationStopped)(e)&&function(e){var n=t.getSelectedRange();if(n)for(var o=n.getTopLeftCorner(),r=n.getBottomRightCorner(),i=o.row;i<=r.row;i++)for(var a=o.col;a<=r.col;a++){var s=t.getCellMeta(i,a);if("checkbox"!==s.type)return;var l=t.getCell(i,a);if(null==l)e();else{var u=l.querySelectorAll("input[type=checkbox]");u.length>0&&!s.readOnly&&e()}}}(function(){(0,u.stopImmediatePropagation)(e),e.preventDefault()}),n("SPACE|ENTER")&&k(),n("DELETE|BACKSPACE")&&k(!0)}))}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(0),r=n(9);e.default=function(t,e,n,i,a,s,l){(0,r.getRenderer)("base").apply(this,arguments),null!=s||(s=""),(0,o.fastInnerHTML)(e,s)}},function(t,e,n){"use strict";e.__esModule=!0;var o,r=(o=n(86))&&o.__esModule?o:{default:o},i=n(9),a=n(6);e.default=function(t,e,n,o,s,l,u){if((0,a.isNumeric)(l)){void 0!==u.language&&r.default.culture(u.language),l=(0,r.default)(l).format(u.format||"0");var c=u.className||"",h=c.length?c.split(" "):[];h.indexOf("htLeft")<0&&h.indexOf("htCenter")<0&&h.indexOf("htRight")<0&&h.indexOf("htJustify")<0&&h.push("htRight"),h.indexOf("htNumeric")<0&&h.push("htNumeric"),u.className=h.join(" ")}(0,i.getRenderer)("text")(t,e,n,o,s,l,u)}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(0),r=n(9),i=n(6);e.default=function(t,e,n,a,s,l,u){(0,r.getRenderer)("text").apply(this,arguments),l=e.innerHTML;var c=u.hashLength||l.length,h=u.hashSymbol||"*",d="";(0,i.rangeEach)(c-1,function(){d+=h}),(0,o.fastInnerHTML)(e,d)}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(0),r=n(20),i=n(9);e.default=function(t,e,n,a,s,l,u){(0,i.getRenderer)("base").apply(this,arguments),!l&&u.placeholder&&(l=u.placeholder);var c=(0,r.stringify)(l);if(t.getSettings().trimWhitespace||(c=c.replace(/ /g,String.fromCharCode(160))),u.rendererTemplate){(0,o.empty)(e);var h=document.createElement("TEMPLATE");h.setAttribute("bind","{{}}"),h.innerHTML=u.rendererTemplate,HTMLTemplateElement.decorate(h),h.model=t.getSourceDataAtRow(n),e.appendChild(h)}else(0,o.fastInnerText)(e,c)}},function(t,e,n){"use strict";e.__esModule=!0;var o=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&s.return&&s.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=n(0),i=n(25),a=c(n(4)),s=n(7),l=n(11),u=c(l);function c(t){return t&&t.__esModule?t:{default:t}}function h(t){var e=this,n=this;this.eventManager=new a.default(t),this.instance=t,this.settings=t.getSettings(),this.selectionMouseDown=!1;var o=t.rootElement.getAttribute("style");o&&t.rootElement.setAttribute("data-originalstyle",o),(0,r.addClass)(t.rootElement,"handsontable");var c,h=document.createElement("TABLE");(0,r.addClass)(h,"htCore"),t.getSettings().tableClassName&&(0,r.addClass)(h,t.getSettings().tableClassName),this.THEAD=document.createElement("THEAD"),h.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),h.appendChild(this.TBODY),t.table=h,t.container.insertBefore(h,t.container.firstChild),this.eventManager.addEventListener(t.rootElement,"mousedown",function(t){this.selectionMouseDown=!0,n.isTextSelectionAllowed(t.target)||(d(),t.preventDefault(),window.focus())}),this.eventManager.addEventListener(t.rootElement,"mouseup",function(t){this.selectionMouseDown=!1}),this.eventManager.addEventListener(t.rootElement,"mousemove",function(t){this.selectionMouseDown&&!n.isTextSelectionAllowed(t.target)&&(d(),t.preventDefault())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(e){t.selection.isInProgress()&&!e.shiftKey&&t.selection.finish()}),this.isMouseDown=function(){return c},this.eventManager.addEventListener(document.documentElement,"mouseup",function(e){t.selection.isInProgress()&&1===e.which&&t.selection.finish(),c=!1,(0,r.isOutsideInput)(document.activeElement)&&t.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(e){var o=e.target,i=e.target,a=e.x||e.clientX,s=e.y||e.clientY;if(!c&&t.rootElement){if(i===t.view.wt.wtTable.holder){var l=(0,r.getScrollbarWidth)();if(document.elementFromPoint(a+l,s)!==t.view.wt.wtTable.holder||document.elementFromPoint(a,s+l)!==t.view.wt.wtTable.holder)return}else for(;i!==document.documentElement;){if(null===i){if(e.isTargetWebComponent)break;return}if(i===t.rootElement)return;i=i.parentNode}("function"==typeof n.settings.outsideClickDeselects?n.settings.outsideClickDeselects(o):n.settings.outsideClickDeselects)?t.deselectCell():t.destroyEditor()}}),this.eventManager.addEventListener(h,"selectstart",function(t){n.settings.fragmentSelection||(0,r.isInput)(t.target)||t.preventDefault()});var d=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},f=[new l.Selection({className:"current",border:{width:2,color:"#5292F7",cornerVisible:function(){return n.settings.fillHandle&&!n.isCellEdited()&&!t.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!n.isCellEdited()&&!t.selection.isMultiple()}}}),new l.Selection({className:"area",border:{width:1,color:"#89AFF9",cornerVisible:function(){return n.settings.fillHandle&&!n.isCellEdited()&&t.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!n.isCellEdited()&&t.selection.isMultiple()}}}),new l.Selection({className:"highlight",highlightHeaderClassName:n.settings.currentHeaderClassName,highlightRowClassName:n.settings.currentRowClassName,highlightColumnClassName:n.settings.currentColClassName}),new l.Selection({className:"fill",border:{width:1,color:"red"}})];f.current=f[0],f.area=f[1],f.highlight=f[2],f.fill=f[3];var p={debug:function(){return n.settings.debug},externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:h,preventOverflow:function(){return e.settings.preventOverflow},stretchH:function(){return n.settings.stretchH},data:t.getDataAtCell,totalRows:function(){return t.countRows()},totalColumns:function(){return t.countCols()},fixedColumnsLeft:function(){return n.settings.fixedColumnsLeft},fixedRowsTop:function(){return n.settings.fixedRowsTop},fixedRowsBottom:function(){return n.settings.fixedRowsBottom},minSpareRows:function(){return n.settings.minSpareRows},renderAllRows:n.settings.renderAllRows,rowHeaders:function(){var e=[];return t.hasRowHeaders()&&e.push(function(t,e){n.appendRowHeader(t,e)}),t.runHooks("afterGetRowHeaderRenderers",e),e},columnHeaders:function(){var e=[];return t.hasColHeaders()&&e.push(function(t,e){n.appendColHeader(t,e)}),t.runHooks("afterGetColumnHeaderRenderers",e),e},columnWidth:t.getColWidth,rowHeight:t.getRowHeight,cellRenderer:function(t,e,o){var r=n.instance.getCellMeta(t,e),i=n.instance.colToProp(e),a=n.instance.getDataAtRowProp(t,i);n.instance.hasHook("beforeValueRender")&&(a=n.instance.runHooks("beforeValueRender",a)),n.instance.runHooks("beforeRenderer",o,t,e,i,a,r),n.instance.getCellRenderer(r)(n.instance,o,t,e,i,a,r),n.instance.runHooks("afterRenderer",o,t,e,i,a,r)},selections:f,hideBorderOnMouseDownOver:function(){return n.settings.fragmentSelection},onCellMouseDown:function(e,o,r,i){var a={row:!1,column:!1,cells:!1};if(t.listen(),n.activeWt=i,c=!0,t.runHooks("beforeOnCellMouseDown",e,o,r,a),!(0,s.isImmediatePropagationStopped)(e)){var u=t.getSelectedRange(),h=t.selection,d=h.selectedHeader;if(e.shiftKey&&u)o.row>=0&&o.col>=0&&!a.cells?(h.setSelectedHeaders(!1,!1),h.setRangeEnd(o)):(d.cols||d.rows)&&o.row>=0&&o.col>=0&&!a.cells?(h.setSelectedHeaders(!1,!1),h.setRangeEnd(new l.CellCoords(o.row,o.col))):d.cols&&o.row<0&&!a.column?h.setRangeEnd(new l.CellCoords(u.to.row,o.col)):d.rows&&o.col<0&&!a.row?h.setRangeEnd(new l.CellCoords(o.row,u.to.col)):(!d.cols&&!d.rows&&o.col<0||d.cols&&o.col<0)&&!a.row?(h.setSelectedHeaders(!0,!1),h.setRangeStartOnly(new l.CellCoords(u.from.row,0)),h.setRangeEnd(new l.CellCoords(o.row,t.countCols()-1))):(!d.cols&&!d.rows&&o.row<0||d.rows&&o.row<0)&&!a.column&&(h.setSelectedHeaders(!1,!0),h.setRangeStartOnly(new l.CellCoords(0,u.from.col)),h.setRangeEnd(new l.CellCoords(t.countRows()-1,o.col)));else{var f=!0;if(u){var p=u.from,g=u.to,v=!h.inInSelection(o);if(o.row<0&&d.cols){var m=Math.min(p.col,g.col),y=Math.max(p.col,g.col);f=o.col<m||o.col>y}else if(o.col<0&&d.rows){var w=Math.min(p.row,g.row),b=Math.max(p.row,g.row);f=o.row<w||o.row>b}else f=v}var C=(0,s.isRightClick)(e),k=(0,s.isLeftClick)(e)||"touchstart"===e.type;o.row<0&&o.col>=0&&!a.column?(h.setSelectedHeaders(!1,!0),(k||C&&f)&&(h.setRangeStartOnly(new l.CellCoords(0,o.col)),h.setRangeEnd(new l.CellCoords(Math.max(t.countRows()-1,0),o.col),!1))):o.col<0&&o.row>=0&&!a.row?(h.setSelectedHeaders(!0,!1),(k||C&&f)&&(h.setRangeStartOnly(new l.CellCoords(o.row,0)),h.setRangeEnd(new l.CellCoords(o.row,Math.max(t.countCols()-1,0)),!1))):o.col>=0&&o.row>=0&&!a.cells?(k||C&&f)&&(h.setSelectedHeaders(!1,!1),h.setRangeStart(o)):o.col<0&&o.row<0&&(o.row=0,o.col=0,h.setSelectedHeaders(!1,!1,!0),h.setRangeStart(o))}t.runHooks("afterOnCellMouseDown",e,o,r),n.activeWt=n.wt}},onCellMouseOut:function(e,o,r,i){n.activeWt=i,t.runHooks("beforeOnCellMouseOut",e,o,r),(0,s.isImmediatePropagationStopped)(e)||(t.runHooks("afterOnCellMouseOut",e,o,r),n.activeWt=n.wt)},onCellMouseOver:function(e,o,r,i){var a={row:!1,column:!1,cell:!1};n.activeWt=i,t.runHooks("beforeOnCellMouseOver",e,o,r,a),(0,s.isImmediatePropagationStopped)(e)||(0===e.button&&c&&(o.row>=0&&o.col,t.selection.selectedHeader.cols&&!a.column?t.selection.setRangeEnd(new l.CellCoords(t.countRows()-1,o.col),!1):t.selection.selectedHeader.rows&&!a.row?t.selection.setRangeEnd(new l.CellCoords(o.row,t.countCols()-1),!1):a.cell||t.selection.setRangeEnd(o)),t.runHooks("afterOnCellMouseOver",e,o,r),n.activeWt=n.wt)},onCellMouseUp:function(e,o,r,i){n.activeWt=i,t.runHooks("beforeOnCellMouseUp",e,o,r),t.runHooks("afterOnCellMouseUp",e,o,r),n.activeWt=n.wt},onCellCornerMouseDown:function(e){e.preventDefault(),t.runHooks("afterOnCellCornerMouseDown",e)},onCellCornerDblClick:function(e){e.preventDefault(),t.runHooks("afterOnCellCornerDblClick",e)},beforeDraw:function(t,e){n.beforeRender(t,e)},onDraw:function(t){n.onDraw(t)},onScrollVertically:function(){t.runHooks("afterScrollVertically")},onScrollHorizontally:function(){t.runHooks("afterScrollHorizontally")},onBeforeDrawBorders:function(e,n){t.runHooks("beforeDrawBorders",e,n)},onBeforeTouchScroll:function(){t.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){t.runHooks("afterMomentumScroll")},onBeforeStretchingColumnWidth:function(e,n){return t.runHooks("beforeStretchingColumnWidth",e,n)},onModifyRowHeaderWidth:function(e){return t.runHooks("modifyRowHeaderWidth",e)},viewportRowCalculatorOverride:function(e){var o=t.countRows(),r=n.settings.viewportRowRenderingOffset;if("auto"===r&&n.settings.fixedRowsTop&&(r=10),"number"==typeof r&&(e.startRow=Math.max(e.startRow-r,0),e.endRow=Math.min(e.endRow+r,o-1)),"auto"===r){var i=e.startRow+e.endRow-e.startRow,a=Math.ceil(i/o*12);e.startRow=Math.max(e.startRow-a,0),e.endRow=Math.min(e.endRow+a,o-1)}t.runHooks("afterViewportRowCalculatorOverride",e)},viewportColumnCalculatorOverride:function(e){var o=t.countCols(),r=n.settings.viewportColumnRenderingOffset;if("auto"===r&&n.settings.fixedColumnsLeft&&(r=10),"number"==typeof r&&(e.startColumn=Math.max(e.startColumn-r,0),e.endColumn=Math.min(e.endColumn+r,o-1)),"auto"===r){var i=e.startColumn+e.endColumn-e.startColumn,a=Math.ceil(i/o*12);e.startRow=Math.max(e.startColumn-a,0),e.endColumn=Math.min(e.endColumn+a,o-1)}t.runHooks("afterViewportColumnCalculatorOverride",e)},rowHeaderWidth:function(){return n.settings.rowHeaderWidth},columnHeaderHeight:function(){var e=t.runHooks("modifyColumnHeaderHeight");return n.settings.columnHeaderHeight||e}};t.runHooks("beforeInitWalkontable",p),this.wt=new u.default(p),this.activeWt=this.wt,(0,i.isChrome)()||(0,i.isSafari)()||this.eventManager.addEventListener(t.rootElement,"wheel",function(t){t.preventDefault();var e=parseInt((0,r.getComputedStyle)(document.body)["font-size"],10),o=n.wt.wtOverlays.scrollableElement,i=t.wheelDeltaY||t.deltaY,a=t.wheelDeltaX||t.deltaX;switch(t.deltaMode){case 0:o.scrollLeft+=a,o.scrollTop+=i;break;case 1:o.scrollLeft+=a*e,o.scrollTop+=i*e}}),this.eventManager.addEventListener(n.wt.wtTable.spreader,"mousedown",function(t){t.target===n.wt.wtTable.spreader&&3===t.which&&(0,s.stopPropagation)(t)}),this.eventManager.addEventListener(n.wt.wtTable.spreader,"contextmenu",function(t){t.target===n.wt.wtTable.spreader&&3===t.which&&(0,s.stopPropagation)(t)}),this.eventManager.addEventListener(document.documentElement,"click",function(){n.settings.observeDOMVisibility&&n.wt.drawInterrupted&&(n.instance.forceFullRender=!0,n.render())})}h.prototype.isTextSelectionAllowed=function(t){if((0,r.isInput)(t))return!0;var e=(0,r.isChildOf)(t,this.instance.view.wt.wtTable.spreader);return!(!0!==this.settings.fragmentSelection||!e)||!("cell"!==this.settings.fragmentSelection||!this.isSelectedOnlyCell()||!e)||!(this.settings.fragmentSelection||!this.isCellEdited()||!this.isSelectedOnlyCell())},h.prototype.isSelectedOnlyCell=function(){var t=this.instance.getSelected()||[],e=o(t,4),n=e[0],r=e[1],i=e[2],a=e[3];return void 0!==n&&n===i&&r===a},h.prototype.isCellEdited=function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()},h.prototype.beforeRender=function(t,e){t&&this.instance.runHooks("beforeRender",this.instance.forceFullRender,e)},h.prototype.onDraw=function(t){t&&this.instance.runHooks("afterRender",this.instance.forceFullRender)},h.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1},h.prototype.getCellAtCoords=function(t,e){var n=this.wt.getCell(t,e);return n<0?null:n},h.prototype.scrollViewport=function(t){this.wt.scrollViewport(t)},h.prototype.appendRowHeader=function(t,e){if(e.firstChild){var n=e.firstChild;if(!(0,r.hasClass)(n,"relative"))return(0,r.empty)(e),void this.appendRowHeader(t,e);this.updateCellHeader(n.querySelector(".rowHeader"),t,this.instance.getRowHeader)}else{var o=document.createElement("div"),i=document.createElement("span");o.className="relative",i.className="rowHeader",this.updateCellHeader(i,t,this.instance.getRowHeader),o.appendChild(i),e.appendChild(o)}this.instance.runHooks("afterGetRowHeader",t,e)},h.prototype.appendColHeader=function(t,e){if(e.firstChild){var n=e.firstChild;(0,r.hasClass)(n,"relative")?this.updateCellHeader(n.querySelector(".colHeader"),t,this.instance.getColHeader):((0,r.empty)(e),this.appendColHeader(t,e))}else{var o=document.createElement("div"),i=document.createElement("span");o.className="relative",i.className="colHeader",this.updateCellHeader(i,t,this.instance.getColHeader),o.appendChild(i),e.appendChild(o)}this.instance.runHooks("afterGetColHeader",t,e)},h.prototype.updateCellHeader=function(t,e,n){var o=e,i=this.wt.wtOverlays.getParentOverlay(t)||this.wt;t.parentNode&&((0,r.hasClass)(t,"colHeader")?o=i.wtTable.columnFilter.sourceToRendered(e):(0,r.hasClass)(t,"rowHeader")&&(o=i.wtTable.rowFilter.sourceToRendered(e))),o>-1?(0,r.fastInnerHTML)(t,n(e)):((0,r.fastInnerText)(t,String.fromCharCode(160)),(0,r.addClass)(t,"cornerHeader"))},h.prototype.maximumVisibleElementWidth=function(t){var e=this.wt.wtViewport.getWorkspaceWidth()-t;return e>0?e:0},h.prototype.maximumVisibleElementHeight=function(t){var e=this.wt.wtViewport.getWorkspaceHeight()-t;return e>0?e:0},h.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},h.prototype.destroy=function(){this.wt.destroy(),this.eventManager.destroy()},e.default=h},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function t(e){r(this,t),this.data=e,this.next=null,this.prev=null},a=function(){function t(){r(this,t),this.first=null,this.last=null}return o(t,[{key:"push",value:function(t){var e=new i(t);if(null===this.first)this.first=e,this.last=e;else{var n=this.last;this.last=e,e.prev=n,n.next=e}}},{key:"unshift",value:function(t){var e=new i(t);if(null===this.first)this.first=e,this.last=e;else{var n=this.first;this.first=e,e.next=n,n.prev=e}}},{key:"inorder",value:function(t){for(var e=this.first;e;)t(e),e=e.next}},{key:"remove",value:function(t){if(null===this.first)return!1;for(var e=this.first,n=void 0,o=void 0;e;){if(e.data===t)return n=e.next,o=e.prev,n&&(n.prev=o),o&&(o.next=n),e===this.first&&(this.first=n),e===this.last&&(this.last=o),!0;e=e.next}return!1}},{key:"hasCycle",value:function(){for(var t=this.first,e=this.first;;){if(null===t)return!1;if(null===(t=t.next))return!1;if((t=t.next)===(e=e.next))return!0}}},{key:"pop",value:function(){if(null===this.last)return null;var t=this.last;return this.last=this.last.prev,t}},{key:"shift",value:function(){if(null===this.first)return null;var t=this.first;return this.first=this.first.next,t}},{key:"recursiveReverse",value:function(){if(this.first){!function t(e,n){n&&(t(n,n.next),n.next=e)}(this.first,this.first.next),this.first.next=null;var t=this.first;this.first=this.last,this.last=t}}},{key:"reverse",value:function(){if(this.first&&this.first.next){for(var t=this.first.next,e=this.first,n=void 0;t;)n=t.next,t.next=e,e.prev=t,e=t,t=n;this.first.next=null,this.last.prev=null,n=this.first,this.first=e,this.last=n}}}]),t}();e.NodeStructure=i,e.default=a},function(t,e,n){"use strict";e.__esModule=!0;var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();e.parseDelay=a;var r=n(34),i=function(){function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.timer=null,this.func=e,this.delay=a(n),this.stopped=!0,this._then=null,this._callback=function(){return o.__callback()}}return o(t,null,[{key:"create",value:function(e,n){return new t(e,n)}}]),o(t,[{key:"start",value:function(){return this.stopped&&(this._then=Date.now(),this.stopped=!1,this.timer=(0,r.requestAnimationFrame)(this._callback)),this}},{key:"stop",value:function(){return this.stopped||(this.stopped=!0,(0,r.cancelAnimationFrame)(this.timer),this.timer=null),this}},{key:"__callback",value:function(){if(this.timer=(0,r.requestAnimationFrame)(this._callback),this.delay){var t=Date.now(),e=t-this._then;e>this.delay&&(this._then=t-e%this.delay,this.func())}else this.func()}}]),t}();function a(t){return"string"==typeof t&&/fps$/.test(t)&&(t=1e3/parseInt(t.replace("fps","")||0,10)),t}e.default=i},function(t,e,n){"use strict";e.__esModule=!0,e.default=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(Math.abs(r-o)<=1)return[];var s=Math.ceil((o+r)/2);return t(e,n,o,s),t(e,n,s,r),a(e,n,o,s,r)},e.merge=a;var o,r=(o=n(268))&&o.__esModule?o:{default:o},i=function(t,e){var n=t.toString(),o=e.toString();return n===o?0:n<o?-1:1};function a(t,e,n,o,i){for(var a=new r.default,s=new r.default,l=o-n,u=i-o,c=Math.max(l,u),h=i-n,d=0;d<c;d+=1)d<l&&a.push(t[n+d]),d<u&&s.push(t[o+d]);for(var f=0;f<h;)a.first&&s.first?e(a.first.data,s.first.data)>0?t[n+f]=s.shift().data:t[n+f]=a.shift().data:a.first?t[n+f]=a.shift().data:t[n+f]=s.shift().data,f+=1;return t}},function(t,e,n){"use strict";function o(t,e){var n=t;return function(t){for(var o=!1,r=0,i=t.length;r<i;r++)if(n===t[r]){o=!0;break}e(o)}}e.__esModule=!0,e.default=function(t,e){null==t&&(t=""),this.allowEmpty&&""===t?e(!0):this.strict&&this.source?"function"==typeof this.source?this.source(t,o(t,e)):o(t,e)(this.source):e(!0)}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n=!0,o=(0,a.getEditorInstance)("date",this.instance);null==t&&(t="");var i=(0,r.default)(new Date(t)).isValid()||(0,r.default)(t,o.defaultDateFormat).isValid(),l=(0,r.default)(t,this.dateFormat||o.defaultDateFormat,!0).isValid();if(this.allowEmpty&&""===t&&(i=!0,l=!0),i||(n=!1),!i&&l&&(n=!0),i&&!l)if(!0===this.correctFormat){var u=s(t,this.dateFormat),c=this.instance.runHooks("unmodifyRow",this.row),h=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(c,h,u,"dateValidator"),n=!0}else n=!1;e(n)},e.correctFormat=s;var o,r=(o=n(62))&&o.__esModule?o:{default:o},i=n(88),a=n(14);function s(t,e){var n=(0,r.default)((0,i.getNormalizedDate)(t)),o=(0,r.default)(t,e),a=t.search(/[A-z]/g)>-1;return(n.isValid()&&n.format("x")===o.format("x")||!o.isValid()||a?n:o).format(e)}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){null==t&&(t=""),this.allowEmpty&&""===t?e(!0):e(""!==t&&/^-?\d*(\.|,)?\d*$/.test(t))}},function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){var n=!0,o=this.timeFormat||"h:mm:ss a";null===t&&(t=""),t=/^\d{3,}$/.test(t)?parseInt(t,10):t;var a=/^\d{1,2}$/.test(t);a&&(t+=":00");var s=(0,r.default)(t,i,!0).isValid()?(0,r.default)(t):(0,r.default)(t,o),l=s.isValid(),u=(0,r.default)(t,o,!0).isValid()&&!a;if(this.allowEmpty&&""===t&&(l=!0,u=!0),l||(n=!1),!l&&u&&(n=!0),l&&!u)if(!0===this.correctFormat){var c=s.format(o),h=this.instance.runHooks("unmodifyRow",this.row),d=this.instance.runHooks("unmodifyCol",this.col);this.instance.setDataAtCell(h,d,c,"timeValidator"),n=!0}else n=!1;e(n)};var o,r=(o=n(62))&&o.__esModule?o:{default:o},i=["YYYY-MM-DDTHH:mm:ss.SSSZ","X","x"]},function(t,e,n){"use strict";var o=n(41),r=n(60),i=n(24);t.exports=[].copyWithin||function(t,e){var n=o(this),a=i(n.length),s=r(t,a),l=r(e,a),u=arguments.length>2?arguments[2]:void 0,c=Math.min((void 0===u?a:r(u,a))-l,a-s),h=1;for(l<s&&s<l+c&&(h=-1,l+=c-1,s+=c-1);c-- >0;)l in n?n[s]=n[l]:delete n[s],s+=h,l+=h;return n}},function(t,e,n){"use strict";var o=n(41),r=n(60),i=n(24);t.exports=function(t){for(var e=o(this),n=i(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,u=void 0===l?n:r(l,n);u>s;)e[s++]=t;return e}},function(t,e,n){var o=n(15),r=n(162),i=n(10)("species");t.exports=function(t){var e;return r(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!r(e.prototype)||(e=void 0),o(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,n){var o=n(277);t.exports=function(t,e){return new(o(t))(e)}},function(t,e,n){var o=n(39),r=n(58),i=n(47);t.exports=function(t){var e=o(t),n=r.f;if(n)for(var a,s=n(t),l=i.f,u=0;s.length>u;)l.call(t,a=s[u++])&&e.push(a);return e}},function(t,e,n){"use strict";var o=n(18);t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var o=n(15),r=n(171).set;t.exports=function(t,e,n){var i,a=e.constructor;return a!==n&&"function"==typeof a&&(i=a.prototype)!==n.prototype&&o(i)&&r&&r(t,i),t}},function(t,e){t.exports=function(t,e,n){var o=void 0===n;switch(e.length){case 0:return o?t():t.call(n);case 1:return o?t(e[0]):t.call(n,e[0]);case 2:return o?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return o?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return o?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){"use strict";var o=n(78),r=n(40),i=n(48),a={};n(32)(a,n(10)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(a,{next:r(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var o=n(39),r=n(23);t.exports=function(t,e){for(var n,i=r(t),a=o(i),s=a.length,l=0;s>l;)if(i[n=a[l++]]===e)return n}},function(t,e,n){var o=n(13),r=n(84).set,i=o.MutationObserver||o.WebKitMutationObserver,a=o.process,s=o.Promise,l="process"==n(38)(a);t.exports=function(){var t,e,n,u=function(){var o,r;for(l&&(o=a.domain)&&o.exit();t;){r=t.fn,t=t.next;try{r()}catch(o){throw t?n():e=void 0,o}}e=void 0,o&&o.enter()};if(l)n=function(){a.nextTick(u)};else if(i){var c=!0,h=document.createTextNode("");new i(u).observe(h,{characterData:!0}),n=function(){h.data=c=!c}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(u)}}else n=function(){r.call(o,u)};return function(o){var r={fn:o,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},function(t,e,n){var o=n(19),r=n(18),i=n(39);t.exports=n(21)?Object.defineProperties:function(t,e){r(t);for(var n,a=i(e),s=a.length,l=0;s>l;)o.f(t,n=a[l++],e[n]);return t}},function(t,e,n){var o=n(23),r=n(80).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return r(t)}catch(t){return a.slice()}}(t):r(o(t))}},function(t,e,n){var o=n(22),r=n(41),i=n(81)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),o(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,n){var o=n(80),r=n(58),i=n(18),a=n(13).Reflect;t.exports=a&&a.ownKeys||function(t){var e=o.f(i(t)),n=r.f;return n?e.concat(n(t)):e}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var o=n(18),r=n(71),i=n(10)("species");t.exports=function(t,e){var n,a=o(t).constructor;return void 0===a||null==(n=o(a)[i])?e:r(n)}},function(t,e,n){var o=n(61),r=n(30);t.exports=function(t){return function(e,n){var i,a,s=String(r(e)),l=o(n),u=s.length;return l<0||l>=u?t?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===u||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):i:t?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(t,e,n){var o=n(13),r=n(44),i=n(57),a=n(175),s=n(19).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=i?{}:o.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){t.exports=n},function(t,e){t.exports=o}])},t.exports=o(n(3),n(355),n(417),n(418))}}]);